import{j as e,A as y,t as ee,l as He,f as Ae,C as o,g as Le,k as Ee,b7 as lt,b8 as at,b9 as ct,ba as dt,bb as xt,bc as pt,a as te,m as M,M as Pe,U as gt,p as ut,bd as ft,o as Ce,be as we,a5 as ke,bf as ht,_ as yt,a7 as mt,bg as bt,bh as jt,W as vt,aW as _}from"./index-xkh0JCWl.js";import{r as l}from"./recharts-Bg6K2Pzo.js";import{e as Te,f as De}from"./index-BQD0zmnA.js";import{m as St}from"./TrainingLogHelper-DPgLquNK.js";import{M as Ct}from"./MyAreaChart-B7GDShnh.js";import{V as wt}from"./TrainingAnaliticsTabs-D5QkycPD.js";class kt{static muscleIconsSrc=[{0:"images/BodyIcons/M0.png",1:"images/BodyIcons/M1.png",2:"images/BodyIcons/M2.png",3:"images/BodyIcons/M3.png"},{0:"images/BodyIcons/M0f.png",1:"images/BodyIcons/M1f.png",2:"images/BodyIcons/M2f.png",3:"images/BodyIcons/M3f.png"}];static get(s,i,n){const d=n==="light"?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.1)";return e.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"12px",backgroundColor:d,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",flexShrink:0},children:e.jsx("img",{src:this.muscleIconsSrc[y.pData.gender][s],style:{width:"32px",height:"32px",objectFit:"contain"},alt:""})})}}const Me={gain:{id:0,titleRu:"–ù–∞–±–æ—Ä –º–∞—Å—Å—ã",titleEn:"Muscle Gain",kcalMinFactor:1.1,kcalMaxFactor:1.15,macrosRu:"1.8‚Äì2.2 –≥ / 1 –≥ / 4‚Äì6 –≥",macrosEn:"1.8‚Äì2.2 g / 1 g / 4‚Äì6 g"},strength:{id:1,titleRu:"–°–∏–ª–∞",titleEn:"Strength",kcalMinFactor:1.1,kcalMaxFactor:1.15,macrosRu:"1.8‚Äì2.2 –≥ / 1 –≥ / 4‚Äì6 –≥",macrosEn:"1.8‚Äì2.2 g / 1 g / 4‚Äì6 g"},cut:{id:2,titleRu:"–ü–æ—Ö—É–¥–µ–Ω–∏–µ",titleEn:"Weight Loss",kcalMinFactor:.85,kcalMaxFactor:.9,macrosRu:"1.6‚Äì2 –≥ / 0.8 –≥ / 2‚Äì3 –≥",macrosEn:"1.6‚Äì2 g / 0.8 g / 2‚Äì3 g"},maintain:{id:3,titleRu:"–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ",titleEn:"Maintenance",kcalMinFactor:1,kcalMaxFactor:1,macrosRu:"1.2‚Äì1.6 –≥ / 1 –≥ / 4 –≥",macrosEn:"1.2‚Äì1.6 g / 1 g / 4 g"}},Tt=({bmi:t,trains:s})=>{const[i,n]=l.useState("dark"),[r,d]=l.useState(y.prefs[0]),[c,g]=l.useState(y.prefs[4]),[p,w]=l.useState(y.pData.goal),h=l.useMemo(()=>Mt(t,s),[t,s]);l.useEffect(()=>{const D=ee.subscribe(n),W=He.subscribe(H=>d(H==="ru"?0:1)),$=Ae.subscribe(g);return()=>{D.unsubscribe(),W.unsubscribe(),$.unsubscribe()}},[]);const x=l.useMemo(()=>Object.values(Me).find(D=>D.id===p)??Me.gain,[p]),u=r===0,j=i==="light"||i==="speciallight",k=Math.round(h*x.kcalMinFactor),F=Math.round(h*x.kcalMaxFactor),B=x.kcalMinFactor===x.kcalMaxFactor?`${k}`:`${k} - ${F}`,S=(u?x.macrosRu:x.macrosEn).split("/").map(D=>D.trim()),I=S[0]||"-",C=S[1]||"-",m=S[2]||"-",f=Bt(i,c,j);return e.jsxs("div",{style:f.container,children:[e.jsx("div",{style:f.headerTitle,children:u?"–ü–õ–ê–ù –ü–ò–¢–ê–ù–ò–Ø":"NUTRITION PLAN"}),e.jsxs("div",{style:f.card,children:[e.jsxs("div",{style:f.topSection,children:[e.jsx("div",{style:f.goalBadge,children:u?x.titleRu:x.titleEn}),e.jsxs("div",{style:f.calorieContainer,children:[e.jsx(Le,{style:{color:"#FF6B6B",fontSize:"24px",marginBottom:"8px"}}),e.jsx("div",{style:f.calorieValue,children:B}),e.jsx("div",{style:f.calorieLabel,children:u?"–∫–∫–∞–ª / –¥–µ–Ω—å":"kcal / day"})]})]}),e.jsx("div",{style:f.divider}),e.jsxs("div",{style:f.macrosGrid,children:[e.jsx(le,{label:u?"–ë–µ–ª–∫–∏":"Protein",value:I,color:"#4FACFE",theme:i,isLight:j}),e.jsx(le,{label:u?"–ñ–∏—Ä—ã":"Fats",value:C,color:"#FF9F43",theme:i,isLight:j}),e.jsx(le,{label:u?"–£–≥–ª–µ–≤–æ–¥—ã":"Carbs",value:m,color:"#2ECC71",theme:i,isLight:j})]})]}),e.jsx(Dt,{theme:i,langIndex:r,fSize:c})]})},le=({label:t,value:s,color:i,theme:n,isLight:r})=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"10px",borderRadius:"16px",backgroundColor:r?"rgba(0,0,0,0.03)":"rgba(255,255,255,0.05)",flex:1},children:[e.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:i,textTransform:"uppercase",marginBottom:"4px"},children:t}),e.jsx("div",{style:{fontSize:"14px",fontWeight:"700",color:o.get("mainText",n),textAlign:"center",lineHeight:"1.2"},children:s})]}),Dt=({theme:t,langIndex:s,fSize:i})=>{const n=s===0;return e.jsxs("div",{style:{display:"flex",gap:"8px",padding:"15px 20px",alignItems:"start",opacity:.6,marginTop:"5px"},children:[e.jsx(Ee,{style:{marginTop:"2px",minWidth:"14px"},color:o.get("subText",t),size:12}),e.jsx("div",{style:{fontSize:"11px",color:o.get("subText",t),lineHeight:"1.4"},children:n?"–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–æ—Å—è—Ç –æ–∑–Ω–∞–∫–æ–º–∏—Ç–µ–ª—å–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä. –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π –ø—Ä–æ–∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä—É–π—Ç–µ—Å—å —Å –≤—Ä–∞—á–æ–º.":"Recommendations are for informational purposes only. Consult a doctor if you have medical conditions."})]})},Mt=(t,s=3)=>{const i=Math.min(7,Math.max(0,s));let n;return i===0?n=1.2:i<=2?n=1.375:i<=4?n=1.55:i===5?n=1.725:n=1.9,t*n},Bt=(t,s,i)=>({container:{width:"100%",maxWidth:"600px",margin:"0 auto",marginTop:"20px",display:"flex",flexDirection:"column"},headerTitle:{fontSize:"12px",fontWeight:"800",color:o.get("subText",t),textTransform:"uppercase",letterSpacing:"1px",marginLeft:"20px",marginBottom:"10px",opacity:.8},card:{backgroundColor:i?"rgba(255,255,255,0.7)":"rgba(30,30,30,0.6)",backdropFilter:"blur(12px)",borderRadius:"24px",border:`1px solid ${i?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.1)"}`,padding:"20px",boxShadow:i?"0 10px 30px rgba(0,0,0,0.05)":"0 10px 30px rgba(0,0,0,0.2)",display:"flex",flexDirection:"column"},topSection:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"20px"},goalBadge:{padding:"6px 12px",borderRadius:"20px",backgroundColor:o.get("currentDateBorder",t),color:"#FFF",fontSize:"12px",fontWeight:"bold",textTransform:"uppercase",marginBottom:"15px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},calorieContainer:{display:"flex",flexDirection:"column",alignItems:"center"},calorieValue:{fontSize:"36px",fontWeight:"900",color:o.get("mainText",t),lineHeight:"1",letterSpacing:"-1px"},calorieLabel:{fontSize:"14px",color:o.get("subText",t),fontWeight:"500",marginTop:"4px"},divider:{width:"100%",height:"1px",backgroundColor:o.get("border",t),marginBottom:"20px",opacity:.5},macrosGrid:{display:"flex",justifyContent:"space-between",gap:"10px"}}),It=[["images/BodyIcons/SideS.png","images/BodyIcons/SideSf.png"],["images/BodyIcons/Side.png","images/BodyIcons/Sidef.png"],["images/BodyIcons/SideL.png","images/BodyIcons/SideLf.png"],["images/BodyIcons/SideXL.png","images/BodyIcons/SideXLf.png"]],Rt=[["–ù–∞–±–æ—Ä –º–∞—Å—Å—ã","Mass gain"],["–°–∏–ª–∞","Strength"],["–ñ–∏—Ä–æ—Å–∂–∏–≥–∞–Ω–∏–µ","Weight loss"],["–ó–¥–æ—Ä–æ–≤—å–µ","Health"]],Ft=({theme:t,langIndex:s,fSize:i,data:n,filled:r,height:d,age:c,gender:g,goal:p,wrist:w})=>{const[h,x]=l.useState(!1),u=t==="light"||t==="speciallight",j=u?"rgba(255,255,255,0.7)":"rgba(30,30,30,0.6)",k=u?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.1)",F=o.get("mainText",t),B=o.get("subText",t);if(!r)return e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"60vh",opacity:.6},children:[e.jsx(lt,{size:60,color:B}),e.jsx("div",{style:{...ge(t,i).subtext,textAlign:"center",marginTop:"20px",maxWidth:"80%"},children:s===0?"–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏":"Fill personal data to get statistics"})]});const T=At(t,n,d),S=n[0].length>0?n[0][n[0].length-1].value:0;return e.jsxs("div",{style:{width:"100%",maxWidth:"600px",display:"flex",flexDirection:"column",gap:"15px",padding:"0 10px 100px 10px"},children:[e.jsxs("div",{style:{display:"flex",gap:"15px",height:"220px"},children:[e.jsxs("div",{style:{flex:"0 0 35%",backgroundColor:j,borderRadius:"24px",border:`1px solid ${k}`,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",position:"relative"},children:[e.jsx("img",{src:It[Gt(n,d)][g],alt:"Body Type",style:{height:"90%",objectFit:"contain",opacity:.9,filter:u?"none":"brightness(0.9)"}}),e.jsx("div",{onClick:()=>x(!0),style:{position:"absolute",top:10,right:10,cursor:"pointer",opacity:.6},children:e.jsx(Ee,{color:F})})]}),e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:j,borderRadius:"24px",border:`1px solid ${k}`,padding:"20px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"12px",color:B,textTransform:"uppercase",fontWeight:"bold",marginBottom:"5px"},children:s===0?"–ü—Ä–æ—Ñ–∏–ª—å":"Profile"}),e.jsxs("div",{style:{fontSize:"28px",fontWeight:"800",color:F,lineHeight:"1.1"},children:[c," ",e.jsx("span",{style:{fontSize:"14px",fontWeight:"500"},children:s===0?"–ª–µ—Ç":"y.o."})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsx(Be,{icon:e.jsx(at,{}),label:s===0?"–†–æ—Å—Ç":"Height",value:`${d} cm`,theme:t}),e.jsx(Be,{icon:e.jsx(ct,{}),label:s===0?"–¶–µ–ª—å":"Goal",value:Rt[p][s],theme:t,highlight:!0})]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[e.jsx(q,{title:s===0?"–í–µ—Å":"Weight",value:K(n,0,s),icon:e.jsx(dt,{}),color:o.get("currentDateBorder",t),theme:t}),e.jsx(q,{title:s===0?"–ñ–∏—Ä":"Body Fat",value:Pt(n,d,c,g),icon:e.jsx(xt,{}),color:"#FF9F43",theme:t}),e.jsx(q,{title:s===0?"–ò–ú–¢":"BMI",value:Et(n,s,d),icon:e.jsx(pt,{}),color:T,theme:t}),e.jsx(q,{title:s===0?"–ú–µ—Ç–∞–±–æ–ª–∏–∑–º":"Metabolism",value:$t(n,s,d,c,g),icon:e.jsx(Le,{}),color:"#FF6B6B",theme:t})]}),e.jsxs("div",{style:{backgroundColor:j,borderRadius:"24px",border:`1px solid ${k}`,padding:"20px"},children:[e.jsx(Re,{title:s===0?"–ê–Ω–∞–ª–∏–∑ –¢–µ–ª–∞":"Body Analysis",theme:t}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px",marginTop:"15px"},children:[e.jsx(Ie,{label:s===0?"–¢–∏–ø —Ç–µ–ª–∞":"Body Type",value:Lt(Fe(d,w,g),s),theme:t}),e.jsx(Ie,{label:s===0?"–ò–¥–µ–∞–ª—å–Ω—ã–π –≤–µ—Å":"Ideal Weight",value:`${Wt(d,g,Fe(d,w,g)).toFixed(1)} ${s===0?"–∫–≥":"kg"}`,theme:t}),e.jsx("div",{style:{height:"1px",backgroundColor:k,margin:"5px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(Nt,{theme:t,langIndex:s,data:n}),e.jsx(Ot,{theme:t,langIndex:s,data:n,height:d})]})]})]}),e.jsxs("div",{style:{backgroundColor:j,borderRadius:"24px",border:`1px solid ${k}`,padding:"20px"},children:[e.jsx(Re,{title:s===0?"–û–±—Ö–≤–∞—Ç—ã":"Measurements",theme:t}),e.jsxs("div",{style:{marginTop:"15px",display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px"},children:[e.jsx(ae,{label:s===0?"–¢–∞–ª–∏—è":"Waist",value:K(n,1,s),theme:t}),e.jsx(ae,{label:s===0?"–ì—Ä—É–¥—å":"Chest",value:K(n,3,s),theme:t}),e.jsx(ae,{label:s===0?"–ë–µ–¥—Ä–∞":"Hips",value:K(n,4,s),theme:t})]})]}),e.jsx(te,{children:h&&e.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,zIndex:9e3,backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},onClick:()=>x(!1),children:e.jsxs(M.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},style:{backgroundColor:o.get("background",t),borderRadius:"30px",padding:"30px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 20px 50px rgba(0,0,0,0.5)"},onClick:I=>I.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsx("h3",{style:{margin:0,color:F},children:s===0?"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è":"Information"}),e.jsx(Pe,{size:24,color:B,onClick:()=>x(!1),style:{cursor:"pointer"}})]}),e.jsx("div",{style:{whiteSpace:"pre-wrap",lineHeight:"1.6",fontSize:i===0?"14px":"16px",color:F},children:Vt(s)})]})})}),r&&n[0].length>0&&e.jsx(Tt,{bmi:$e(S,d,c,g),trains:St()})]})},Be=({icon:t,label:s,value:i,theme:n,highlight:r})=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("div",{style:{color:r?o.get("currentDateBorder",n):o.get("subText",n),fontSize:"14px"},children:t}),e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("span",{style:{fontSize:"10px",color:o.get("subText",n),textTransform:"uppercase"},children:s}),e.jsx("span",{style:{fontSize:"14px",fontWeight:"700",color:o.get("mainText",n)},children:i})]})]}),q=({title:t,value:s,icon:i,color:n,theme:r})=>e.jsxs("div",{style:{backgroundColor:r==="light"?"rgba(255,255,255,0.7)":"rgba(30,30,30,0.6)",borderRadius:"20px",padding:"15px",border:`1px solid ${r==="light"?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.1)"}`,display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"100px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsx("span",{style:{fontSize:"12px",fontWeight:"700",color:o.get("subText",r)},children:t}),e.jsx("div",{style:{backgroundColor:`${n}20`,padding:"6px",borderRadius:"10px",color:n},children:i})]}),e.jsx("div",{style:{fontSize:"18px",fontWeight:"800",color:o.get("mainText",r)},children:s})]}),Ie=({label:t,value:s,theme:i})=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"14px",color:o.get("subText",i)},children:t}),e.jsx("span",{style:{fontSize:"15px",fontWeight:"600",color:o.get("mainText",i)},children:s})]}),Re=({title:t,theme:s})=>e.jsx("div",{style:{fontSize:"13px",fontWeight:"800",color:o.get("subText",s),textTransform:"uppercase",letterSpacing:"1px",marginBottom:"10px"},children:t}),ae=({label:t,value:s,theme:i})=>e.jsxs("div",{style:{backgroundColor:i==="light"?"rgba(0,0,0,0.03)":"rgba(255,255,255,0.05)",borderRadius:"14px",padding:"10px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"11px",color:o.get("subText",i),marginBottom:"4px"},children:t}),e.jsx("div",{style:{fontSize:"15px",fontWeight:"700",color:o.get("mainText",i)},children:s})]}),ge=(t,s)=>({text:{textAlign:"left",fontSize:s===0?"13px":"15px",color:o.get("mainText",t)},subtext:{textAlign:"left",fontSize:s===0?"11px":"13px",color:o.get("subText",t)}}),se=(t,s)=>t<=0||s<=0?null:t/Math.pow(s/100,2),Fe=(t,s,i)=>{if(!t||!s)return"medium";const n=typeof i=="number"?i===0?"male":"female":i,r=s,d=t/2.54;return n==="male"?d>65?r<6.5*2.54?"small":r<=7.5*2.54?"medium":"large":d>=62?r<6*2.54?"small":r<=6.5*2.54?"medium":"large":r<5.5*2.54?"small":r<=6*2.54?"medium":"large":r<5.5*2.54?"small":r<=6*2.54?"medium":"large"},Wt=(t,s,i="medium")=>{const n=t/2.54;let r;return s===0?r=50+2.3*(n-60):r=45.5+2.3*(n-60),i==="small"?r*=.9:i==="large"&&(r*=1.1),Math.max(r,30)},zt=(t,s,i)=>{if(t<=0||s<18)return null;const n=i==="male"?1:0,r=1.2*t+.23*s-10.8*n-5.4;return Math.max(0,Math.min(100,r))},$e=(t,s,i,n)=>t<=0||s<=0||i<=0?null:n==="male"?10*t+6.25*s-5*i+5:10*t+6.25*s-5*i-161,Ht=(t,s)=>t<16?s===0?"–≤—ã—Ä–∞–∂–µ–Ω–Ω—ã–π –¥–µ—Ñ–∏—Ü–∏—Ç –º–∞—Å—Å—ã":"severe thinness":t<17?s===0?"—É–º–µ—Ä–µ–Ω–Ω—ã–π –¥–µ—Ñ–∏—Ü–∏—Ç –º–∞—Å—Å—ã":"moderate thinness":t<18.5?s===0?"–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –º–∞—Å—Å–∞":"mild thinness":t<25?s===0?"–Ω–æ—Ä–º–∞":"normal":t<30?s===0?"–∏–∑–±—ã—Ç–æ—á–Ω–∞—è –º–∞—Å—Å–∞":"overweight":t<35?s===0?"–æ–∂–∏—Ä–µ–Ω–∏–µ I —Å—Ç–µ–ø–µ–Ω–∏":"obesity class I":t<40?s===0?"–æ–∂–∏—Ä–µ–Ω–∏–µ II —Å—Ç–µ–ø–µ–Ω–∏":"obesity class II":s===0?"–æ–∂–∏—Ä–µ–Ω–∏–µ III —Å—Ç–µ–ø–µ–Ω–∏":"obesity class III",At=(t,s,i)=>{const n=se(s[0][s[0].length-1].value,i);return n>18.5&&n<25?o.get("light",t):o.get("heavy",t)},Lt=(t,s)=>{switch(t){case"small":return s===0?"–∞—Å—Ç–µ–Ω–∏–∫":"asthenic";case"medium":return s===0?"–Ω–æ—Ä–º–æ—Å—Ç–µ–Ω–∏–∫":"normosthenic";case"large":return s===0?"–≥–∏–ø–µ—Ä—Å—Ç–µ–Ω–∏–∫":"hypersthenic";default:return s===0?"–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ":"unknown"}},K=(t,s,i)=>{if(t[s].length===0)return"-";const n=s<1?i===0?" –∫–≥":" kg":i===0?" —Å–º":" sm";return t[s][t[s].length-1].value.toFixed(1)+n},Et=(t,s,i)=>{if(t[0][t[0].length-1].value===null)return"-";const n=se(t[0][t[0].length-1].value,i);return n.toFixed(1)+" "+Ht(n,s)},Pt=(t,s,i,n)=>t[0][t[0].length-1].value===null?"-":zt(se(t[0][t[0].length-1].value,s),i,n).toFixed(),$t=(t,s,i,n,r)=>t[0][t[0].length-1].value===null?"-":$e(t[0][t[0].length-1].value,i,n,r).toFixed()+(s===0?" –∫–∫–∞–ª":" kcal"),Gt=(t,s)=>{if(t[0][t[0].length-1].value===null)return 1;const i=se(t[0][t[0].length-1].value,s);return i<18.5?0:i<25?1:i<35?2:3},Nt=({theme:t,langIndex:s,data:i})=>{const n=i[1]?.[i[1]?.length-1],r=i[4]?.[i[4]?.length-1];if(!n||!r)return null;const d=n.value,c=r.value,g=d/c,p=y.pData.gender===0;let w="normal",h=s===0?"–ù–æ—Ä–º–∞":"Normal";p?g>=.9&&g<1?w="elevated":g>=1&&(w="high",h=s===0?"–ü–æ–≤—ã—à–µ–Ω–Ω—ã–π —Ä–∏—Å–∫":"High risk"):g>=.85&&g<.9?w="elevated":g>=.9&&(w="high",h=s===0?"–ü–æ–≤—ã—à–µ–Ω–Ω—ã–π —Ä–∏—Å–∫":"High risk");const x=w==="normal"?o.get("difficulty0",t):o.get("difficulty5",t);return e.jsx("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",borderRadius:"5px",minWidth:"45%"},children:e.jsxs("span",{style:{...ge(t,!1).text,color:x,fontSize:"12px"},children:["WHR: ",g.toFixed(2),h]})})},Ot=({theme:t,langIndex:s,data:i,height:n})=>{const r=i[1]?.[i[1]?.length-1];if(!r)return null;const c=r.value/n;let g="normal";c>=.5&&c<.6?g="elevated":c>=.6&&(g="high");const p=g==="normal"?o.get("difficulty0",t):o.get("difficulty5",t);return e.jsx("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",borderRadius:"5px",minWidth:"45%"},children:e.jsxs("span",{style:{...ge(t,!1).text,color:p,fontSize:"12px"},children:["WHtR: ",c.toFixed(2)]})})},Vt=t=>t===0?`‚Ä¢ **–ò–ú–¢ (–ò–Ω–¥–µ–∫—Å –º–∞—Å—Å—ã —Ç–µ–ª–∞)** ‚Äî —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –≤–µ—Å–∞ –∏ —Ä–æ—Å—Ç–∞.  
–ù–æ—Ä–º–∞: 18.5‚Äì24.9. –í—ã—à–µ 25 ‚Äî –∏–∑–±—ã—Ç–æ—á–Ω—ã–π –≤–µ—Å, –≤—ã—à–µ 30 ‚Äî –æ–∂–∏—Ä–µ–Ω–∏–µ. –ò–ú–¢ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –º—ã—à–µ—á–Ω—É—é –º–∞—Å—Å—É.  

‚Ä¢ **WHR (–¢–∞–ª–∏—è‚Äì–±–µ–¥—Ä–∞)** ‚Äî –æ–∫—Ä—É–∂–Ω–æ—Å—Ç—å —Ç–∞–ª–∏–∏ √∑ –æ–∫—Ä—É–∂–Ω–æ—Å—Ç—å –±—ë–¥–µ—Ä.  
–£ –º—É–∂—á–∏–Ω: <0.95 ‚Äî –Ω–∏–∑–∫–∏–π —Ä–∏—Å–∫, >1.0 ‚Äî –≤—ã—Å–æ–∫–∏–π.  
–£ –∂–µ–Ω—â–∏–Ω: <0.80 ‚Äî –Ω–∏–∑–∫–∏–π —Ä–∏—Å–∫, >0.85 ‚Äî –≤—ã—Å–æ–∫–∏–π.  
–í—ã—Å–æ–∫–∏–π WHR —Å–≤—è–∑–∞–Ω —Å —Ä–∏—Å–∫–æ–º —Å–µ—Ä–¥–µ—á–Ω–æ-—Å–æ—Å—É–¥–∏—Å—Ç—ã—Ö –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π –∏ –¥–∏–∞–±–µ—Ç–∞.  

‚Ä¢ **WHtR (–¢–∞–ª–∏—è‚Äì—Ä–æ—Å—Ç)** ‚Äî –æ–∫—Ä—É–∂–Ω–æ—Å—Ç—å —Ç–∞–ª–∏–∏ √∑ —Ä–æ—Å—Ç.  
–ó–¥–æ—Ä–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å: <0.5. –ó–Ω–∞—á–µ–Ω–∏–µ ‚â•0.5 —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø–æ–≤—ã—à–µ–Ω–Ω—ã–π —Ä–∏—Å–∫ —Ö—Ä–æ–Ω–∏—á–µ—Å–∫–∏—Ö –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –ò–ú–¢.  

‚Ä¢ **–ë–∞–∑–∞–ª—å–Ω—ã–π –º–µ—Ç–∞–±–æ–ª–∏–∑–º (BMR)** ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–ª–æ—Ä–∏–π, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–º—É –≤ –ø–æ–∫–æ–µ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.  
–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ú–∏—Ñ—Ñ–ª–∏–Ω–∞‚Äì–°–∞–Ω –ñ–µ–æ—Ä–∞) —Å —É—á—ë—Ç–æ–º –≤–æ–∑—Ä–∞—Å—Ç–∞, –ø–æ–ª–∞, –≤–µ—Å–∞ –∏ —Ä–æ—Å—Ç–∞.  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –æ—Å–Ω–æ–≤–∞ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —Å—É—Ç–æ—á–Ω—ã—Ö —ç–Ω–µ—Ä–≥–æ–∑–∞—Ç—Ä–∞—Ç.`:`‚Ä¢ **BMI (Body Mass Index)** ‚Äî weight-to-height ratio.  
Normal range: 18.5‚Äì24.9. ‚â•25 indicates overweight, ‚â•30 indicates obesity. BMI does not account for muscle mass.  

‚Ä¢ **WHR (Waist-to-Hip Ratio)** ‚Äî waist circumference √∑ hip circumference.  
Men: <0.95 = low risk, >1.0 = high risk.  
Women: <0.80 = low risk, >0.85 = high risk.  
High WHR is linked to increased risk of heart disease and type 2 diabetes.  

‚Ä¢ **WHtR (Waist-to-Height Ratio)** ‚Äî waist circumference √∑ height.  
Healthy target: <0.5. A value ‚â•0.5 suggests elevated risk of chronic diseases, regardless of BMI.  

‚Ä¢ **Basal Metabolic Rate (BMR)** ‚Äî calories your body needs at rest to maintain vital functions.  
Calculated using equations (e.g., Mifflin-St Jeor) based on age, sex, weight, and height.  
Serves as the foundation for estimating daily calorie needs.`,Yt=({startValue:t=50,endValue:s=70,mediumValue:i=60,unit:n="kg",langIndex:r=0,goal:d=0,size:c=220,textColor:g="#fff",linesColor:p="#333",minColor:w="#e74c3c",maxColor:h="#2ecc71",mediumColor:x="#3498db"})=>{const u=s-t,j=Math.abs(u),k=u===0,F=d===0?u>0:u<0,B=u>=0?"+":"‚àí",T=k?g:F?h:w,S=10,I=12,C=c/2-S,m=C-S-I,f=m-S-I,D=2*Math.PI*C,W=2*Math.PI*m,$=2*Math.PI*f,H=Math.max(t,i,s)*1.1||1,N=(E,O,V)=>({hidden:{strokeDashoffset:E},visible:{strokeDashoffset:E*(1-O/V),transition:{duration:1.5,ease:"easeOut"}}});return e.jsxs("div",{style:{position:"relative",width:c,height:c,display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsxs("svg",{width:c,height:c,viewBox:`0 0 ${c} ${c}`,style:{transform:"rotate(-90deg)"},children:[e.jsx("circle",{cx:c/2,cy:c/2,r:C,fill:"none",stroke:p,strokeWidth:S,strokeLinecap:"round",opacity:.3}),e.jsx("circle",{cx:c/2,cy:c/2,r:m,fill:"none",stroke:p,strokeWidth:S,strokeLinecap:"round",opacity:.3}),e.jsx("circle",{cx:c/2,cy:c/2,r:f,fill:"none",stroke:p,strokeWidth:S,strokeLinecap:"round",opacity:.3}),e.jsx(M.circle,{cx:c/2,cy:c/2,r:C,fill:"none",stroke:T,strokeWidth:S,strokeLinecap:"round",strokeDasharray:D,variants:N(D,s,H),initial:"hidden",animate:"visible"}),e.jsx(M.circle,{cx:c/2,cy:c/2,r:m,fill:"none",stroke:x,strokeWidth:S,strokeLinecap:"round",strokeDasharray:W,variants:N(W,i,H),initial:"hidden",animate:"visible"}),e.jsx(M.circle,{cx:c/2,cy:c/2,r:f,fill:"none",stroke:g,strokeWidth:S,strokeLinecap:"round",opacity:.5,strokeDasharray:$,variants:N($,t,H),initial:"hidden",animate:"visible"})]}),e.jsxs("div",{style:{position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:"32px",fontWeight:"900",color:T,lineHeight:"1"},children:[B,j.toFixed(1),e.jsx("span",{style:{fontSize:"14px",fontWeight:"600",marginLeft:"2px"},children:n})]}),e.jsx("div",{style:{fontSize:"11px",color:g,opacity:.5,textTransform:"uppercase",letterSpacing:"1px",marginTop:"4px"},children:r===0?"–ò–∑–º–µ–Ω–µ–Ω–∏–µ":"Change"}),e.jsxs("div",{style:{display:"flex",gap:"15px",marginTop:"15px"},children:[e.jsx(ce,{label:r===0?"–ù–∞—á–∞–ª–æ":"Start",val:t,color:g,opacity:.5}),e.jsx(ce,{label:r===0?"–°—Ä–µ–¥–Ω–µ–µ":"Avg",val:i,color:x}),e.jsx(ce,{label:r===0?"–ö–æ–Ω–µ—Ü":"End",val:s,color:T})]})]})]})},ce=({label:t,val:s,color:i,opacity:n=1})=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:i,opacity:n,marginBottom:"2px"}}),e.jsx("span",{style:{fontSize:"12px",fontWeight:"700",color:i,opacity:n},children:s.toFixed(0)})]}),Ut=[["–í–µ—Å","Weight"],["–¢–∞–ª–∏—è","Waist"],["–ë–∏—Ü–µ–ø—Å","Biceps"],["–ì—Ä—É–¥—å","Chest"],["–ë—ë–¥—Ä–∞","Hips"]],Jt=[["–ú–µ—Å—è—Ü","Month"],["–ü–æ–ª–≥–æ–¥–∞","6 Months"],["–ì–æ–¥","Year"]],Xt=[28,180,360],_t=({theme:t,langIndex:s,fSize:i,data:n})=>{const[r,d]=l.useState(0),[c,g]=l.useState(0),[p,w]=l.useState(y.pData.goal);l.useEffect(()=>{w(y.pData.goal)},[y.pData.goal]);const x=(()=>{const C=n[r]||[];if(C.length===0)return[];const m=new Date,f=new Date(m);return f.setDate(m.getDate()-Xt[c]),C.filter(D=>new Date(D.date)>=f).sort((D,W)=>new Date(D.date)-new Date(W.date))})(),u=qt(x),j=x.length>0?x[x.length-1].value:0,k=x.length>0?x[0].value:j,F=x.length>0?x.reduce((C,m)=>C+m.value,0)/x.length:j,B=C=>C===0?"kg":"cm",T=t==="light"||t==="speciallight",S=T?"rgba(255,255,255,0.7)":"rgba(30,30,30,0.6)",I=T?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.1)";return e.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:"20px",paddingBottom:"50px"},children:[e.jsxs("div",{style:{width:"94%",height:"280px",backgroundColor:S,borderRadius:"24px",border:`1px solid ${I}`,padding:"15px",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("div",{style:{width:"100%",overflowX:"auto",display:"flex",gap:"8px",paddingBottom:"10px",scrollbarWidth:"none"},children:Ut.map((C,m)=>{const f=r===m;return e.jsx(M.div,{onClick:()=>d(m),whileTap:{scale:.95},style:{padding:"6px 14px",borderRadius:"20px",backgroundColor:f?o.get("currentDateBorder",t):T?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.05)",color:f?"#fff":o.get("subText",t),fontSize:i===0?"12px":"14px",fontWeight:f?"600":"500",whiteSpace:"nowrap",cursor:"pointer",transition:"all 0.2s"},children:C[s]},m)})}),e.jsx("div",{style:{flex:1,width:"100%",marginTop:"5px"},children:e.jsx(Ct,{data:u,fillColor:o.get(Qt(p,k,j),t),textColor:o.get("subText",t),linesColor:o.get("border",t),backgroundColor:"transparent"})})]}),e.jsxs("div",{style:{width:"94%",display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:[e.jsx("div",{style:{display:"flex",backgroundColor:T?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.05)",padding:"4px",borderRadius:"16px",width:"100%",maxWidth:"400px"},children:Jt.map((C,m)=>{const f=c===m;return e.jsxs("div",{onClick:()=>g(m),style:{flex:1,position:"relative",cursor:"pointer",textAlign:"center",padding:"8px 0"},children:[f&&e.jsx(M.div,{layoutId:"periodTab",style:{position:"absolute",inset:0,backgroundColor:T?"#fff":"rgba(255,255,255,0.1)",borderRadius:"12px",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"}}),e.jsx("span",{style:{position:"relative",zIndex:1,fontSize:"13px",fontWeight:f?"700":"500",color:f?o.get("mainText",t):o.get("subText",t)},children:C[s]})]},m)})}),e.jsx("div",{style:{padding:"20px",borderRadius:"30px",backgroundColor:S,border:`1px solid ${I}`,display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(Yt,{startValue:k,endValue:j,mediumValue:F,unit:B(r),langIndex:s,goal:p===2?1:0,size:220,theme:t,textColor:o.get("mainText",t),linesColor:T?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.05)",minColor:"#FF453A",maxColor:"#30D158",mediumColor:"#0A84FF"})})]})]})};function qt(t){return t.map(s=>({date:Kt(s.date),weight:Math.round(s.value)}))}function Kt(t){const s=t.split("-");return`${s[2]}.${s[1]}`}const Qt=(t,s,i)=>t===2?s<i?"regress":"areaChart":s<i?"areaChart":"regress",L=40,A=({items:t,value:s,onChange:i,theme:n,suffix:r="",width:d="60px"})=>{const c=l.useRef(null),[g,p]=l.useState(!1);l.useEffect(()=>{if(c.current){const h=t.findIndex(x=>x===s);h!==-1&&(c.current.scrollTop=h*L)}},[s,t]);const w=h=>{const x=h.target.scrollTop,u=Math.round(x/L),j=Math.max(0,Math.min(u,t.length-1));t[j]!==s&&i(t[j])};return e.jsxs("div",{style:{position:"relative",height:L*3,width:d,overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",top:L,left:0,right:0,height:L,borderRadius:"8px",backgroundColor:o.get("iconsHighlited",n),opacity:.15,pointerEvents:"none",zIndex:0}}),e.jsx("div",{ref:c,onScroll:w,style:{height:"100%",overflowY:"scroll",scrollSnapType:"y mandatory",scrollbarWidth:"none",msOverflowStyle:"none",paddingTop:L,paddingBottom:L,scrollBehavior:"smooth"},className:"no-scrollbar",children:t.map((h,x)=>e.jsxs("div",{style:{height:L,display:"flex",alignItems:"center",justifyContent:"center",scrollSnapAlign:"center",fontSize:h===s?"18px":"14px",fontWeight:h===s?"bold":"normal",color:h===s?o.get("mainText",n):o.get("subText",n),opacity:h===s?1:.4,transition:"all 0.2s ease",whiteSpace:"nowrap"},children:[h,r]},x))})]})},Zt=[["–í–µ—Å —Ç–µ–ª–∞","Body weight"],["–û–±—Ö–≤–∞—Ç —Ç–∞–ª–∏–∏","Waist circumference"],["–û–±—Ö–≤–∞—Ç –±–∏—Ü–µ–ø—Å–∞","Biceps circumference"],["–û–±—Ö–≤–∞—Ç –≥—Ä—É–¥–∏","Chest circumference"],["–û–±—Ö–≤–∞—Ç –±–µ–¥—Ä–∞","Hip circumference"]],Q=new Date,de=[["—è–Ω–≤","—Ñ–µ–≤","–º–∞—Ä—Ç","–∞–ø—Ä","–º–∞–π","–∏—é–Ω—å","–∏—é–ª—å","–∞–≤–≥","—Å–µ–Ω—Ç","–æ–∫—Ç","–Ω–æ—è–±","–¥–µ–∫"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]],We=[["–ù–∞–±–æ—Ä –º–∞—Å—Å—ã","Mass gain"],["–°–∏–ª–∞","Strength"],["–ñ–∏—Ä–æ—Å–∂–∏–≥–∞–Ω–∏–µ","Weight loss"],["–ó–¥–æ—Ä–æ–≤—å–µ","Health"],["",""],["",""]],P=(t,s,i=1)=>{const n=[];for(let r=t;r<=s;r+=i)n.push(i===1?r:parseFloat(r.toFixed(1)));return n},ls=()=>{const[t,s]=l.useState("dark"),[i,n]=l.useState(y.prefs[0]),[r,d]=l.useState(y.prefs[4]),[c,g]=l.useState(gt.hasPremium),[p,w]=l.useState(-2),[h,x]=l.useState(-1),[u,j]=l.useState(y.measurements),[k,F]=l.useState("volume"),[B,T]=l.useState(!1),[S,I]=l.useState(!1),[C,m]=l.useState(!1),[f,D]=l.useState(!1),[W,$]=l.useState(Q.getFullYear()),[H,N]=l.useState(Q.getMonth()),[E,O]=l.useState(Q.getDate()),[V,ue]=l.useState(70),[fe,he]=l.useState(0),[Ge,Ne]=l.useState(y.pData.filled),[Y,Oe]=l.useState(y.pData.age),[G,ye]=l.useState(y.pData.gender),[U,Ve]=l.useState(y.pData.height),[ie,Ye]=l.useState(y.pData.wrist),[J,Ue]=l.useState(y.pData.goal),Je=l.useMemo(()=>P(1950,Q.getFullYear()+1),[]),Xe=l.useMemo(()=>P(1,31),[]),_e=l.useMemo(()=>P(0,300),[]),qe=l.useMemo(()=>P(0,9),[]),Ke=l.useMemo(()=>P(10,100),[]),Qe=l.useMemo(()=>P(50,250),[]),Ze=l.useMemo(()=>P(10,40,.5),[]),ne=l.useMemo(()=>We.map(a=>a[i]),[i]);l.useEffect(()=>{const a=ee.subscribe(s),v=He.subscribe(X=>n(X==="ru"?0:1)),R=Ae.subscribe(d),z=ut.subscribe(g);return()=>{a.unsubscribe(),v.unsubscribe(),R.unsubscribe(),z.unsubscribe()}},[]);const oe=a=>a<0||a>=y.measurements.length?[]:y.measurements[a],me=()=>parseFloat(`${V}.${fe}`),be=a=>{const v=parseFloat(a)||0;ue(Math.floor(v)),he(Math.round(v%1*10))};l.useEffect(()=>{const a=new Date(W,H+1,0).getDate();E>a&&O(a)},[W,H]);const et=async()=>{if(p===-1)return;const a=new Date(W,H,E).toISOString().split("T")[0],v=me();if(v<=0)return;const R={date:a,value:v},z=[...oe(p)],X=z.findIndex(re=>re.date===a);X>=0?z[X]=R:z.push(R),z.sort((re,rt)=>new Date(re.date)-new Date(rt.date)),y.measurements[p]=z,await _(),T(!1),j(y.measurements)},tt=async()=>{if(p===-1||h===-1)return;const a=new Date(W,H,E).toISOString().split("T")[0],v=me(),R=[...oe(p)];R[h]={date:a,value:v},y.measurements[p]=R,await _(),I(!1),j(y.measurements)},st=async()=>{const a=[...oe(p)];a.splice(h,1),y.measurements[p]=a,await _(),m(!1),j(y.measurements)},it=a=>{a.stopPropagation();const v=u[p].length>0?u[p][u[p].length-1].value:0;be(v||0),T(!0)},nt=a=>{x(a),be(u[p][a].value),I(!0)},ot=async()=>{y.pData={filled:!0,age:Y,gender:G,height:U,wrist:ie,goal:J},await _(),Ne(!0),D(!1)},je=t==="light"||t==="speciallight",ve=je?"rgba(255,255,255,0.7)":"rgba(30,30,30,0.6)",Se=je?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.1)";return e.jsxs("div",{style:b(t).container,children:[e.jsx(wt,{type:1,theme:t,langIndex:i,activeTab:k,onChange:F}),k==="volume"&&e.jsxs("div",{style:{width:"100%",maxWidth:"600px",display:"flex",flexDirection:"column",gap:"12px",paddingBottom:"100px"},children:[e.jsxs(M.div,{layout:!0,style:{...b(t).card,backgroundColor:ve,border:`1px solid ${Se}`},children:[e.jsxs("div",{style:b(t).cardHeader,onClick:()=>w(a=>a===-1?-2:-1),children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("div",{style:b(t).iconBox,children:e.jsx(ft,{size:18,color:o.get("mainText",t)})}),e.jsx("span",{style:b(t,r).headerText,children:i===0?"–õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ":"Personal Data"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[p===-1&&e.jsx(Ce,{size:14,color:o.get("subText",t),onClick:a=>{a.stopPropagation(),D(!0)}}),p===-1?e.jsx(we,{size:12,color:o.get("subText",t)}):e.jsx(ke,{size:12,color:o.get("subText",t)})]})]}),e.jsx(te,{children:p===-1&&e.jsx(M.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},style:{overflow:"hidden"},children:e.jsxs("div",{style:{padding:"0 15px 20px",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[e.jsx(Z,{label:i===0?"–í–æ–∑—Ä–∞—Å—Ç":"Age",value:Y,sub:i===0?"–ª–µ—Ç":"y.o.",theme:t}),e.jsx(Z,{label:i===0?"–ü–æ–ª":"Gender",value:G===0?i===0?"–ú—É–∂":"Male":i===0?"–ñ–µ–Ω":"Fem",theme:t,icon:G===0?e.jsx(Te,{}):e.jsx(De,{})}),e.jsx(Z,{label:i===0?"–†–æ—Å—Ç":"Height",value:U,sub:"cm",theme:t}),e.jsx(Z,{label:i===0?"–¶–µ–ª—å":"Goal",value:We[J][i],theme:t,isWide:!0})]})})})]}),u.map((a,v)=>e.jsxs(M.div,{layout:!0,style:{...b(t).card,backgroundColor:ve,border:`1px solid ${Se}`},children:[e.jsxs("div",{style:b(t).cardHeader,onClick:()=>w(R=>R===v?-2:v),children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("div",{style:b(t).iconBox,children:v>0?kt.get(v-1,i,t):e.jsx(ht,{size:18,color:o.get("mainText",t)})}),e.jsx("span",{style:b(t,r).headerText,children:Zt[v][i]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("span",{style:b(t).valueBadge,children:a.length>0?Number.isInteger(a[a.length-1].value)?a[a.length-1].value:a[a.length-1].value.toFixed(1):"-"}),p===v?e.jsx(we,{size:12,color:o.get("subText",t)}):e.jsx(ke,{size:12,color:o.get("subText",t)})]})]}),e.jsx(te,{children:p===v&&e.jsx(M.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},style:{overflow:"hidden"},children:e.jsxs("div",{style:{padding:"0 15px 15px"},children:[e.jsxs(M.button,{whileTap:{scale:.98},onClick:it,style:b(t).addBtn,children:[e.jsx(yt,{size:12})," ",i===0?"–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ä":"Add Measurement"]}),e.jsxs("div",{style:{marginTop:"15px",display:"flex",flexDirection:"column-reverse",gap:"8px"},children:[a.map((R,z)=>e.jsxs("div",{style:b(t).historyRow,children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"12px",color:o.get("subText",t),marginBottom:"2px"},children:R.date}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsxs("span",{style:{fontSize:"16px",fontWeight:"700",color:o.get("mainText",t)},children:[Number.isInteger(R.value)?R.value:R.value.toFixed(1),e.jsx("span",{style:{fontSize:"12px",fontWeight:"400",marginLeft:"4px"},children:v===0?i===0?"–∫–≥":"kg":"cm"})]}),e.jsx(es,{data:u,type:v,ind:z,theme:t})]})]}),e.jsxs("div",{style:{display:"flex",gap:"15px"},children:[e.jsx(Ce,{size:14,color:o.get("subText",t),onClick:()=>nt(z),style:{cursor:"pointer"}}),e.jsx(mt,{size:14,color:"#ff4d4d",onClick:()=>{x(z),m(!0)},style:{cursor:"pointer",opacity:.8}})]})]},z)),a.length===0&&e.jsx("div",{style:{textAlign:"center",fontSize:"13px",color:o.get("subText",t),padding:"10px"},children:i===0?"–ü—É—Å—Ç–æ":"Empty"})]})]})})})]},v))]}),k==="muscles"&&e.jsx(Ft,{theme:t,langIndex:i,fSize:r,data:u,filled:Ge,age:Y,height:U,gender:G,goal:J,wrist:ie}),k==="exercises"&&e.jsx(_t,{theme:t,langIndex:i,fSize:r,data:u}),e.jsxs(te,{children:[(B||S)&&e.jsxs(xe,{onClose:()=>{T(!1),I(!1)},theme:t,children:[e.jsx("div",{style:b(t).modalHeader,children:e.jsx("h3",{style:b(t).modalTitle,children:i===0?B?"–ù–æ–≤—ã–π –∑–∞–º–µ—Ä":"–ò–∑–º–µ–Ω–∏—Ç—å":B?"New Entry":"Edit Entry"})}),e.jsxs("div",{style:b(t).sectionLabel,children:[e.jsx(bt,{})," ",i===0?"–î–∞—Ç–∞":"Date"]}),e.jsxs("div",{style:{...b(t).pickerRow,marginBottom:"20px"},children:[e.jsx(A,{items:Je,value:W,onChange:$,theme:t,width:"80px"}),e.jsx(A,{items:de[i],value:de[i][H],onChange:a=>N(de[i].indexOf(a)),theme:t,width:"70px"}),e.jsx(A,{items:Xe,value:E,onChange:O,theme:t,width:"60px"})]}),e.jsxs("div",{style:b(t).sectionLabel,children:[e.jsx(jt,{})," ",i===0?"–ó–Ω–∞—á–µ–Ω–∏–µ":"Value"]}),e.jsxs("div",{style:{...b(t).pickerRow,marginBottom:"30px"},children:[e.jsx(A,{items:_e,value:V,onChange:ue,theme:t,width:"80px"}),e.jsx("div",{style:{fontSize:"30px",fontWeight:"bold",color:o.get("subText",t),alignSelf:"center",paddingBottom:"5px"},children:"."}),e.jsx(A,{items:qe,value:fe,onChange:he,theme:t,width:"50px"}),e.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",color:o.get("subText",t),alignSelf:"center",marginLeft:"10px"},children:p===0?i===0?"–∫–≥":"kg":"cm"})]}),e.jsx(pe,{onClose:()=>{T(!1),I(!1)},onConfirm:B?et:tt,theme:t})]}),C&&e.jsxs(xe,{onClose:()=>m(!1),theme:t,children:[e.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[e.jsx("div",{style:{fontSize:"40px",marginBottom:"10px"},children:"üóëÔ∏è"}),e.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",color:o.get("mainText",t)},children:i===0?"–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å?":"Delete entry?"})]}),e.jsx(pe,{onClose:()=>m(!1),onConfirm:st,theme:t,isDanger:!0})]}),f&&e.jsxs(xe,{onClose:()=>D(!1),theme:t,children:[e.jsx("h3",{style:b(t).modalTitle,children:i===0?"–ù–∞—Å—Ç—Ä–æ–π–∫–∏":"Settings"}),e.jsxs("div",{style:{padding:"20px 0"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"12px",color:o.get("subText",t),marginBottom:"5px"},children:i===0?"–í–æ–∑—Ä–∞—Å—Ç":"Age"}),e.jsx(A,{items:Ke,value:Y,onChange:Oe,theme:t,width:"100px"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"12px",color:o.get("subText",t),marginBottom:"5px"},children:i===0?"–†–æ—Å—Ç (—Å–º)":"Height"}),e.jsx(A,{items:Qe,value:U,onChange:Ve,theme:t,width:"100px"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"12px",color:o.get("subText",t),marginBottom:"5px"},children:i===0?"–ó–∞–ø—è—Å—Ç—å–µ (—Å–º)":"Wrist"}),e.jsx(A,{items:Ze,value:ie,onChange:Ye,theme:t,width:"100px"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100px"},children:[e.jsx("span",{style:{fontSize:"12px",color:o.get("subText",t),marginBottom:"10px"},children:i===0?"–ü–æ–ª":"Gender"}),e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx(ze,{active:G===0,icon:e.jsx(Te,{}),color:"#5fb6c6",onClick:()=>ye(0),theme:t}),e.jsx(ze,{active:G===1,icon:e.jsx(De,{}),color:"#c65f9d",onClick:()=>ye(1),theme:t})]})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"12px",color:o.get("subText",t),marginBottom:"5px"},children:i===0?"–¶–µ–ª—å":"Goal"}),e.jsx(A,{items:ne,value:ne[J],onChange:a=>Ue(ne.indexOf(a)),theme:t,width:"200px"})]})]}),e.jsx(pe,{onClose:()=>D(!1),onConfirm:ot,theme:t})]})]}),!c&&e.jsx("div",{onClick:a=>a.stopPropagation(),style:{position:"absolute",inset:0,zIndex:2,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:ee.value==="dark"?"rgba(10, 10, 10, 0.85)":"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(5px)",textAlign:"center"},children:e.jsx("div",{style:{color:ee.value==="dark"?"#FFD700":"#D97706",fontSize:"11px",fontWeight:"bold",fontFamily:"Segoe UI"},children:i===0?"–¢–û–õ–¨–ö–û –î–õ–Ø –ü–†–ï–ú–ò–£–ú":"PREMIUM USERS ONLY"})})]})},Z=({label:t,value:s,sub:i,theme:n,icon:r,isWide:d})=>e.jsxs("div",{style:{backgroundColor:n==="light"?"rgba(0,0,0,0.03)":"rgba(255,255,255,0.05)",borderRadius:"16px",padding:"12px",display:"flex",flexDirection:"column",alignItems:"center",gridColumn:d?"span 2":"span 1"},children:[e.jsx("div",{style:{fontSize:"11px",color:o.get("subText",n),textTransform:"uppercase",fontWeight:"700",marginBottom:"4px"},children:t}),e.jsxs("div",{style:{fontSize:"18px",fontWeight:"800",color:o.get("mainText",n),display:"flex",alignItems:"center",gap:"4px"},children:[r," ",s," ",e.jsx("span",{style:{fontSize:"12px",fontWeight:"500",opacity:.7},children:i})]})]}),es=({data:t,type:s,ind:i,theme:n})=>{if(i<t[s].length-1){const r=t[s][i].value-t[s][i+1].value;if(r===0)return null;const d=r>0;return e.jsxs("span",{style:{fontSize:"10px",fontWeight:"800",padding:"2px 6px",borderRadius:"6px",backgroundColor:d?"rgba(76, 175, 80, 0.1)":"rgba(244, 67, 54, 0.1)",color:d?"#4CAF50":"#F44336"},children:[d?"+":"",Number.isInteger(r)?r:r.toFixed(1)]})}return null},xe=({children:t,onClose:s,theme:i})=>e.jsx("div",{style:b(i).backdrop,onClick:s,children:e.jsxs(M.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},style:b(i).sheet,onClick:n=>n.stopPropagation(),children:[e.jsx("div",{style:b(i).handle}),t]})}),ze=({active:t,icon:s,color:i,onClick:n,theme:r})=>e.jsx(M.div,{whileTap:{scale:.9},onClick:n,style:{width:"40px",height:"40px",borderRadius:"12px",backgroundColor:t?i:r==="light"?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",color:t?"#fff":o.get("subText",r),border:t?"none":`1px solid ${o.get("border",r)}`},children:s}),pe=({onClose:t,onConfirm:s,theme:i,isDanger:n})=>e.jsxs("div",{style:{display:"flex",gap:"15px",marginTop:"25px"},children:[e.jsx(M.button,{whileTap:{scale:.95},onClick:t,style:b(i).secBtn,children:e.jsx(Pe,{size:22})}),e.jsx(M.button,{whileTap:{scale:.95},onClick:s,style:{...b(i).priBtn,backgroundColor:n?"#ff4d4d":o.get("done",i)},children:e.jsx(vt,{size:22})})]}),b=(t,s)=>({container:{display:"flex",width:"100vw",flexDirection:"column",overflowY:"scroll",overflowX:"hidden",alignItems:"center",backgroundColor:o.get("background",t),height:"92vh",marginTop:"110px"},card:{width:"94%",borderRadius:"24px",margin:"0 auto",overflow:"hidden",transition:"all 0.3s"},cardHeader:{padding:"15px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},headerText:{fontSize:s===0?"16px":"18px",fontWeight:"700",color:o.get("mainText",t)},iconBox:{width:"36px",height:"36px",borderRadius:"10px",backgroundColor:t==="light"?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center"},valueBadge:{fontSize:"14px",fontWeight:"700",padding:"4px 10px",borderRadius:"8px",backgroundColor:t==="light"?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.1)",color:o.get("mainText",t)},addBtn:{width:"100%",padding:"12px",borderRadius:"12px",border:"none",backgroundColor:o.get("difficulty",t),color:"#fff",fontWeight:"700",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer"},historyRow:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",backgroundColor:t==="light"?"rgba(0,0,0,0.02)":"rgba(255,255,255,0.03)",borderRadius:"12px",marginBottom:"4px"},backdrop:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(5px)",zIndex:3e3,display:"flex",alignItems:"flex-end",justifyContent:"center"},sheet:{width:"100%",maxWidth:"600px",backgroundColor:o.get("background",t),borderTopLeftRadius:"30px",borderTopRightRadius:"30px",padding:"20px 20px 40px 20px",boxShadow:"0 -10px 40px rgba(0,0,0,0.3)",borderTop:`1px solid ${o.get("border",t)}`,display:"flex",flexDirection:"column"},handle:{width:"40px",height:"4px",backgroundColor:o.get("subText",t),borderRadius:"2px",margin:"0 auto 20px auto",opacity:.3},modalHeader:{textAlign:"center",marginBottom:"20px"},modalTitle:{fontSize:"18px",fontWeight:"800",color:o.get("mainText",t),margin:0},sectionLabel:{fontSize:"12px",fontWeight:"700",textTransform:"uppercase",color:o.get("subText",t),marginBottom:"10px",display:"flex",alignItems:"center",gap:"6px",letterSpacing:"1px"},pickerRow:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",backgroundColor:t==="light"?"rgba(0,0,0,0.03)":"rgba(255,255,255,0.05)",borderRadius:"20px",padding:"15px"},secBtn:{flex:1,padding:"15px",borderRadius:"16px",border:"none",backgroundColor:o.get("skipped",t),color:o.get("subText",t),cursor:"pointer",display:"flex",justifyContent:"center"},priBtn:{flex:1,padding:"15px",borderRadius:"16px",border:"none",color:"#fff",cursor:"pointer",display:"flex",justifyContent:"center",boxShadow:"0 5px 15px rgba(0,0,0,0.2)"}});export{ls as default};
