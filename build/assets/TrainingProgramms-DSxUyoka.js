import{r as o,A as k,t as De,l as ke,O as ze,f as Le,j as t,aR as Pe,C as r,aS as Ae,W as y,g as K,a1 as M,aT as J,aL as B,aU as Q,aV as Re,i as E,k as D,aK as X,S as Te,aW as Me}from"./index-DHV3QxGd.js";import{b as g,c as h}from"./index-CY5inRiD.js";import{T as Z,a as _,b as ee,M as F}from"./MyInput-Dz06-x4F.js";const Ue=()=>{const[e,z]=o.useState("dark"),[a,C]=o.useState(k.prefs[0]),[b,S]=o.useState(!1),[c,te]=o.useState(k.prefs[1]),[m,se]=o.useState(-1),[ne,ie]=o.useState(-1),[Ee,Fe]=o.useState(0),[le,N]=o.useState(!1),[j,oe]=o.useState(-1),[w,$]=o.useState(-1),[Ne,re]=o.useState(""),[$e,ae]=o.useState(""),[v,Oe]=o.useState(""),[O,G]=o.useState(3),[I,W]=o.useState(4),[L,P]=o.useState(6),[ce,de]=o.useState(0),[d,xe]=o.useState(1),[A,H]=o.useState(a===0?"Ð”ÐµÐ½ÑŒ 1":"Day 1"),[p,R]=o.useState({1:[{exId:0,sets:"3x10-12"},{exId:5,sets:"3x10-12"},{exId:22,sets:"3x10-12"}]}),[fe,pe]=o.useState(["Ð½Ð¾Ð³Ð¸"]),[ue,u]=o.useState(!1),[ye,U]=o.useState(!1),[ge,he]=o.useState(!1),[me,je]=o.useState(!1),[we,Y]=o.useState(!1);o.useEffect(()=>{I>L-2&&P(n=>n+1)},[I]),o.useEffect(()=>{const n=De.subscribe(z),i=ke.subscribe(l=>{C(l==="ru"?0:1)});return()=>{i.unsubscribe(),n.unsubscribe()}},[]),o.useEffect(()=>{const n=ze.subscribe(l=>N(l==="AddProgrammPanel")),i=Le.subscribe(te);return()=>{n.unsubscribe(),i.unsubscribe()}},[]);function Ce(n){Be(null),se(m==n?-1:n),m===-1&&ie(-1)}function V(){S(!1),Te("")}function be(){pe(n=>[...n,A.length>2?A:a===0?"Ð”ÐµÐ½ÑŒ "+daysAmount:"Day "+daysAmount]),xe(n=>n+1),H(a===0?"Ð”ÐµÐ½ÑŒ "+daysAmount:"Day "+daysAmount),S(!1),u(!1)}function Se(){d in p||(p[d]=[]),p[d].push({exId:ce,sets:O+"x"+I+"-"+L}),S(!1),Y(!1),U(!1)}function ve(){Me(j),V()}function T(n,i){switch(n){case 0:R(l=>{if(!l.hasOwnProperty(d))return l;const f=l[d];if(i<0||i>=f.length)return l;const x=[...f.slice(0,i),...f.slice(i+1)];return{...l,[d]:x}});break;case 1:R(l=>{if(!l.hasOwnProperty(d))return l;const f=l[d];if(i<=0||i>=f.length)return l;const x=[...f];return[x[i-1],x[i]]=[x[i],x[i-1]],{...l,[d]:x}});break;case 2:R(l=>{if(!l.hasOwnProperty(d))return l;const f=l[d];if(i<0||i>=f.length-1)return l;const x=[...f];return[x[i],x[i+1]]=[x[i+1],x[i]],{...l,[d]:x}});break}}return t.jsxs("div",{style:s(e).container,children:[Pe().map(n=>t.jsxs("div",{style:s(e).panel,children:[t.jsxs("div",{style:s(e,j===n.id,!1).groupPanel,onClick:()=>{oe(i=>i===n.id?-1:n.id),$(-1)},children:[j===n.id?t.jsx(g,{style:s(e).icon}):t.jsx(h,{style:s(e).icon}),t.jsx(Ae,{style:{...s(e).icon,marginRight:"5px",marginLeft:"5px",fontSize:"16px"}}),t.jsx("p",{style:s(e,!1,!1,c).text,children:n.name[a]}),t.jsx("p",{style:{...s(e,!1,!1,c).subtext,marginRight:"5px",marginLeft:"auto"},children:n.creationDate})]}),j===n.id&&t.jsxs("div",{style:{...s(e).panel},children:[t.jsx("div",{style:{...s(e,!1,!1,c).subtext,marginRight:"15px",marginLeft:"15px"},children:w===-1&&n.description[a]}),t.jsx("div",{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center"},children:w===-1&&t.jsxs("div",{style:{...s(e,!1,!1,c).dayPanel,width:"98%",justifyContent:"space-around",flexDirection:"row"},children:[t.jsx(y,{onClick:()=>u(!0),style:{...s(e).icon,fontSize:"14px"}}),t.jsx(K,{onClick:()=>u(!0),style:{...s(e).icon,fontSize:"14px"}}),t.jsx(M,{onClick:()=>u(!0),style:{...s(e).icon,fontSize:"14px"}})]})}),t.jsx("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:Object.keys(n.days).map((i,l)=>t.jsxs("div",{children:[t.jsxs("div",{style:{...s(e,!1,w===l).dayPanel,width:"98%",flexDirection:"row"},onClick:()=>$(f=>f===l?-1:l),children:[w===l?t.jsx(g,{style:{...s(e).icon,marginLeft:"2%",width:"10px",marginTop:"7px"}}):t.jsx(h,{style:{...s(e).icon,marginLeft:"2%",width:"10px",marginTop:"7px"}}),t.jsx(J,{style:{...s(e).icon,marginRight:"5px",marginLeft:"5px",fontSize:"14px"}}),t.jsx("p",{style:s(e,!1,!1,c).text,children:a===0?l+1+"-Ð´ÐµÐ½ÑŒ :   "+n.daysNames[l][0]:l+1+"-day :   "+n.daysNames[l][1]}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",marginLeft:"auto"},children:[t.jsx(Z,{style:{...s(e).icon,fontSize:"14px"}}),t.jsx(_,{style:{...s(e).icon,fontSize:"14px"}}),t.jsx(K,{onClick:()=>u(!0),style:{...s(e).icon,fontSize:"14px"}}),t.jsx(M,{onClick:()=>u(!0),style:{...s(e).icon,fontSize:"14px"}}),t.jsx(ee,{style:{...s(e).icon,fontSize:"14px"}})]})]}),w===l&&t.jsx("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:n.days[i].map((f,x)=>{const q=B().find(Ie=>Ie.id===f.exId);return q?t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"95%",marginLeft:"6px",marginRight:"5%",justifyContent:"flex-start",alignItems:"center"},children:[t.jsx("p",{style:s(e,!1,!1,c).text,children:x+1+"."}),t.jsx(Q,{style:{...s(e).icon,marginRight:"5px",marginLeft:"5px",fontSize:"14px"}}),t.jsx("p",{style:s(e,!1,!1,c).text,children:q.name[a]}),t.jsx("p",{style:{...s(e,!1,!1,c).subtext,marginLeft:"auto"},children:f.sets})]},x):null})})]},l))}),t.jsx(Re,{programmId:n.id,theme:e,langIndex:a})]})]},n.id)),j===-1&&t.jsx("div",{onClick:()=>N(!0),style:{...s(e).groupPanel,height:"5%",justifyContent:"center"},children:t.jsx(y,{style:{...s(e).icon,fontSize:"24px"}})}),le&&t.jsx("div",{style:s(e).addContainer,children:t.jsxs("div",{style:{...s(e).additionalPanel,height:"80%"},children:[t.jsx("p",{style:s(e,!1,!1,c).text,children:a===0?"ÐÐ¾Ð²Ð°Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð°":"New programm"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",backgroundColor:r.get("background",e),height:"82%",width:"100%",alignItems:"center"},children:[t.jsx(F,{maxL:30,w:"80%",h:"8%",theme:e,onChange:n=>re(n),placeHolder:a===0?"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹":"Programm name"}),t.jsx(F,{maxL:100,w:"80%",h:"14%",theme:e,onChange:n=>ae(n),placeHolder:a===0?"ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹":"Programm description"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"95%",height:"75%",justifyContent:"flex-start",alignItems:"center",overflowY:"scroll",marginTop:"5px",backgroundColor:r.get("bottomPanel",e),borderRadius:"12px"},children:[Object.keys(p).length>0?Object.keys(p).map((n,i)=>t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"80%",height:"10%",justifyContent:"flex-start",alignItems:"center",borderBottom:`1px solid ${r.get("border",e)}`},children:[t.jsx("p",{style:s(e,!1,!1,c).text,children:i+1+"-"+(a===0?"Ð´ÐµÐ½ÑŒ":"day")+" : "}),t.jsx(J,{style:{...s(e).icon,fontSize:"16px",marginLeft:"5px",marginBottom:"2px"}}),t.jsx("p",{style:{...s(e,!1,!1,c).text,marginLeft:"5px"},children:fe[i]})]},i)):null,t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"80%",height:"10%",justifyContent:"flex-start",alignItems:"center"},children:[t.jsx(y,{onClick:()=>u(!0),style:{...s(e).icon,fontSize:"24px",marginLeft:"1px"}}),t.jsx("p",{style:{...s(e,!1,!1,c).subtext,marginLeft:"15px"},children:a===0?"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð´ÐµÐ½ÑŒ":"Add day"})]})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"60%",justifyContent:"space-between"},children:[t.jsx(E,{onClick:()=>V(),style:{...s(e).icon,fontSize:"32px",marginBottom:"8px"}}),t.jsx(D,{onClick:()=>onAdd(),style:{...s(e).icon,fontSize:"32px",marginBottom:"8px"}})]})]})}),ue&&t.jsx("div",{style:s(e).addContainer,children:t.jsxs("div",{style:{...s(e).additionalPanel,height:"70%"},children:[t.jsx("p",{style:s(e,!1,!1,c).text,children:a===0?"Ð”Ð¾Ð±Ð°Ð²ÑŒ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð¾Ñ‡Ð½Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ":"Add training day"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",backgroundColor:r.get("background",e),height:"80%",width:"100%",alignItems:"center"},children:[t.jsx(F,{maxL:30,w:"90%",h:"20%",theme:e,value:A,onChange:n=>H(n),placeHolder:a===0?"Ð”ÐµÐ½ÑŒ":"Day"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"95%",height:"80%",justifyContent:"flex-start",alignItems:"center",overflowY:"scroll",marginTop:"5px",backgroundColor:r.get("bottomPanel",e),borderRadius:"12px"},children:[d in p&&p[d].length>0?p[d].map((n,i)=>t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"90%",height:"10%",justifyContent:"flex-start",alignItems:"center"},children:[t.jsx("p",{style:s(e,!1,!1,c).text,children:(i+1).toString()}),t.jsx(Q,{style:{...s(e).icon,fontSize:"16px",marginLeft:"5px",marginBottom:"2px"}}),t.jsx("p",{style:{...s(e,!1,!1,c).text,marginLeft:"5px"},children:B().find(l=>l.id===n.exId)?.name[a]}),t.jsx("p",{style:{...s(e,!1,!1,c).subtext,marginLeft:"auto"},children:n.sets}),b&&i<p[d].length-1&&t.jsx(Z,{onClick:()=>T(2,i),style:{...s(e).icon,fontSize:"18px",marginLeft:"3px"}}),b&&i>0&&t.jsx(_,{onClick:()=>T(1,i),style:{...s(e).icon,fontSize:"18px",marginLeft:"3px"}}),b&&t.jsx(M,{onClick:()=>T(0,i),style:{...s(e).icon,fontSize:"16px",marginLeft:"3px"}}),t.jsx(ee,{onClick:()=>S(!b),style:{...s(e).icon,fontSize:"18px",marginLeft:"3px"}})]},i)):null,t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"90%",height:"20%",justifyContent:"flex-start",alignItems:"center"},children:[t.jsx(y,{onClick:()=>U(!0),style:{...s(e).icon,fontSize:"24px",marginLeft:"1px"}}),t.jsx("p",{style:{...s(e).subtext,marginLeft:"15px"},children:a===0?"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑƒÐ¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ðµ":"Add exercise"})]})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"60%",justifyContent:"space-between"},children:[t.jsx(E,{onClick:()=>u(!1),style:{...s(e).icon,fontSize:"32px",marginBottom:"8px"}}),t.jsx(D,{onClick:()=>be(),style:{...s(e).icon,fontSize:"32px",marginBottom:"8px"}})]})]})}),ye&&t.jsx("div",{style:s(e).addContainer,children:t.jsx("div",{style:{...s(e).additionalPanel,height:"80%",overflowY:"scroll"},children:Object.keys(X.muscleIconsSrc).map(n=>t.jsxs("div",{style:s(e).panel,children:[t.jsxs("div",{style:s(e,m==n,!1).groupPanel,onClick:()=>Ce(i=>i===n?-1:n),children:[m==n?t.jsx(g,{style:s(e).icon}):t.jsx(h,{style:s(e).icon}),X.get(n,a,e)]},n),m==n?t.jsxs("div",{style:s(e).panel,children:[B().filter(i=>i.mgId==n).map(i=>t.jsx("div",{style:s(e).panel,children:t.jsxs("div",{style:{...s(e,!1,ne==i.id).exercisePanel,width:"98%",flexDirection:"row"},children:[t.jsx("p",{style:{...s(e,!1,!1,c).text,marginLeft:"5%"},children:i.name[a]+(i.isCustom?" ðŸ”–":"")}),t.jsx("p",{style:{...s(e,!1,!1,c).subtext,marginLeft:"auto",marginRight:"5%",color:i.isBase?r.get("trainingBaseFont",e):r.get("trainingIsolatedFont",e)},children:i.isBase?a===0?"Ð‘Ð°Ð·Ð¾Ð²Ð¾Ðµ":"Base":a===0?"Ð˜Ð·Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ":"Isolated"}),t.jsx(y,{onClick:()=>{de(i.id),Y(!0)},style:{...s(e).icon,marginLeft:"1px",marginRight:"12px"}})]})},i.id)),t.jsx("div",{style:s(e).panel,children:t.jsx("div",{style:{...s(e).exercisePanel,width:"98%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:t.jsx(y,{onClick:()=>je(!0),style:{...s(e).icon,fontSize:"28px",marginLeft:"1px",marginRight:"6px"}})})})]}):null]},n))})}),we&&t.jsx("div",{style:s(e).addContainer,children:t.jsxs("div",{style:{position:"fixed",top:"30vh",left:"7.5vw",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"80vw",height:"80vw",marginTop:"5px",borderRadius:"24px",border:`1px solid ${r.get("border",e)}`,backgroundColor:r.get("background",e),zIndex:"7000"},children:[t.jsx("p",{style:{...s(e,!1,!1,c).text,padding:"20px",marginLeft:"10%",marginRight:"5%"},children:a===0?"Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸ÑŽ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ"+v:"Set performing strategy"+v}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",height:"50%",width:"60%",justifyContent:"space-around"},children:[t.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[t.jsx(g,{onClick:()=>G(n=>n+1),style:{...s(e).icon,marginLeft:"1px",fontSize:"24px"}}),t.jsx("div",{style:{...s(e).text,fontSize:"24px"},children:O}),t.jsx(h,{onClick:()=>G(n=>n-1>0?n-1:1),style:{...s(e).icon,marginLeft:"1px",fontSize:"24px"}})]}),t.jsx("p",{style:{...s(e).text,fontSize:"24px",marginTop:"30%"},children:"x"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[t.jsx(g,{onClick:()=>W(n=>n+1),style:{...s(e).icon,marginLeft:"1px",fontSize:"24px"}}),t.jsx("div",{style:{...s(e).text,fontSize:"24px"},children:I}),t.jsx(h,{onClick:()=>W(n=>n-1>0?n-1:1),style:{...s(e).icon,marginLeft:"1px",fontSize:"24px"}})]}),t.jsx("p",{style:{...s(e).text,fontSize:"24px",marginTop:"30%"},children:"-"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[t.jsx(g,{onClick:()=>P(n=>n+1),style:{...s(e).icon,marginLeft:"1px",fontSize:"24px"}}),t.jsx("div",{style:{...s(e).text,fontSize:"24px"},children:L}),t.jsx(h,{onClick:()=>P(n=>n-1>0?n-1:1),style:{...s(e).icon,marginLeft:"1px",fontSize:"24px"}})]})]}),t.jsx("div",{style:{display:"flex",flexDirection:"row",width:"60%",justifyContent:"center"},children:t.jsx(D,{onClick:()=>Se(),style:{...s(e).icon,fontSize:"32px",marginBottom:"8px"}})})]})}),me&&t.jsx("div",{style:{position:"fixed",top:"50vh",left:"7.5vw",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"85vw",height:"40vw",marginTop:"5px",borderRadius:"24px",border:`1px solid ${r.get("border",e)}`,backgroundColor:r.get("background",e),zIndex:"7000"}}),ge&&t.jsxs("div",{style:{position:"fixed",top:"50vh",left:"7.5vw",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"85vw",height:"40vw",marginTop:"5px",borderRadius:"24px",border:`1px solid ${r.get("border",e)}`,backgroundColor:r.get("background",e),zIndex:"7000"},children:[t.jsx("p",{style:{...s(e,!1,!1,c).text,padding:"20px",marginLeft:"10%",marginRight:"5%"},children:a===0?"Ð’Ñ‹ ÑƒÐ²ÐµÑ€ÐµÐ½Ñ‹, Ñ‡Ñ‚Ð¾ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ ÑƒÐ¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ðµ? "+v:"Are you sure you want to delete the exercise?"+v}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"60%",justifyContent:"space-between"},children:[t.jsx(E,{onClick:()=>he(!1),style:{...s(e).icon,fontSize:"32px",marginBottom:"8px"}}),t.jsx(D,{onClick:()=>ve(),style:{...s(e).icon,fontSize:"32px",marginBottom:"8px"}})]})]})]})},s=(e,z,a,C)=>({container:{backgroundColor:r.get("background",e),display:"flex",flexDirection:"column",overflowY:"scroll",justifyContent:"start",alignItems:"center",height:"78vh",paddingTop:"5vh",width:"100vw",fontFamily:"Segoe UI"},groupPanel:{display:"flex",flexDirection:"row",width:"100%",height:"6vh",backgroundColor:z?r.get("trainingGroupSelected",e):r.get("trainingGroup",e),borderTop:`1px solid ${r.get("border",e)}`,alignItems:"center",justifyContent:"left",alignContent:"center"},dayPanel:{display:"flex",flexDirection:"column",width:"100vW",height:"4vh",backgroundColor:a?r.get("trainingGroupSelected",e):r.get("background",e),borderBottom:`1px solid ${r.get("border",e)}`,alignItems:"center",justifyContent:"left"},panel:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyItems:"center"},text:{textAlign:"left",fontSize:C===0?"13px":"15px",color:r.get("mainText",e),marginBottom:"12px"},subtext:{textAlign:"left",fontSize:C===0?"11px":"13px",color:r.get("subText",e),marginBottom:"12px"},icon:{fontSize:"20px",color:r.get("icons",e),marginLeft:"20px"},addContainer:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"10px"},additionalPanel:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",borderRadius:"24px",border:`1px solid ${r.get("border",e)}`,backgroundColor:r.get("simplePanel",e),boxShadow:`4px 4px 6px ${r.get("shadow",e)}`,width:"100%",height:"100vw"},exercisePanel:{display:"flex",flexDirection:"column",width:"90vW",height:"5vh",backgroundColor:a?r.get("trainingGroupSelected",e):r.get("background",e),alignItems:"center",justifyContent:"left"}});function Be(e){k.prefs[2]==0,k.prefs[3]==0&&Telegram.WebApp.HapticFeedback&&Telegram.WebApp.HapticFeedback.impactOccurred("light")}export{Ue as default};
