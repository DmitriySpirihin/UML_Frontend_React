import{j as e,A as h,t as Z,l as ze,f as He,C as r,g as Ae,k as Le,bm as rt,bn as lt,bo as at,bp as ct,bq as dt,br as xt,d as ee,m as D,M as Ee,U as pt,p as gt,bs as ut,o as Ce,a$ as Se,ae as ke,bt as ft,a6 as ht,ah as mt,bu as yt,bv as bt,a2 as jt,y as X}from"./index-B95tImpJ.js";import{r as a}from"./recharts-k8ghPecL.js";import{d as we,e as Te}from"./index-epqa9obe.js";import{p as vt}from"./TrainingLogHelper-C-VATTmQ.js";import{M as Ct}from"./MyAreaChart-C5zkMS1O.js";import{V as St}from"./TrainingAnaliticsTabs-BREcsKNl.js";import{S as A}from"./ScrollPicker-C2HfHQ-4.js";class kt{static muscleIconsSrc=[{0:"images/BodyIcons/M0.png",1:"images/BodyIcons/M1.png",2:"images/BodyIcons/M2.png",3:"images/BodyIcons/M3.png"},{0:"images/BodyIcons/M0f.png",1:"images/BodyIcons/M1f.png",2:"images/BodyIcons/M2f.png",3:"images/BodyIcons/M3f.png"}];static get(s,i,n){const d=n==="light"?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.1)";return e.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"12px",backgroundColor:d,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",flexShrink:0},children:e.jsx("img",{src:this.muscleIconsSrc[h.pData.gender][s],style:{width:"32px",height:"32px",objectFit:"contain"},alt:""})})}}const De={gain:{id:0,titleRu:"–ù–∞–±–æ—Ä –º–∞—Å—Å—ã",titleEn:"Muscle Gain",kcalMinFactor:1.1,kcalMaxFactor:1.15,macrosRu:"1.8‚Äì2.2 –≥ / 1 –≥ / 4‚Äì6 –≥",macrosEn:"1.8‚Äì2.2 g / 1 g / 4‚Äì6 g",note:["–ü–æ–≤—ã—à–µ–Ω–Ω–∞—è –∫–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç—å –∏ –±–µ–ª–æ–∫ –¥–ª—è –≥–∏–ø–µ—Ä—Ç—Ä–æ—Ñ–∏–∏ –º—ã—à—Ü. –£–≥–ª–µ–≤–æ–¥—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —ç–Ω–µ—Ä–≥–∏—é –¥–ª—è –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫.","Caloric surplus + high protein for muscle hypertrophy. Carbs fuel intense training sessions."]},strength:{id:1,titleRu:"–°–∏–ª–∞",titleEn:"Strength",kcalMinFactor:1.1,kcalMaxFactor:1.15,macrosRu:"1.8‚Äì2.2 –≥ / 1 –≥ / 4‚Äì6 –≥",macrosEn:"1.8‚Äì2.2 g / 1 g / 4‚Äì6 g",note:["–§–æ–∫—É—Å –Ω–∞ –±–µ–ª–∫–µ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¶–ù–° –∏ –º—ã—à—Ü –ø–æ—Å–ª–µ —Ç—è–∂–µ–ª—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤. –£–º–µ—Ä–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏—Ü–∏—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ–π—Ä–æ–º—ã—à–µ—á–Ω—É—é –∞–¥–∞–ø—Ç–∞—Ü–∏—é.","Protein-focused for CNS/muscle recovery after heavy lifts. Moderate surplus supports neuromuscular adaptation."]},cut:{id:2,titleRu:"–ü–æ—Ö—É–¥–µ–Ω–∏–µ",titleEn:"Weight Loss",kcalMinFactor:.85,kcalMaxFactor:.9,macrosRu:"1.6‚Äì2 –≥ / 0.8 –≥ / 2‚Äì3 –≥",macrosEn:"1.6‚Äì2 g / 0.8 g / 2‚Äì3 g",note:["–í—ã—Å–æ–∫–∏–π –±–µ–ª–æ–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –º—ã—à—Ü—ã –≤ –¥–µ—Ñ–∏—Ü–∏—Ç–µ –∫–∞–ª–æ—Ä–∏–π. –°–Ω–∏–∂–µ–Ω–Ω—ã–µ —É–≥–ª–µ–≤–æ–¥—ã —É—Å–∫–æ—Ä—è—é—Ç –ª–∏–ø–æ–ª–∏–∑, –Ω–æ —Ç—Ä–µ–±—É—é—Ç –∫–æ–Ω—Ç—Ä–æ–ª—è —ç–Ω–µ—Ä–≥–∏–∏ –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞—Ö.","High protein preserves muscle mass in caloric deficit. Reduced carbs accelerate lipolysis but require energy management during workouts."]},maintain:{id:3,titleRu:"–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ",titleEn:"Maintenance",kcalMinFactor:1,kcalMaxFactor:1,macrosRu:"1.2‚Äì1.6 –≥ / 1 –≥ / 4 –≥",macrosEn:"1.2‚Äì1.6 g / 1 g / 4 g",note:["–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞—Ü–∏–æ–Ω –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –≤–µ—Å–∞ –∏ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. –û–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è –ø–µ—Ä–∏–æ–¥–æ–≤ –æ—Ç–¥—ã—Ö–∞ –∏–ª–∏ –ª–µ–≥–∫–∏—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫.","Balanced intake to maintain weight and daily energy levels. Ideal for deload weeks or light activity periods."]},endurance:{id:4,titleRu:"–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å",titleEn:"Endurance",kcalMinFactor:1,kcalMaxFactor:1.25,macrosRu:"1.4‚Äì1.8 –≥ / 1.0‚Äì1.2 –≥ / 7‚Äì12 –≥",macrosEn:"1.4‚Äì1.8 g / 1.0‚Äì1.2 g / 7‚Äì12 g",note:['–£–≥–ª–µ–≤–æ–¥—ã –ø–æ–≤—ã—à–µ–Ω—ã –¥–ª—è –≤–æ—Å–ø–æ–ª–Ω–µ–Ω–∏—è –≥–ª–∏–∫–æ–≥–µ–Ω–∞ –ø–æ—Å–ª–µ –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞–≥—Ä—É–∑–æ–∫. –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ >90 –º–∏–Ω—É—Ç –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è "—Å—Ç–µ–Ω–∫–∏".','Elevated carbs replenish glycogen after long sessions. Critical for >90min workouts and preventing "hitting the wall".']}},wt=({bmi:t,trains:s})=>{const[i,n]=a.useState("dark"),[o,d]=a.useState(h.prefs[0]),[c,g]=a.useState(h.prefs[4]),[x,T]=a.useState(h.pData.goal),M=a.useMemo(()=>Dt(t,s),[t,s]);a.useEffect(()=>{const w=Z.subscribe(n),W=ze.subscribe(H=>d(H==="ru"?0:1)),P=He.subscribe(g);return()=>{w.unsubscribe(),W.unsubscribe(),P.unsubscribe()}},[]);const p=a.useMemo(()=>Object.values(De).find(w=>w.id===x)??De.gain,[x]),u=o===0,j=i==="light"||i==="speciallight",S=Math.round(M*p.kcalMinFactor),I=Math.round(M*p.kcalMaxFactor),R=p.kcalMinFactor===p.kcalMaxFactor?`${S}`:`${S} - ${I}`,v=(u?p.macrosRu:p.macrosEn).split("/").map(w=>w.trim()),B=v[0]||"-",C=v[1]||"-",m=v[2]||"-",f=Mt(i,c,j);return e.jsxs("div",{style:f.container,children:[e.jsx("div",{style:f.headerTitle,children:u?"–ü–õ–ê–ù –ü–ò–¢–ê–ù–ò–Ø":"NUTRITION PLAN"}),e.jsxs("div",{style:f.card,children:[e.jsxs("div",{style:f.topSection,children:[e.jsx("div",{style:f.goalBadge,children:u?p.titleRu:p.titleEn}),e.jsxs("div",{style:f.calorieContainer,children:[e.jsx(Ae,{style:{color:"#FF6B6B",fontSize:"24px",marginBottom:"8px"}}),e.jsx("div",{style:f.calorieValue,children:R}),e.jsx("div",{style:f.calorieLabel,children:u?"–∫–∫–∞–ª / –¥–µ–Ω—å":"kcal / day"})]})]}),e.jsx("div",{style:f.divider}),e.jsxs("div",{style:f.macrosGrid,children:[e.jsx(re,{label:u?"–ë–µ–ª–∫–∏":"Protein",value:B,color:"#4FACFE",theme:i,isLight:j}),e.jsx(re,{label:u?"–ñ–∏—Ä—ã":"Fats",value:C,color:"#FF9F43",theme:i,isLight:j}),e.jsx(re,{label:u?"–£–≥–ª–µ–≤–æ–¥—ã":"Carbs",value:m,color:"#2ECC71",theme:i,isLight:j})]}),e.jsx("div",{style:{fontSize:"10px",color:r.get("subText",i),fontWeight:"800",marginTop:"5px"},children:p.note[o]})]}),e.jsx(Tt,{theme:i,langIndex:o,fSize:c})]})},re=({label:t,value:s,color:i,theme:n,isLight:o})=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"10px",borderRadius:"16px",backgroundColor:o?"rgba(0,0,0,0.03)":"rgba(255,255,255,0.05)",flex:1},children:[e.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:i,textTransform:"uppercase",marginBottom:"4px"},children:t}),e.jsx("div",{style:{fontSize:"14px",fontWeight:"700",color:r.get("mainText",n),textAlign:"center",lineHeight:"1.2"},children:s})]}),Tt=({theme:t,langIndex:s,fSize:i})=>{const n=s===0;return e.jsxs("div",{style:{display:"flex",gap:"8px",padding:"15px 20px",alignItems:"start",opacity:.6,marginTop:"5px"},children:[e.jsx(Le,{style:{marginTop:"2px",minWidth:"14px"},color:r.get("subText",t),size:12}),e.jsx("div",{style:{fontSize:"11px",color:r.get("subText",t),lineHeight:"1.4"},children:n?"–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–æ—Å—è—Ç –æ–∑–Ω–∞–∫–æ–º–∏—Ç–µ–ª—å–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä. –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π –ø—Ä–æ–∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä—É–π—Ç–µ—Å—å —Å –≤—Ä–∞—á–æ–º.":"Recommendations are for informational purposes only. Consult a doctor if you have medical conditions."})]})},Dt=(t,s=3)=>{const i=Math.min(7,Math.max(0,s));let n;return i===0?n=1.2:i<=2?n=1.375:i<=4?n=1.55:i===5?n=1.725:n=1.9,t*n},Mt=(t,s,i)=>({container:{width:"100%",maxWidth:"600px",margin:"0 auto",marginTop:"20px",display:"flex",flexDirection:"column"},headerTitle:{fontSize:"12px",fontWeight:"800",color:r.get("subText",t),textTransform:"uppercase",letterSpacing:"1px",marginLeft:"20px",marginBottom:"10px",opacity:.8},card:{backgroundColor:i?"rgba(255,255,255,0.7)":"rgba(30,30,30,0.6)",backdropFilter:"blur(12px)",borderRadius:"24px",border:`1px solid ${i?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.1)"}`,padding:"20px",boxShadow:i?"0 10px 30px rgba(0,0,0,0.05)":"0 10px 30px rgba(0,0,0,0.2)",display:"flex",flexDirection:"column"},topSection:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"20px"},goalBadge:{padding:"6px 12px",borderRadius:"20px",backgroundColor:r.get("currentDateBorder",t),color:"#FFF",fontSize:"12px",fontWeight:"bold",textTransform:"uppercase",marginBottom:"15px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},calorieContainer:{display:"flex",flexDirection:"column",alignItems:"center"},calorieValue:{fontSize:"36px",fontWeight:"900",color:r.get("mainText",t),lineHeight:"1",letterSpacing:"-1px"},calorieLabel:{fontSize:"14px",color:r.get("subText",t),fontWeight:"500",marginTop:"4px"},divider:{width:"100%",height:"1px",backgroundColor:r.get("border",t),marginBottom:"20px",opacity:.5},macrosGrid:{display:"flex",justifyContent:"space-between",gap:"10px"}}),Rt=[["images/BodyIcons/SideS.png","images/BodyIcons/SideSf.png"],["images/BodyIcons/Side.png","images/BodyIcons/Sidef.png"],["images/BodyIcons/SideL.png","images/BodyIcons/SideLf.png"],["images/BodyIcons/SideXL.png","images/BodyIcons/SideXLf.png"]],Bt=[["–ù–∞–±–æ—Ä –º–∞—Å—Å—ã","Mass gain"],["–°–∏–ª–∞","Strength"],["–ñ–∏—Ä–æ—Å–∂–∏–≥–∞–Ω–∏–µ","Weight loss"],["–ó–¥–æ—Ä–æ–≤—å–µ","Health"],["–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å–∏—Ç—å","Endurance"]],Ft=({theme:t,langIndex:s,fSize:i,data:n,filled:o,height:d,age:c,gender:g,goal:x,wrist:T})=>{const[M,p]=a.useState(!1),u=t==="light"||t==="speciallight",j=u?"rgba(255,255,255,0.7)":"rgba(30,30,30,0.6)",S=u?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.1)",I=r.get("mainText",t),R=r.get("subText",t);if(!o)return e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"60vh",opacity:.6},children:[e.jsx(rt,{size:60,color:R}),e.jsx("div",{style:{...pe(t,i).subtext,textAlign:"center",marginTop:"20px",maxWidth:"80%"},children:s===0?"–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏":"Fill personal data to get statistics"})]});const k=Ht(t,n,d),v=n[0].length>0?n[0][n[0].length-1].value:0;return e.jsxs("div",{style:{width:"100%",maxWidth:"600px",display:"flex",flexDirection:"column",gap:"15px",padding:"0 10px 100px 10px"},children:[e.jsxs("div",{style:{display:"flex",gap:"15px",height:"220px"},children:[e.jsxs("div",{style:{flex:"0 0 35%",backgroundColor:j,borderRadius:"24px",border:`1px solid ${S}`,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",position:"relative"},children:[e.jsx("img",{src:Rt[$t(n,d)][g],alt:"Body Type",style:{height:"90%",objectFit:"contain",opacity:.9,filter:u?"none":"brightness(0.9)"}}),e.jsx("div",{onClick:()=>p(!0),style:{position:"absolute",top:10,right:10,cursor:"pointer",opacity:.6},children:e.jsx(Le,{color:I})})]}),e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:j,borderRadius:"24px",border:`1px solid ${S}`,padding:"20px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"12px",color:R,textTransform:"uppercase",fontWeight:"bold",marginBottom:"5px"},children:s===0?"–ü—Ä–æ—Ñ–∏–ª—å":"Profile"}),e.jsxs("div",{style:{fontSize:"28px",fontWeight:"800",color:I,lineHeight:"1.1"},children:[c," ",e.jsx("span",{style:{fontSize:"14px",fontWeight:"500"},children:s===0?"–ª–µ—Ç":"y.o."})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsx(Me,{icon:e.jsx(lt,{}),label:s===0?"–†–æ—Å—Ç":"Height",value:`${d} cm`,theme:t}),e.jsx(Me,{icon:e.jsx(at,{}),label:s===0?"–¶–µ–ª—å":"Goal",value:Bt[x][s],theme:t,highlight:!0})]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[e.jsx(q,{title:s===0?"–í–µ—Å":"Weight",value:_(n,0,s),icon:e.jsx(ct,{}),color:r.get("currentDateBorder",t),theme:t}),e.jsx(q,{title:s===0?"–ñ–∏—Ä":"Body Fat",value:Et(n,d,c,g),icon:e.jsx(dt,{}),color:"#FF9F43",theme:t}),e.jsx(q,{title:s===0?"–ò–ú–¢":"BMI",value:Lt(n,s,d),icon:e.jsx(xt,{}),color:k,theme:t}),e.jsx(q,{title:s===0?"–ú–µ—Ç–∞–±–æ–ª–∏–∑–º":"Metabolism",value:Pt(n,s,d,c,g),icon:e.jsx(Ae,{}),color:"#FF6B6B",theme:t})]}),e.jsxs("div",{style:{backgroundColor:j,borderRadius:"24px",border:`1px solid ${S}`,padding:"20px"},children:[e.jsx(Be,{title:s===0?"–ê–Ω–∞–ª–∏–∑ –¢–µ–ª–∞":"Body Analysis",theme:t}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px",marginTop:"15px"},children:[e.jsx(Re,{label:s===0?"–¢–∏–ø —Ç–µ–ª–∞":"Body Type",value:At(Fe(d,T,g),s),theme:t}),e.jsx(Re,{label:s===0?"–ò–¥–µ–∞–ª—å–Ω—ã–π –≤–µ—Å":"Ideal Weight",value:`${It(d,g,Fe(d,T,g)).toFixed(1)} ${s===0?"–∫–≥":"kg"}`,theme:t}),e.jsx("div",{style:{height:"1px",backgroundColor:S,margin:"5px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(Gt,{theme:t,langIndex:s,data:n}),e.jsx(Nt,{theme:t,langIndex:s,data:n,height:d})]})]})]}),e.jsxs("div",{style:{backgroundColor:j,borderRadius:"24px",border:`1px solid ${S}`,padding:"20px"},children:[e.jsx(Be,{title:s===0?"–û–±—Ö–≤–∞—Ç—ã":"Measurements",theme:t}),e.jsxs("div",{style:{marginTop:"15px",display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px"},children:[e.jsx(le,{label:s===0?"–¢–∞–ª–∏—è":"Waist",value:_(n,1,s),theme:t}),e.jsx(le,{label:s===0?"–ì—Ä—É–¥—å":"Chest",value:_(n,3,s),theme:t}),e.jsx(le,{label:s===0?"–ë–µ–¥—Ä–∞":"Hips",value:_(n,4,s),theme:t})]})]}),e.jsx(ee,{children:M&&e.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,zIndex:9e3,backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},onClick:()=>p(!1),children:e.jsxs(D.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},style:{backgroundColor:r.get("background",t),borderRadius:"30px",padding:"30px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 20px 50px rgba(0,0,0,0.5)"},onClick:B=>B.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsx("h3",{style:{margin:0,color:I},children:s===0?"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è":"Information"}),e.jsx(Ee,{size:24,color:R,onClick:()=>p(!1),style:{cursor:"pointer"}})]}),e.jsx("div",{style:{whiteSpace:"pre-wrap",lineHeight:"1.6",fontSize:i===0?"14px":"16px",color:I},children:Ot(s)})]})})}),o&&n[0].length>0&&e.jsx(wt,{bmi:Pe(v,d,c,g),trains:vt()})]})},Me=({icon:t,label:s,value:i,theme:n,highlight:o})=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("div",{style:{color:o?r.get("currentDateBorder",n):r.get("subText",n),fontSize:"14px"},children:t}),e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("span",{style:{fontSize:"10px",color:r.get("subText",n),textTransform:"uppercase"},children:s}),e.jsx("span",{style:{fontSize:"14px",fontWeight:"700",color:r.get("mainText",n)},children:i})]})]}),q=({title:t,value:s,icon:i,color:n,theme:o})=>e.jsxs("div",{style:{backgroundColor:o==="light"?"rgba(255,255,255,0.7)":"rgba(30,30,30,0.6)",borderRadius:"20px",padding:"15px",border:`1px solid ${o==="light"?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.1)"}`,display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"100px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsx("span",{style:{fontSize:"12px",fontWeight:"700",color:r.get("subText",o)},children:t}),e.jsx("div",{style:{backgroundColor:`${n}20`,padding:"6px",borderRadius:"10px",color:n},children:i})]}),e.jsx("div",{style:{fontSize:"18px",fontWeight:"800",color:r.get("mainText",o)},children:s})]}),Re=({label:t,value:s,theme:i})=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"14px",color:r.get("subText",i)},children:t}),e.jsx("span",{style:{fontSize:"15px",fontWeight:"600",color:r.get("mainText",i)},children:s})]}),Be=({title:t,theme:s})=>e.jsx("div",{style:{fontSize:"13px",fontWeight:"800",color:r.get("subText",s),textTransform:"uppercase",letterSpacing:"1px",marginBottom:"10px"},children:t}),le=({label:t,value:s,theme:i})=>e.jsxs("div",{style:{backgroundColor:i==="light"?"rgba(0,0,0,0.03)":"rgba(255,255,255,0.05)",borderRadius:"14px",padding:"10px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"11px",color:r.get("subText",i),marginBottom:"4px"},children:t}),e.jsx("div",{style:{fontSize:"15px",fontWeight:"700",color:r.get("mainText",i)},children:s})]}),pe=(t,s)=>({text:{textAlign:"left",fontSize:s===0?"13px":"15px",color:r.get("mainText",t)},subtext:{textAlign:"left",fontSize:s===0?"11px":"13px",color:r.get("subText",t)}}),te=(t,s)=>t<=0||s<=0?null:t/Math.pow(s/100,2),Fe=(t,s,i)=>{if(!t||!s)return"medium";const n=typeof i=="number"?i===0?"male":"female":i,o=s,d=t/2.54;return n==="male"?d>65?o<6.5*2.54?"small":o<=7.5*2.54?"medium":"large":d>=62?o<6*2.54?"small":o<=6.5*2.54?"medium":"large":o<5.5*2.54?"small":o<=6*2.54?"medium":"large":o<5.5*2.54?"small":o<=6*2.54?"medium":"large"},It=(t,s,i="medium")=>{const n=t/2.54;let o;return s===0?o=50+2.3*(n-60):o=45.5+2.3*(n-60),i==="small"?o*=.9:i==="large"&&(o*=1.1),Math.max(o,30)},Wt=(t,s,i)=>{if(t<=0||s<18)return null;const n=i==="male"?1:0,o=1.2*t+.23*s-10.8*n-5.4;return Math.max(0,Math.min(100,o))},Pe=(t,s,i,n)=>t<=0||s<=0||i<=0?null:n==="male"?10*t+6.25*s-5*i+5:10*t+6.25*s-5*i-161,zt=(t,s)=>t<16?s===0?"–≤—ã—Ä–∞–∂–µ–Ω–Ω—ã–π –¥–µ—Ñ–∏—Ü–∏—Ç –º–∞—Å—Å—ã":"severe thinness":t<17?s===0?"—É–º–µ—Ä–µ–Ω–Ω—ã–π –¥–µ—Ñ–∏—Ü–∏—Ç –º–∞—Å—Å—ã":"moderate thinness":t<18.5?s===0?"–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –º–∞—Å—Å–∞":"mild thinness":t<25?s===0?"–Ω–æ—Ä–º–∞":"normal":t<30?s===0?"–∏–∑–±—ã—Ç–æ—á–Ω–∞—è –º–∞—Å—Å–∞":"overweight":t<35?s===0?"–æ–∂–∏—Ä–µ–Ω–∏–µ I —Å—Ç–µ–ø–µ–Ω–∏":"obesity class I":t<40?s===0?"–æ–∂–∏—Ä–µ–Ω–∏–µ II —Å—Ç–µ–ø–µ–Ω–∏":"obesity class II":s===0?"–æ–∂–∏—Ä–µ–Ω–∏–µ III —Å—Ç–µ–ø–µ–Ω–∏":"obesity class III",Ht=(t,s,i)=>{const n=te(s[0][s[0].length-1].value,i);return n>18.5&&n<25?r.get("light",t):r.get("heavy",t)},At=(t,s)=>{switch(t){case"small":return s===0?"–∞—Å—Ç–µ–Ω–∏–∫":"asthenic";case"medium":return s===0?"–Ω–æ—Ä–º–æ—Å—Ç–µ–Ω–∏–∫":"normosthenic";case"large":return s===0?"–≥–∏–ø–µ—Ä—Å—Ç–µ–Ω–∏–∫":"hypersthenic";default:return s===0?"–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ":"unknown"}},_=(t,s,i)=>{if(t[s].length===0)return"-";const n=s<1?i===0?" –∫–≥":" kg":i===0?" —Å–º":" sm";return t[s][t[s].length-1].value.toFixed(1)+n},Lt=(t,s,i)=>{if(t[0][t[0].length-1].value===null)return"-";const n=te(t[0][t[0].length-1].value,i);return n.toFixed(1)+" "+zt(n,s)},Et=(t,s,i,n)=>t[0][t[0].length-1].value===null?"-":Wt(te(t[0][t[0].length-1].value,s),i,n).toFixed(),Pt=(t,s,i,n,o)=>t[0][t[0].length-1].value===null?"-":Pe(t[0][t[0].length-1].value,i,n,o).toFixed()+(s===0?" –∫–∫–∞–ª":" kcal"),$t=(t,s)=>{if(t[0][t[0].length-1].value===null)return 1;const i=te(t[0][t[0].length-1].value,s);return i<18.5?0:i<25?1:i<35?2:3},Gt=({theme:t,langIndex:s,data:i})=>{const n=i[1]?.[i[1]?.length-1],o=i[4]?.[i[4]?.length-1];if(!n||!o)return null;const d=n.value,c=o.value,g=d/c,x=h.pData.gender===0;let T="normal",M=s===0?"–ù–æ—Ä–º–∞":"Normal";x?g>=.9&&g<1?T="elevated":g>=1&&(T="high",M=s===0?"–ü–æ–≤—ã—à–µ–Ω–Ω—ã–π —Ä–∏—Å–∫":"High risk"):g>=.85&&g<.9?T="elevated":g>=.9&&(T="high",M=s===0?"–ü–æ–≤—ã—à–µ–Ω–Ω—ã–π —Ä–∏—Å–∫":"High risk");const p=T==="normal"?r.get("difficulty0",t):r.get("difficulty5",t);return e.jsx("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",borderRadius:"5px",minWidth:"45%"},children:e.jsxs("span",{style:{...pe(t,!1).text,color:p,fontSize:"12px"},children:["WHR: ",g.toFixed(2),M]})})},Nt=({theme:t,langIndex:s,data:i,height:n})=>{const o=i[1]?.[i[1]?.length-1];if(!o)return null;const c=o.value/n;let g="normal";c>=.5&&c<.6?g="elevated":c>=.6&&(g="high");const x=g==="normal"?r.get("difficulty0",t):r.get("difficulty5",t);return e.jsx("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",borderRadius:"5px",minWidth:"45%"},children:e.jsxs("span",{style:{...pe(t,!1).text,color:x,fontSize:"12px"},children:["WHtR: ",c.toFixed(2)]})})},Ot=t=>t===0?`‚Ä¢ **–ò–ú–¢ (–ò–Ω–¥–µ–∫—Å –º–∞—Å—Å—ã —Ç–µ–ª–∞)** ‚Äî —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –≤–µ—Å–∞ –∏ —Ä–æ—Å—Ç–∞.  
–ù–æ—Ä–º–∞: 18.5‚Äì24.9. –í—ã—à–µ 25 ‚Äî –∏–∑–±—ã—Ç–æ—á–Ω—ã–π –≤–µ—Å, –≤—ã—à–µ 30 ‚Äî –æ–∂–∏—Ä–µ–Ω–∏–µ. –ò–ú–¢ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –º—ã—à–µ—á–Ω—É—é –º–∞—Å—Å—É.  

‚Ä¢ **WHR (–¢–∞–ª–∏—è‚Äì–±–µ–¥—Ä–∞)** ‚Äî –æ–∫—Ä—É–∂–Ω–æ—Å—Ç—å —Ç–∞–ª–∏–∏ √∑ –æ–∫—Ä—É–∂–Ω–æ—Å—Ç—å –±—ë–¥–µ—Ä.  
–£ –º—É–∂—á–∏–Ω: <0.95 ‚Äî –Ω–∏–∑–∫–∏–π —Ä–∏—Å–∫, >1.0 ‚Äî –≤—ã—Å–æ–∫–∏–π.  
–£ –∂–µ–Ω—â–∏–Ω: <0.80 ‚Äî –Ω–∏–∑–∫–∏–π —Ä–∏—Å–∫, >0.85 ‚Äî –≤—ã—Å–æ–∫–∏–π.  
–í—ã—Å–æ–∫–∏–π WHR —Å–≤—è–∑–∞–Ω —Å —Ä–∏—Å–∫–æ–º —Å–µ—Ä–¥–µ—á–Ω–æ-—Å–æ—Å—É–¥–∏—Å—Ç—ã—Ö –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π –∏ –¥–∏–∞–±–µ—Ç–∞.  

‚Ä¢ **WHtR (–¢–∞–ª–∏—è‚Äì—Ä–æ—Å—Ç)** ‚Äî –æ–∫—Ä—É–∂–Ω–æ—Å—Ç—å —Ç–∞–ª–∏–∏ √∑ —Ä–æ—Å—Ç.  
–ó–¥–æ—Ä–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å: <0.5. –ó–Ω–∞—á–µ–Ω–∏–µ ‚â•0.5 —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø–æ–≤—ã—à–µ–Ω–Ω—ã–π —Ä–∏—Å–∫ —Ö—Ä–æ–Ω–∏—á–µ—Å–∫–∏—Ö –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –ò–ú–¢.  

‚Ä¢ **–ë–∞–∑–∞–ª—å–Ω—ã–π –º–µ—Ç–∞–±–æ–ª–∏–∑–º (BMR)** ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–ª–æ—Ä–∏–π, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–º—É –≤ –ø–æ–∫–æ–µ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.  
–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ú–∏—Ñ—Ñ–ª–∏–Ω–∞‚Äì–°–∞–Ω –ñ–µ–æ—Ä–∞) —Å —É—á—ë—Ç–æ–º –≤–æ–∑—Ä–∞—Å—Ç–∞, –ø–æ–ª–∞, –≤–µ—Å–∞ –∏ —Ä–æ—Å—Ç–∞.  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –æ—Å–Ω–æ–≤–∞ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —Å—É—Ç–æ—á–Ω—ã—Ö —ç–Ω–µ—Ä–≥–æ–∑–∞—Ç—Ä–∞—Ç.`:`‚Ä¢ **BMI (Body Mass Index)** ‚Äî weight-to-height ratio.  
Normal range: 18.5‚Äì24.9. ‚â•25 indicates overweight, ‚â•30 indicates obesity. BMI does not account for muscle mass.  

‚Ä¢ **WHR (Waist-to-Hip Ratio)** ‚Äî waist circumference √∑ hip circumference.  
Men: <0.95 = low risk, >1.0 = high risk.  
Women: <0.80 = low risk, >0.85 = high risk.  
High WHR is linked to increased risk of heart disease and type 2 diabetes.  

‚Ä¢ **WHtR (Waist-to-Height Ratio)** ‚Äî waist circumference √∑ height.  
Healthy target: <0.5. A value ‚â•0.5 suggests elevated risk of chronic diseases, regardless of BMI.  

‚Ä¢ **Basal Metabolic Rate (BMR)** ‚Äî calories your body needs at rest to maintain vital functions.  
Calculated using equations (e.g., Mifflin-St Jeor) based on age, sex, weight, and height.  
Serves as the foundation for estimating daily calorie needs.`,Vt=({startValue:t=50,endValue:s=70,mediumValue:i=60,unit:n="kg",langIndex:o=0,goal:d=0,size:c=220,textColor:g="#fff",linesColor:x="#333",minColor:T="#e74c3c",maxColor:M="#2ecc71",mediumColor:p="#3498db"})=>{const u=s-t,j=Math.abs(u),S=u===0,I=d===0?u>0:u<0,R=u>=0?"+":"‚àí",k=S?g:I?M:T,v=10,B=12,C=c/2-v,m=C-v-B,f=m-v-B,w=2*Math.PI*C,W=2*Math.PI*m,P=2*Math.PI*f,H=Math.max(t,i,s)*1.1||1,G=(L,N,O)=>({hidden:{strokeDashoffset:L},visible:{strokeDashoffset:L*(1-N/O),transition:{duration:1.5,ease:"easeOut"}}});return e.jsxs("div",{style:{position:"relative",width:c,height:c,display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsxs("svg",{width:c,height:c,viewBox:`0 0 ${c} ${c}`,style:{transform:"rotate(-90deg)"},children:[e.jsx("circle",{cx:c/2,cy:c/2,r:C,fill:"none",stroke:x,strokeWidth:v,strokeLinecap:"round",opacity:.3}),e.jsx("circle",{cx:c/2,cy:c/2,r:m,fill:"none",stroke:x,strokeWidth:v,strokeLinecap:"round",opacity:.3}),e.jsx("circle",{cx:c/2,cy:c/2,r:f,fill:"none",stroke:x,strokeWidth:v,strokeLinecap:"round",opacity:.3}),e.jsx(D.circle,{cx:c/2,cy:c/2,r:C,fill:"none",stroke:k,strokeWidth:v,strokeLinecap:"round",strokeDasharray:w,variants:G(w,s,H),initial:"hidden",animate:"visible"}),e.jsx(D.circle,{cx:c/2,cy:c/2,r:m,fill:"none",stroke:p,strokeWidth:v,strokeLinecap:"round",strokeDasharray:W,variants:G(W,i,H),initial:"hidden",animate:"visible"}),e.jsx(D.circle,{cx:c/2,cy:c/2,r:f,fill:"none",stroke:g,strokeWidth:v,strokeLinecap:"round",opacity:.5,strokeDasharray:P,variants:G(P,t,H),initial:"hidden",animate:"visible"})]}),e.jsxs("div",{style:{position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:"32px",fontWeight:"900",color:k,lineHeight:"1"},children:[R,j.toFixed(1),e.jsx("span",{style:{fontSize:"14px",fontWeight:"600",marginLeft:"2px"},children:n})]}),e.jsx("div",{style:{fontSize:"11px",color:g,opacity:.5,textTransform:"uppercase",letterSpacing:"1px",marginTop:"4px"},children:o===0?"–ò–∑–º–µ–Ω–µ–Ω–∏–µ":"Change"}),e.jsxs("div",{style:{display:"flex",gap:"15px",marginTop:"15px"},children:[e.jsx(ae,{label:o===0?"–ù–∞—á–∞–ª–æ":"Start",val:t,color:g,opacity:.5}),e.jsx(ae,{label:o===0?"–°—Ä–µ–¥–Ω–µ–µ":"Avg",val:i,color:p}),e.jsx(ae,{label:o===0?"–ö–æ–Ω–µ—Ü":"End",val:s,color:k})]})]})]})},ae=({label:t,val:s,color:i,opacity:n=1})=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:i,opacity:n,marginBottom:"2px"}}),e.jsx("span",{style:{fontSize:"12px",fontWeight:"700",color:i,opacity:n},children:s.toFixed(0)})]}),Ut=[["–í–µ—Å","Weight"],["–¢–∞–ª–∏—è","Waist"],["–ë–∏—Ü–µ–ø—Å","Biceps"],["–ì—Ä—É–¥—å","Chest"],["–ë—ë–¥—Ä–∞","Hips"]],Yt=[["–ú–µ—Å—è—Ü","Month"],["–ü–æ–ª–≥–æ–¥–∞","6 Months"],["–ì–æ–¥","Year"]],Jt=[28,180,360],Xt=({theme:t,langIndex:s,fSize:i,data:n})=>{const[o,d]=a.useState(0),[c,g]=a.useState(0),[x,T]=a.useState(h.pData.goal);a.useEffect(()=>{T(h.pData.goal)},[h.pData.goal]);const p=(()=>{const C=n[o]||[];if(C.length===0)return[];const m=new Date,f=new Date(m);return f.setDate(m.getDate()-Jt[c]),C.filter(w=>new Date(w.date)>=f).sort((w,W)=>new Date(w.date)-new Date(W.date))})(),u=qt(p),j=p.length>0?p[p.length-1].value:0,S=p.length>0?p[0].value:j,I=p.length>0?p.reduce((C,m)=>C+m.value,0)/p.length:j,R=C=>C===0?"kg":"cm",k=t==="light"||t==="speciallight",v=k?"rgba(255,255,255,0.7)":"rgba(30,30,30,0.6)",B=k?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.1)";return e.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:"20px",paddingBottom:"50px"},children:[e.jsxs("div",{style:{width:"94%",height:"280px",backgroundColor:v,borderRadius:"24px",border:`1px solid ${B}`,padding:"15px",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("div",{style:{width:"100%",overflowX:"auto",display:"flex",gap:"8px",paddingBottom:"10px",scrollbarWidth:"none"},children:Ut.map((C,m)=>{const f=o===m;return e.jsx(D.div,{onClick:()=>d(m),whileTap:{scale:.95},style:{padding:"6px 14px",borderRadius:"20px",backgroundColor:f?r.get("currentDateBorder",t):k?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.05)",color:f?"#fff":r.get("subText",t),fontSize:i===0?"12px":"14px",fontWeight:f?"600":"500",whiteSpace:"nowrap",cursor:"pointer",transition:"all 0.2s"},children:C[s]},m)})}),e.jsx("div",{style:{flex:1,width:"100%",marginTop:"5px"},children:e.jsx(Ct,{data:u,fillColor:r.get(Kt(x,S,j),t),textColor:r.get("subText",t),linesColor:r.get("border",t),backgroundColor:"transparent"})})]}),e.jsxs("div",{style:{width:"94%",display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:[e.jsx("div",{style:{display:"flex",backgroundColor:k?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.05)",padding:"4px",borderRadius:"16px",width:"100%",maxWidth:"400px"},children:Yt.map((C,m)=>{const f=c===m;return e.jsxs("div",{onClick:()=>g(m),style:{flex:1,position:"relative",cursor:"pointer",textAlign:"center",padding:"8px 0"},children:[f&&e.jsx(D.div,{layoutId:"periodTab",style:{position:"absolute",inset:0,backgroundColor:k?"#fff":"rgba(255,255,255,0.1)",borderRadius:"12px",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"}}),e.jsx("span",{style:{position:"relative",zIndex:1,fontSize:"13px",fontWeight:f?"700":"500",color:f?r.get("mainText",t):r.get("subText",t)},children:C[s]})]},m)})}),e.jsx("div",{style:{padding:"20px",borderRadius:"30px",backgroundColor:v,border:`1px solid ${B}`,display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(Vt,{startValue:S,endValue:j,mediumValue:I,unit:R(o),langIndex:s,goal:x===2?1:0,size:220,theme:t,textColor:r.get("mainText",t),linesColor:k?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.05)",minColor:"#FF453A",maxColor:"#30D158",mediumColor:"#0A84FF"})})]})]})};function qt(t){return t.map(s=>({date:_t(s.date),weight:Math.round(s.value)}))}function _t(t){const s=t.split("-");return`${s[2]}.${s[1]}`}const Kt=(t,s,i)=>t===2?s<i?"regress":"areaChart":s<i?"areaChart":"regress",Qt=[["–í–µ—Å —Ç–µ–ª–∞","Body weight"],["–û–±—Ö–≤–∞—Ç —Ç–∞–ª–∏–∏","Waist circumference"],["–û–±—Ö–≤–∞—Ç –±–∏—Ü–µ–ø—Å–∞","Biceps circumference"],["–û–±—Ö–≤–∞—Ç –≥—Ä—É–¥–∏","Chest circumference"],["–û–±—Ö–≤–∞—Ç –±—ë–¥–µ—Ä","Hips circumference"]],K=new Date,ce=[["—è–Ω–≤","—Ñ–µ–≤","–º–∞—Ä—Ç","–∞–ø—Ä","–º–∞–π","–∏—é–Ω—å","–∏—é–ª—å","–∞–≤–≥","—Å–µ–Ω—Ç","–æ–∫—Ç","–Ω–æ—è–±","–¥–µ–∫"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]],Ie=[["–ù–∞–±–æ—Ä –º–∞—Å—Å—ã","Mass gain"],["–°–∏–ª–∞","Strength"],["–ñ–∏—Ä–æ—Å–∂–∏–≥–∞–Ω–∏–µ","Weight loss"],["–ó–¥–æ—Ä–æ–≤—å–µ","Health"],["–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å–∏—Ç—å","Endurance"]],E=(t,s,i=1)=>{const n=[];for(let o=t;o<=s;o+=i)n.push(i===1?o:parseFloat(o.toFixed(1)));return n},ls=()=>{const[t,s]=a.useState("dark"),[i,n]=a.useState(h.prefs[0]),[o,d]=a.useState(h.prefs[4]),[c,g]=a.useState(pt.hasPremium),[x,T]=a.useState(-2),[M,p]=a.useState(-1),[u,j]=a.useState(h.measurements),[S,I]=a.useState("volume"),[R,k]=a.useState(!1),[v,B]=a.useState(!1),[C,m]=a.useState(!1),[f,w]=a.useState(!1),[W,P]=a.useState(K.getFullYear()),[H,G]=a.useState(K.getMonth()),[L,N]=a.useState(K.getDate()),[O,ge]=a.useState(70),[ue,fe]=a.useState(0),[$e,Ge]=a.useState(h.pData.filled),[V,Ne]=a.useState(h.pData.age),[$,he]=a.useState(h.pData.gender),[U,Oe]=a.useState(h.pData.height),[se,Ve]=a.useState(h.pData.wrist),[Y,Ue]=a.useState(h.pData.goal),Ye=a.useMemo(()=>E(2020,K.getFullYear()),[]),Je=a.useMemo(()=>E(1,31),[]),Xe=a.useMemo(()=>E(0,300),[]),qe=a.useMemo(()=>E(0,9),[]),_e=a.useMemo(()=>E(10,100),[]),Ke=a.useMemo(()=>E(50,250),[]),Qe=a.useMemo(()=>E(10,40,.5),[]),ie=a.useMemo(()=>Ie.map(l=>l[i]),[i]);a.useEffect(()=>{const l=Z.subscribe(s),b=ze.subscribe(J=>n(J==="ru"?0:1)),F=He.subscribe(d),z=gt.subscribe(g);return()=>{l.unsubscribe(),b.unsubscribe(),F.unsubscribe(),z.unsubscribe()}},[]);const ne=l=>l<0||l>=h.measurements.length?[]:h.measurements[l],me=()=>parseFloat(`${O}.${ue}`),ye=l=>{const b=parseFloat(l)||0;ge(Math.floor(b)),fe(Math.round(b%1*10))};a.useEffect(()=>{const l=new Date(W,H+1,0).getDate();L>l&&N(l)},[W,H]);const Ze=async()=>{if(x===-1)return;const l=new Date(W,H,L).toISOString().split("T")[0],b=me();if(b<=0)return;const F={date:l,value:b},z=[...ne(x)],J=z.findIndex(oe=>oe.date===l);J>=0?z[J]=F:z.push(F),z.sort((oe,ot)=>new Date(oe.date)-new Date(ot.date)),h.measurements[x]=z,await X(),k(!1),j(h.measurements)},et=async()=>{if(x===-1||M===-1)return;const l=new Date(W,H,L).toISOString().split("T")[0],b=me(),F=[...ne(x)];F[M]={date:l,value:b},h.measurements[x]=F,await X(),B(!1),j(h.measurements)},tt=async()=>{const l=[...ne(x)];l.splice(M,1),h.measurements[x]=l,await X(),m(!1),j(h.measurements)},st=l=>{l.stopPropagation();const b=u[x].length>0?u[x][u[x].length-1].value:0;ye(b||0),k(!0)},it=l=>{p(l),ye(u[x][l].value),B(!0)},nt=async()=>{h.pData={filled:!0,age:V,gender:$,height:U,wrist:se,goal:Y},await X(),Ge(!0),w(!1)},be=t==="light"||t==="speciallight",je=be?"rgba(255,255,255,0.7)":"rgba(30,30,30,0.6)",ve=be?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.1)";return e.jsxs("div",{style:y(t).container,children:[e.jsx(St,{type:1,theme:t,langIndex:i,activeTab:S,onChange:I}),S==="volume"&&e.jsxs("div",{style:{width:"100%",maxWidth:"600px",display:"flex",flexDirection:"column",gap:"12px",paddingBottom:"100px"},children:[e.jsxs(D.div,{layout:!0,style:{...y(t).card,backgroundColor:je,border:`1px solid ${ve}`},children:[e.jsxs("div",{style:y(t).cardHeader,onClick:()=>T(l=>l===-1?-2:-1),children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("div",{style:y(t).iconBox,children:e.jsx(ut,{size:18,color:r.get("mainText",t)})}),e.jsx("span",{style:y(t,o).headerText,children:i===0?"–õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ":"Personal Data"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[x===-1&&e.jsx(Ce,{size:14,color:r.get("subText",t),onClick:l=>{l.stopPropagation(),w(!0)}}),x===-1?e.jsx(Se,{size:12,color:r.get("subText",t)}):e.jsx(ke,{size:12,color:r.get("subText",t)})]})]}),e.jsx(ee,{children:x===-1&&e.jsx(D.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},style:{overflow:"hidden"},children:e.jsxs("div",{style:{padding:"0 15px 20px",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[e.jsx(Q,{label:i===0?"–í–æ–∑—Ä–∞—Å—Ç":"Age",value:V,sub:i===0?"–ª–µ—Ç":"y.o.",theme:t}),e.jsx(Q,{label:i===0?"–ü–æ–ª":"Gender",value:$===0?i===0?"–ú—É–∂":"Male":i===0?"–ñ–µ–Ω":"Fem",theme:t,icon:$===0?e.jsx(we,{}):e.jsx(Te,{})}),e.jsx(Q,{label:i===0?"–†–æ—Å—Ç":"Height",value:U,sub:"cm",theme:t}),e.jsx(Q,{label:i===0?"–¶–µ–ª—å":"Goal",value:Ie[Y][i],theme:t,isWide:!0})]})})})]}),u.map((l,b)=>e.jsxs(D.div,{layout:!0,style:{...y(t).card,backgroundColor:je,border:`1px solid ${ve}`},children:[e.jsxs("div",{style:y(t).cardHeader,onClick:()=>T(F=>F===b?-2:b),children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("div",{style:y(t).iconBox,children:b>0?kt.get(b-1,i,t):e.jsx(ft,{size:18,color:r.get("mainText",t)})}),e.jsx("span",{style:y(t,o).headerText,children:Qt[b][i]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("span",{style:y(t).valueBadge,children:l.length>0?Number.isInteger(l[l.length-1].value)?l[l.length-1].value:l[l.length-1].value.toFixed(1):"-"}),x===b?e.jsx(Se,{size:12,color:r.get("subText",t)}):e.jsx(ke,{size:12,color:r.get("subText",t)})]})]}),e.jsx(ee,{children:x===b&&e.jsx(D.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},style:{overflow:"hidden"},children:e.jsxs("div",{style:{padding:"0 15px 15px"},children:[e.jsxs(D.button,{whileTap:{scale:.98},onClick:st,style:y(t).addBtn,children:[e.jsx(ht,{size:12})," ",i===0?"–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ä":"Add Measurement"]}),e.jsxs("div",{style:{marginTop:"15px",display:"flex",flexDirection:"column-reverse",gap:"8px"},children:[l.map((F,z)=>e.jsxs("div",{style:y(t).historyRow,children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"12px",color:r.get("subText",t),marginBottom:"2px"},children:F.date}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsxs("span",{style:{fontSize:"16px",fontWeight:"700",color:r.get("mainText",t)},children:[Number.isInteger(F.value)?F.value:F.value.toFixed(1),e.jsx("span",{style:{fontSize:"12px",fontWeight:"400",marginLeft:"4px"},children:b===0?i===0?"–∫–≥":"kg":"cm"})]}),e.jsx(Zt,{data:u,type:b,ind:z,theme:t})]})]}),e.jsxs("div",{style:{display:"flex",gap:"15px"},children:[e.jsx(Ce,{size:14,color:r.get("subText",t),onClick:()=>it(z),style:{cursor:"pointer"}}),e.jsx(mt,{size:14,color:"#ff4d4d",onClick:()=>{p(z),m(!0)},style:{cursor:"pointer",opacity:.8}})]})]},z)),l.length===0&&e.jsx("div",{style:{textAlign:"center",fontSize:"13px",color:r.get("subText",t),padding:"10px"},children:i===0?"–ü—É—Å—Ç–æ":"Empty"})]})]})})})]},b))]}),S==="muscles"&&e.jsx(Ft,{theme:t,langIndex:i,fSize:o,data:u,filled:$e,age:V,height:U,gender:$,goal:Y,wrist:se}),S==="exercises"&&e.jsx(Xt,{theme:t,langIndex:i,fSize:o,data:u}),e.jsxs(ee,{children:[(R||v)&&e.jsxs(de,{onClose:()=>{k(!1),B(!1)},theme:t,children:[e.jsx("div",{style:y(t).modalHeader,children:e.jsx("h3",{style:y(t).modalTitle,children:i===0?R?"–ù–æ–≤—ã–π –∑–∞–º–µ—Ä":"–ò–∑–º–µ–Ω–∏—Ç—å":R?"New Entry":"Edit Entry"})}),e.jsxs("div",{style:y(t).sectionLabel,children:[e.jsx(yt,{})," ",i===0?"–î–∞—Ç–∞":"Date"]}),e.jsxs("div",{style:{...y(t).pickerRow,marginBottom:"20px"},children:[e.jsx(A,{items:Ye,value:W,onChange:P,theme:t,width:"80px"}),e.jsx(A,{items:ce[i],value:ce[i][H],onChange:l=>G(ce[i].indexOf(l)),theme:t,width:"70px"}),e.jsx(A,{items:Je,value:L,onChange:N,theme:t,width:"60px"})]}),e.jsxs("div",{style:y(t).sectionLabel,children:[e.jsx(bt,{})," ",i===0?"–ó–Ω–∞—á–µ–Ω–∏–µ":"Value"]}),e.jsxs("div",{style:{...y(t).pickerRow,marginBottom:"30px"},children:[e.jsx(A,{items:Xe,value:O,onChange:ge,theme:t,width:"80px"}),e.jsx("div",{style:{fontSize:"30px",fontWeight:"bold",color:r.get("subText",t),alignSelf:"center",paddingBottom:"5px"},children:"."}),e.jsx(A,{items:qe,value:ue,onChange:fe,theme:t,width:"50px"}),e.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",color:r.get("subText",t),alignSelf:"center",marginLeft:"10px"},children:x===0?i===0?"–∫–≥":"kg":"cm"})]}),e.jsx(xe,{onClose:()=>{k(!1),B(!1)},onConfirm:R?Ze:et,theme:t})]}),C&&e.jsxs(de,{onClose:()=>m(!1),theme:t,children:[e.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[e.jsx("div",{style:{fontSize:"40px",marginBottom:"10px"},children:"üóëÔ∏è"}),e.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",color:r.get("mainText",t)},children:i===0?"–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å?":"Delete entry?"})]}),e.jsx(xe,{onClose:()=>m(!1),onConfirm:tt,theme:t,isDanger:!0})]}),f&&e.jsxs(de,{onClose:()=>w(!1),theme:t,children:[e.jsx("h3",{style:y(t).modalTitle,children:i===0?"–ù–∞—Å—Ç—Ä–æ–π–∫–∏":"Settings"}),e.jsxs("div",{style:{padding:"20px 0"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:"15px",backgroundColor:t==="light"?"rgba(0,0,0,0.03)":"rgba(255,255,255,0.05)",borderRadius:"12px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"12px",color:r.get("subText",t),marginBottom:"5px"},children:i===0?"–í–æ–∑—Ä–∞—Å—Ç":"Age"}),e.jsx(A,{items:_e,value:V,onChange:Ne,theme:t,width:"100px"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"12px",color:r.get("subText",t),marginBottom:"5px"},children:i===0?"–†–æ—Å—Ç (—Å–º)":"Height"}),e.jsx(A,{items:Ke,value:U,onChange:Oe,theme:t,width:"100px"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",marginBottom:"20px",backgroundColor:t==="light"?"rgba(0,0,0,0.03)":"rgba(255,255,255,0.05)",borderRadius:"12px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"12px",color:r.get("subText",t),marginBottom:"5px"},children:i===0?"–ó–∞–ø—è—Å—Ç—å–µ (—Å–º)":"Wrist"}),e.jsx(A,{items:Qe,value:se,onChange:Ve,theme:t,width:"100px"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100px"},children:[e.jsx("span",{style:{fontSize:"12px",color:r.get("subText",t),marginBottom:"10px"},children:i===0?"–ü–æ–ª":"Gender"}),e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx(We,{active:$===0,icon:e.jsx(we,{}),color:"#5fb6c6",onClick:()=>he(0),theme:t}),e.jsx(We,{active:$===1,icon:e.jsx(Te,{}),color:"#c65f9d",onClick:()=>he(1),theme:t})]})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:t==="light"?"rgba(0,0,0,0.03)":"rgba(255,255,255,0.05)",borderRadius:"12px"},children:[e.jsx("span",{style:{fontSize:"12px",color:r.get("subText",t),marginBottom:"5px"},children:i===0?"–¶–µ–ª—å":"Goal"}),e.jsx(A,{items:ie,value:ie[Y],onChange:l=>Ue(ie.indexOf(l)),theme:t,width:"200px"})]})]}),e.jsx(xe,{onClose:()=>w(!1),onConfirm:nt,theme:t})]})]}),!c&&e.jsx("div",{onClick:l=>l.stopPropagation(),style:{position:"absolute",inset:0,zIndex:2,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:Z.value==="dark"?"rgba(10, 10, 10, 0.85)":"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",textAlign:"center"},children:e.jsx("div",{style:{color:Z.value==="dark"?"#FFD700":"#D97706",fontSize:"11px",fontWeight:"bold",fontFamily:"Segoe UI"},children:i===0?"–¢–û–õ–¨–ö–û –î–õ–Ø –ü–†–ï–ú–ò–£–ú":"PREMIUM USERS ONLY"})})]})},Q=({label:t,value:s,sub:i,theme:n,icon:o,isWide:d})=>e.jsxs("div",{style:{backgroundColor:n==="light"?"rgba(0,0,0,0.03)":"rgba(255,255,255,0.05)",borderRadius:"16px",padding:"12px",display:"flex",flexDirection:"column",alignItems:"center",gridColumn:d?"span 2":"span 1"},children:[e.jsx("div",{style:{fontSize:"11px",color:r.get("subText",n),textTransform:"uppercase",fontWeight:"700",marginBottom:"4px"},children:t}),e.jsxs("div",{style:{fontSize:"18px",fontWeight:"800",color:r.get("mainText",n),display:"flex",alignItems:"center",gap:"4px"},children:[o," ",s," ",e.jsx("span",{style:{fontSize:"12px",fontWeight:"500",opacity:.7},children:i})]})]}),Zt=({data:t,type:s,ind:i,theme:n})=>{if(i>0){const o=t[s][i].value-t[s][i-1].value;if(Math.abs(o)<.01)return null;const d=h.pData.goal===2?o<0:o>0;return e.jsxs("span",{style:{fontSize:"10px",fontWeight:"800",padding:"2px 6px",borderRadius:"6px",backgroundColor:d?"rgba(76, 175, 80, 0.1)":"rgba(244, 67, 54, 0.1)",color:d?"#4CAF50":"#F44336",marginLeft:"8px"},children:[d?"+":"",Number.isInteger(o)?o:o.toFixed(1)]})}return null},de=({children:t,onClose:s,theme:i})=>e.jsx("div",{style:y(i).backdrop,onClick:s,children:e.jsxs(D.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},style:y(i).sheet,onClick:n=>n.stopPropagation(),children:[e.jsx("div",{style:y(i).handle}),t]})}),We=({active:t,icon:s,color:i,onClick:n,theme:o})=>e.jsx(D.div,{whileTap:{scale:.9},onClick:n,style:{width:"40px",height:"40px",borderRadius:"12px",backgroundColor:t?i:o==="light"?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",color:t?"#fff":r.get("subText",o),border:t?"none":`1px solid ${r.get("border",o)}`},children:s}),xe=({onClose:t,onConfirm:s,theme:i,isDanger:n})=>e.jsxs("div",{style:{display:"flex",gap:"15px",marginTop:"25px"},children:[e.jsx(D.button,{whileTap:{scale:.95},onClick:t,style:y(i).secBtn,children:e.jsx(Ee,{size:22})}),e.jsx(D.button,{whileTap:{scale:.95},onClick:s,style:{...y(i).priBtn,backgroundColor:n?"#ff4d4d":r.get("done",i)},children:e.jsx(jt,{size:22})})]}),y=(t,s)=>({container:{display:"flex",width:"100vw",flexDirection:"column",overflowY:"scroll",overflowX:"hidden",alignItems:"center",backgroundColor:r.get("background",t),height:"92vh",marginTop:"110px"},card:{width:"94%",borderRadius:"24px",margin:"0 auto",overflow:"hidden",transition:"all 0.3s"},cardHeader:{padding:"15px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},headerText:{fontSize:s===0?"16px":"18px",fontWeight:"700",color:r.get("mainText",t)},iconBox:{width:"36px",height:"36px",borderRadius:"10px",backgroundColor:t==="light"?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center"},valueBadge:{fontSize:"14px",fontWeight:"700",padding:"4px 10px",borderRadius:"8px",backgroundColor:t==="light"?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.1)",color:r.get("mainText",t)},addBtn:{width:"100%",padding:"12px",borderRadius:"12px",border:"none",backgroundColor:r.get("difficulty",t),color:"#fff",fontWeight:"700",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer"},historyRow:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",backgroundColor:t==="light"?"rgba(0,0,0,0.02)":"rgba(255,255,255,0.03)",borderRadius:"12px",marginBottom:"4px"},backdrop:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(5px)",zIndex:3e3,display:"flex",alignItems:"flex-end",justifyContent:"center"},sheet:{width:"100%",maxWidth:"600px",backgroundColor:r.get("background",t),borderTopLeftRadius:"30px",borderTopRightRadius:"30px",padding:"20px 20px 40px 20px",boxShadow:"0 -10px 40px rgba(0,0,0,0.3)",borderTop:`1px solid ${r.get("border",t)}`,display:"flex",flexDirection:"column"},handle:{width:"40px",height:"4px",backgroundColor:r.get("subText",t),borderRadius:"2px",margin:"0 auto 20px auto",opacity:.3},modalHeader:{textAlign:"center",marginBottom:"20px"},modalTitle:{fontSize:"18px",fontWeight:"800",color:r.get("mainText",t),margin:0},sectionLabel:{fontSize:"12px",fontWeight:"700",textTransform:"uppercase",color:r.get("subText",t),marginBottom:"10px",display:"flex",alignItems:"center",gap:"6px",letterSpacing:"1px"},pickerRow:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",backgroundColor:t==="light"?"rgba(0,0,0,0.03)":"rgba(255,255,255,0.05)",borderRadius:"20px",padding:"15px"},secBtn:{flex:1,padding:"15px",borderRadius:"16px",border:"none",backgroundColor:r.get("skipped",t),color:r.get("subText",t),cursor:"pointer",display:"flex",justifyContent:"center"},priBtn:{flex:1,padding:"15px",borderRadius:"16px",border:"none",color:"#fff",cursor:"pointer",display:"flex",justifyContent:"center",boxShadow:"0 5px 15px rgba(0,0,0,0.2)"}});export{ls as default};
