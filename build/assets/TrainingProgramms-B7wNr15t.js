import{A as S,t as Ie,l as ze,Q as Pe,f as Ae,j as e,C as a,aD as Re,X as ae,g as le,a2 as O,aE as Le,aF as Te,aG as ce,aH as $e,i as Q,k as P,aI as Ee,aJ as Fe,T as Me,aK as Be,aL as Ne,aM as Ge,aN as He,aO as Ue,aP as Oe,aQ as Qe}from"./index-3Gb5z9vY.js";import{r as c}from"./recharts-DVuIdjrD.js";import{b,c as v}from"./index-Cdbzhji9.js";import{T as de,a as xe}from"./index-ebxYSzpI.js";import{M as W}from"./MyInput-CD_9I0WA.js";import We from"./TrainingExercise-CVZHS8V2.js";const Ze=()=>{const[s,A]=c.useState(S.programs),u=()=>{A(S.programs)},[t,fe]=c.useState("dark"),[l,pe]=c.useState(S.prefs[0]),[f,ge]=c.useState(S.prefs[1]),[ue,R]=c.useState(!1),[g,J]=c.useState(!1),[d,K]=c.useState(-1),[x,k]=c.useState(-1),[L,T]=c.useState(""),[$,E]=c.useState(""),[V,X]=c.useState(3),[h,Y]=c.useState(4),[F,M]=c.useState(6),[j,Z]=c.useState(0),[y,B]=c.useState(0),[_,ee]=c.useState(1),[N,D]=c.useState(l===0?"День 1":"Day 1"),[ye,I]=c.useState(!1),[me,te]=c.useState(!1),[he,G]=c.useState(!1),[je,ne]=c.useState(!1),[Ce,we]=c.useState(""),[ie,se]=c.useState(0);c.useEffect(()=>{h>F-2&&M(n=>n+1)},[h]),c.useEffect(()=>{const n=Ie.subscribe(fe),r=ze.subscribe(o=>{pe(o==="ru"?0:1)});return()=>{r.unsubscribe(),n.unsubscribe()}},[]),c.useEffect(()=>{const n=Pe.subscribe(o=>R(o==="AddProgrammPanel")),r=Ae.subscribe(ge);return()=>{n.unsubscribe(),r.unsubscribe()}},[]),c.useEffect(()=>{if(d===-1)return;const r=s[d].schedule.length;ee(r),D(l===0?`День ${r+1}`:`Day ${r+1}`)},[d,l]);function C(){u(),J(!1),I(!1),G(!1),Me("")}function Se(){Ge(q(L),q($)),T(""),E(""),C()}function be(){He(d,q(N)),ee(n=>n+1),D(l===0?"День "+(_+2):"Day "+(_+2)),C()}function ve(){let n=l===0?"время":"time";j===0&&(n=V+"x"+h+"-"+F),Ue(d,x,y,n),ne(!1),u()}function H(n){se(n);let r="";switch(n){case 0:const o=s[d].name,p=Array.isArray(o)?o[l]:o;r=l===0?"Вы уверены, что хотите удалить программу : "+p+" ?":"Are you sure you want to delete the program : "+p+" ?";break;case 1:const w=s[d]?.schedule[x]?.name;r=l===0?"Вы уверены, что хотите удалить тренировочный день : "+w[l]+" ?":"Are you sure you want to delete the training day : "+w[l]+" ?";break;case 2:const U=s[d].schedule[x]?.exercises[y]?.exId;Ee(d,x,U),u();break}we(r),G(n<2)}function ke(){switch(ie){case 0:Qe(d),K(-1);break;case 1:Oe(d,x),k(n=>n-1);break}C()}function oe(n){switch(J(!0),se(n),n){case 0:const r=Array.isArray(s[d].name);T(r?s[d].name[l]:s[d].name),E(r?s[d].description[l]:s[d].description),R(!0);break;case 1:const o=s[d].schedule[x].name,p=Array.isArray(o)?o[l]:o;D(p),I(!0);break}}function re(){switch(ie){case 0:Ne(d,L,$);break;case 1:Be(d,x,N);break}C()}function z(n,r){if(Fe(d,n,r,x,y),n===0){let o=x;r===1?o=x-1:r===0&&(o=x+1),o>=0&&k(o)}else{let o=y;r===1?o=y-1:r===0&&(o=y+1),o>=0&&B(o)}u()}function De(n){B(n),te(!1),ne(!0)}return e.jsxs("div",{style:i(t).container,children:[Object.entries(s).map(([n,r])=>({id:Number(n),...r})).filter(n=>n.show).sort((n,r)=>n.id-r.id).map(n=>e.jsxs("div",{style:i(t).panel,children:[e.jsxs("div",{style:i(t,d===n.id,!1).groupPanel,onClick:()=>{K(r=>r===n.id?-1:n.id),k(-1)},children:[d===n.id?e.jsx(b,{style:i(t).icon}):e.jsx(v,{style:i(t).icon}),e.jsx(Re,{style:{...i(t).icon,marginRight:"5px",marginLeft:"5px",fontSize:"16px"}}),e.jsx("p",{style:i(t,!1,!1,f).text,children:Array.isArray(n.name)?n.name[l]:n.name}),e.jsx("p",{style:{...i(t,!1,!1,f).subtext,marginRight:"5px",marginLeft:"auto"},children:n.creationDate})]}),d===n.id&&e.jsxs("div",{style:{...i(t).panel},children:[e.jsx("div",{style:{...i(t,!1,!1,f).subtext,marginRight:"15px",marginLeft:"15px"},children:x===-1&&(Array.isArray(n.description)?n.description[l]:n.description)}),e.jsx("div",{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center"},children:x===-1&&e.jsxs("div",{style:{...i(t,!1,!1,f).dayPanel,width:"98%",justifyContent:"space-around",flexDirection:"row"},children:[e.jsx(ae,{onClick:()=>I(!0),style:{...i(t).icon,fontSize:"14px"}}),e.jsx(le,{onClick:()=>oe(0),style:{...i(t).icon,fontSize:"14px"}}),e.jsx(O,{onClick:()=>H(0),style:{...i(t).icon,fontSize:"14px"}})]})}),e.jsx("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:n.schedule.map((r,o)=>e.jsxs("div",{children:[e.jsxs("div",{style:{...i(t,!1,x===o).dayPanel,width:"98%",flexDirection:"row"},onClick:()=>k(p=>p===o?-1:o),children:[x===o?e.jsx(b,{style:{...i(t).icon,marginLeft:"2%",width:"10px",marginTop:"7px"}}):e.jsx(v,{style:{...i(t).icon,marginLeft:"2%",width:"10px",marginTop:"7px"}}),e.jsx(Le,{style:{...i(t).icon,marginRight:"5px",marginLeft:"5px",fontSize:"14px"}}),e.jsx("p",{style:i(t,!1,!1,f).text,children:l===0?`${o+1}-день : ${r.name[0]}`:`${o+1}-day : ${r.name[1]}`}),x===o&&e.jsxs("div",{onClick:p=>p.stopPropagation(),style:{display:"flex",flexDirection:"row",justifyContent:"center",marginLeft:"auto"},children:[e.jsx(Te,{onClick:()=>te(!0),style:{...i(t).icon,fontSize:"14px"}}),e.jsx(de,{onClick:()=>z(0,0),style:{...i(t).icon,fontSize:"14px"}}),e.jsx(xe,{onClick:()=>z(0,1),style:{...i(t).icon,fontSize:"14px"}}),e.jsx(le,{onClick:()=>oe(1),style:{...i(t).icon,fontSize:"14px"}}),e.jsx(O,{onClick:()=>H(1),style:{...i(t).icon,fontSize:"14px",marginRight:"8px"}})]})]}),x===o&&e.jsx("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:r.exercises.map((p,m)=>{const w=S.exercises[p.exId];return w?e.jsxs("div",{onClick:()=>B(m),style:{display:"flex",flexDirection:"row",width:"95%",marginLeft:"6px",marginRight:"5%",justifyContent:"flex-start",alignItems:"center"},children:[e.jsxs("p",{style:i(t,!1,!1,f).text,children:[m+1,"."]}),e.jsx(ce,{style:{...i(t).icon,marginRight:"5px",marginLeft:"5px",fontSize:"14px"}}),e.jsx("p",{style:i(t,!1,!1,f).text,children:w.name[l]}),e.jsx("p",{style:{...i(t,!1,!1,f).subtext,marginLeft:"auto"},children:p.sets}),y===m&&e.jsxs("div",{onClick:U=>U.stopPropagation(),style:{display:"flex",flexDirection:"row",justifyContent:"center",marginLeft:"auto"},children:[e.jsx(de,{onClick:()=>z(1,0),style:{...i(t).icon,fontSize:"14px"}}),e.jsx(xe,{onClick:()=>z(1,1),style:{...i(t).icon,fontSize:"14px"}}),e.jsx(O,{onClick:()=>H(2),style:{...i(t).icon,fontSize:"14px",marginRight:"8px"}})]})]},m):e.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"95%",marginLeft:"6px",marginRight:"5%",justifyContent:"flex-start",alignItems:"center"},children:[e.jsxs("p",{style:i(t,!1,!1,f).text,children:[m+1,"."]}),e.jsx(ce,{style:{...i(t).icon,marginRight:"5px",marginLeft:"5px",fontSize:"14px"}}),e.jsx("p",{style:{...i(t,!1,!1,f).text,color:"#ff6b6b"},children:l===0?"Упражнение удалено":"Exercise deleted"})]},m)})})]},o))}),e.jsx($e,{programmId:n.id,theme:t,langIndex:l,programs:s})]})]},n.id)),d===-1&&e.jsx("div",{onClick:()=>R(!0),style:{...i(t).groupPanel,height:"5%",justifyContent:"center"},children:e.jsx(ae,{style:{...i(t).icon,fontSize:"24px"}})}),ue&&e.jsx("div",{style:i(t).addContainer,children:e.jsxs("div",{style:{...i(t).additionalPanel,height:"40%"},children:[e.jsx("p",{style:i(t,!1,!1,f).text,children:l===0?g?"Редактировать программу":"Новая программа":g?"Redact programm":"New programm"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",backgroundColor:a.get("background",t),height:"82%",width:"100%",alignItems:"center"},children:[e.jsx(W,{maxL:30,w:"80%",h:"18%",value:g?L:"",theme:t,onChange:n=>T(n),placeHolder:l===0?"Название программы":"Programm name"}),e.jsx(W,{maxL:100,w:"80%",h:"44%",value:g?$:"",theme:t,onChange:n=>E(n),placeHolder:l===0?"Описание программы":"Programm description"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"60%",justifyContent:"space-between"},children:[e.jsx(Q,{onClick:()=>C(),style:{...i(t).icon,fontSize:"32px",marginBottom:"8px"}}),e.jsx(P,{onClick:()=>{g?re():Se()},style:{...i(t).icon,fontSize:"32px",marginBottom:"8px"}})]})]})}),ye&&e.jsx("div",{style:i(t).addContainer,children:e.jsxs("div",{style:{...i(t).additionalPanel,height:"40%"},children:[e.jsx("p",{style:i(t,!1,!1,f).text,children:l===0?g?"Редактировать тренировочный день":"Добавь тренировочный день":g?"Redact training day":"Add training day"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",backgroundColor:a.get("background",t),height:"80%",width:"100%",alignItems:"center"},children:e.jsx(W,{maxL:30,w:"90%",h:"40%",theme:t,value:N,onChange:n=>D(n),placeHolder:l===0?"День":"Day"})}),e.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"60%",justifyContent:"space-between"},children:[e.jsx(Q,{onClick:()=>I(!1),style:{...i(t).icon,fontSize:"32px",marginBottom:"8px"}}),e.jsx(P,{onClick:()=>{g?re():be()},style:{...i(t).icon,fontSize:"32px",marginBottom:"8px"}})]})]})}),me&&e.jsx("div",{style:{...i(t).addContainer},children:e.jsx(We,{needToAdd:!0,setEx:De})}),je&&e.jsx("div",{style:i(t).addContainer,children:e.jsxs("div",{style:{position:"fixed",top:"30vh",left:"7.5vw",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",width:"80vw",height:"80vw",marginTop:"5px",borderRadius:"24px",border:`1px solid ${a.get("border",t)}`,backgroundColor:a.get("background",t),zIndex:"7000"},children:[e.jsx("p",{style:{...i(t,!1,!1,f).text,padding:"20px",marginLeft:"10%",marginRight:"5%"},children:l===0?"Установите стратегию выполнения":"Set performing strategy"}),e.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"90%",justifyContent:"space-around"},children:[e.jsx("div",{onClick:()=>{Z(0)},style:{width:"40%",border:j===0?`2px solid ${a.get("trainingIsolatedFont",t)}`:`1px solid ${a.get("icons",t)}`,borderRadius:"16px",padding:"4px",fontSize:"16px",color:j===1?a.get("subText",t):a.get("trainingIsolatedFont",t)},children:l===0?"Повторы":"Reps"}),e.jsx("div",{onClick:()=>{Z(1)},style:{width:"40%",border:j===1?`2px solid ${a.get("trainingIsolatedFont",t)}`:`1px solid ${a.get("icons",t)}`,borderRadius:"16px",padding:"4px",fontSize:"16px",color:j===0?a.get("subText",t):a.get("trainingIsolatedFont",t)},children:l===0?"Время":"Time"})]}),j===0&&e.jsxs("div",{style:{display:"flex",flexDirection:"row",height:"50%",width:"60%",justifyContent:"space-around"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx(b,{onClick:()=>X(n=>n+1),style:{...i(t).icon,marginLeft:"1px",fontSize:"24px"}}),e.jsx("div",{style:{...i(t).text,fontSize:"24px"},children:V}),e.jsx(v,{onClick:()=>X(n=>n-1>0?n-1:1),style:{...i(t).icon,marginLeft:"1px",fontSize:"24px"}})]}),e.jsx("p",{style:{...i(t).text,fontSize:"24px",marginTop:"30%"},children:"x"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx(b,{onClick:()=>Y(n=>n+1),style:{...i(t).icon,marginLeft:"1px",fontSize:"24px"}}),e.jsx("div",{style:{...i(t).text,fontSize:"24px"},children:h}),e.jsx(v,{onClick:()=>Y(n=>n-1>0?n-1:1),style:{...i(t).icon,marginLeft:"1px",fontSize:"24px"}})]}),e.jsx("p",{style:{...i(t).text,fontSize:"24px",marginTop:"30%"},children:"-"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx(b,{onClick:()=>M(n=>n+1),style:{...i(t).icon,marginLeft:"1px",fontSize:"24px"}}),e.jsx("div",{style:{...i(t).text,fontSize:"24px"},children:F}),e.jsx(v,{onClick:()=>M(n=>n-1>h+2?n-1:h+2),style:{...i(t).icon,marginLeft:"1px",fontSize:"24px"}})]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"row",width:"60%",justifyContent:"center"},children:e.jsx(P,{onClick:()=>ve(),style:{...i(t).icon,fontSize:"32px",marginBottom:"8px"}})})]})}),he&&e.jsx("div",{style:i(t).addContainer,children:e.jsxs("div",{style:{position:"fixed",left:"7.5vw",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"85vw",height:"40vw",marginTop:"5px",borderRadius:"24px",border:`1px solid ${a.get("border",t)}`,backgroundColor:a.get("background",t),zIndex:"7000"},children:[e.jsx("p",{style:{...i(t,!1,!1,f).text,textAlign:"center",padding:"20px",marginLeft:"10%",marginRight:"5%"},children:Ce}),e.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"60%",justifyContent:"space-between"},children:[e.jsx(Q,{onClick:()=>G(!1),style:{...i(t).icon,fontSize:"32px",marginBottom:"8px"}}),e.jsx(P,{onClick:()=>ke(),style:{...i(t).icon,fontSize:"32px",marginBottom:"8px"}})]})]})})]})},i=(s,A,u,t)=>({container:{backgroundColor:a.get("background",s),display:"flex",flexDirection:"column",overflowY:"scroll",justifyContent:"start",alignItems:"center",height:"78vh",paddingTop:"5vh",width:"100vw",fontFamily:"Segoe UI"},groupPanel:{display:"flex",flexDirection:"row",width:"100%",height:"6vh",backgroundColor:A?a.get("trainingGroupSelected",s):a.get("trainingGroup",s),borderTop:`1px solid ${a.get("border",s)}`,alignItems:"center",justifyContent:"left",alignContent:"center"},dayPanel:{display:"flex",flexDirection:"column",width:"100vW",height:"4vh",backgroundColor:u?a.get("trainingGroupSelected",s):a.get("background",s),borderBottom:`1px solid ${a.get("border",s)}`,alignItems:"center",justifyContent:"left"},panel:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyItems:"center"},text:{textAlign:"left",fontSize:t===0?"13px":"15px",color:a.get("mainText",s),marginBottom:"12px"},subtext:{textAlign:"left",fontSize:t===0?"11px":"13px",color:a.get("subText",s),marginBottom:"12px"},icon:{fontSize:"20px",color:a.get("icons",s),marginLeft:"20px"},addContainer:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"10px"},additionalPanel:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",borderRadius:"24px",border:`1px solid ${a.get("border",s)}`,backgroundColor:a.get("simplePanel",s),boxShadow:`4px 4px 6px ${a.get("shadow",s)}`,width:"100%",height:"100vw"},exercisePanel:{display:"flex",flexDirection:"column",width:"90vW",height:"5vh",backgroundColor:u?a.get("trainingGroupSelected",s):a.get("background",s),alignItems:"center",justifyContent:"left"}}),q=s=>s&&s.charAt(0).toUpperCase()+s.slice(1);export{Ze as default};
