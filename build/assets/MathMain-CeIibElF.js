import{A as z,t as Ce,l as Te,f as Me,C as x,j as r,bj as ie,bk as Oe,bu as Ue,bv as Xe,bw as Ke,bq as G,bx as Je,U as Qe,p as Ze,s as et,bp as tt,by as nt,w as st}from"./index-eCHX-zBI.js";import{r as p,R as ot}from"./recharts-DVuIdjrD.js";import{G as rt,a as it}from"./index-BH0HTksk.js";import{s as lt,q as R}from"./MentalHelper-a3Lqtdwd.js";import{B as at}from"./BreathAudio-BGyTU2ue.js";import{M as ct}from"./MentalInput-DuBpcSda.js";function ut(t,e,n){switch(t){case 0:switch(e){case 0:return ae(n);case 1:return ce(n);case 2:return ke(n);case 3:return Y(n);case 4:return dt(n);case 5:return xt(n)}break}return[problem,answer.toString()]}const h=(t,e)=>(t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t),ae=t=>{let e,n,o,l=0;if(t>=0&&t<=5){do l++,e=h(2,10),n=h(2,10),o=e+n;while(o>20&&l<20);return[`${e} + ${n}`,o.toString()]}if(t>=6&&t<=10){do l++,e=h(10,90),n=h(2,9),o=e+n;while(o>100&&l<20);return[`${e} + ${n}`,o.toString()]}if(t>=11&&t<=15){do l++,e=h(20,99),n=h(2,9),o=e-n;while(o<10&&l<20);return[`${e} ‚Äì ${n}`,o.toString()]}if(t>=16&&t<=20){do l++,e=h(2,10),n=h(2,10),o=e*n;while(o>100&&l<20);return[`${e} √ó ${n}`,o.toString()]}return["2 + 3","5"]},ce=t=>{if(t>=0&&t<=5){let e,n,o,l=0;do e=h(10,99),n=h(10,99),o=e+n;while(o>200&&++l<20);return[`${e} + ${n}`,o.toString()]}if(t>=6&&t<=10){let e,n,o,l,s,u=0;do e=h(30,99),n=h(2,9),o=h(10,80),l=e+n,s=l-o;while((s<10||s>150)&&++u<30);return[`${e} + ${n} ‚Äì ${o}`,s.toString()]}if(t>=11&&t<=15){let e,n,o,l,s,u=0;do e=h(25,99),n=h(2,9),o=h(2,12),l=e-n,!(l<=5)&&(s=l*o);while((s<30||s>1e3)&&++u<30);return[`(${e} ‚Äì ${n}) √ó ${o}`,s.toString()]}if(t>=16&&t<=20){let e,n,o,l,s,u=0;do o=h(2,9),l=h(3,12),n=o*l,!(n<10||n>99)&&(e=h(15,80),s=e+l);while((s<20||s>120)&&++u<30);return[`${e} + ${n} √∑ ${o}`,s.toString()]}return["50 + 40","90"]},ke=t=>{if(t>=0&&t<=5){let e,n,o,l,s=0;do e=h(20,80),n=h(20,80),o=h(10,70),l=e+n-o;while((l<10||l>200)&&++s<30);return[`${e} + ${n} ‚àí ${o}`,l.toString()]}if(t>=6&&t<=10){let e,n,o,l,s,u,i,f=0;do e=h(12,30),n=h(3,8),o=h(40,85),l=h(20,o-5),s=e*n,u=o-l,i=s+u;while((i<20||i>500)&&++f<30);return[`${e} √ó ${n} + (${o} ‚àí ${l})`,i.toString()]}if(t>=11&&t<=15){let e,n,o,l,s,u,i=0;do e=h(5,12),n=e*e,o=h(6,14),l=o*o,s=h(20,70),u=n-o+s;while((u<25||u>300)&&++i<30);return[`(${e}¬≤ ‚àí ‚àö${l}) + ${s}`,u.toString()]}if(t>=16&&t<=20){let e,n,o,l,s,u,i,f=0;do e=h(6,12),n=e*e,o=h(2,9),l=h(5,15),s=o*l,!(s<10||s>99)&&(u=h(3,12),i=n+l-u);while((i<30||i>400)&&++f<30);return[`${e}¬≤ + ${s} √∑ ${o} ‚àí ${u}`,i.toString()]}return["12¬≤ + 80 √∑ 5 ‚àí 7","153"]},Y=t=>{t<0&&(t=0);const e=(s,u)=>Math.floor(Math.random()*(u-s+1))+s,n=s=>{const u={0:"‚Å∞",1:"¬π",2:"¬≤",3:"¬≥",4:"‚Å¥",5:"‚Åµ",6:"‚Å∂",7:"‚Å∑",8:"‚Å∏",9:"‚Åπ"};return String(s).split("").map(i=>u[i]||i).join("")},o={2:[[2,1],[4,2],[8,3],[16,4],[32,5],[64,6],[128,7],[256,8],[512,9],[1024,10]],3:[[3,1],[9,2],[27,3],[81,4],[243,5],[729,6]],5:[[5,1],[25,2],[125,3],[625,4]],10:[[10,1],[100,2],[1e3,3],[1e4,4]]},l=(s,u)=>Number.isInteger(u)&&u>0&&u<1e4;if(t<=5){const s=[2,3,5,10],u=s[e(0,s.length-1)],i=o[u][e(0,o[u].length-1)],[f,m]=i,g=e(3,8),S=g**3,j=m+S;return l("",j)?[`${u===10?`log‚ÇÅ‚ÇÄ(${f})`:u===2?`log‚ÇÇ(${f})`:`log${u}(${f})`} + ${g}${n(3)}`,j.toString()]:Y(t)}if(t<=10)if(e(1,3)===1){const s=e(2,12),u=e(3,15),i=e(1,20),f=s*u+i;return[`${s}X + ${i} = ${f}`,u.toString()]}else if(e(0,4)===2){const s=e(2,12),u=e(3,10),i=e(11,20),f=e(11,20),m=s*u-i+f;return[`${s}X - ${i} + ${f} = ${m}`,u.toString()]}else{const s=e(12,52),u=e(13,30),i=e(11,20),f=e(11,20),m=s+i+f-u;return[`${s} + ${i} + ${f} - X = ${m}`,u.toString()]}if(t<=15){const s=e(4,9),u=e(5,15),i=s**3,f=u**2;if(i<=f)return Y(t);const m=[2,3,5][e(0,2)],g=o[m][e(0,o[m].length-1)],[S,j]=g,v=i-f+j;if(!l("",v))return Y(t);const C=m===2?`log‚ÇÇ(${S})`:`log${m}(${S})`;return[`(${s}${n(3)} ‚àí ${u}${n(2)}) + ${C}`,v.toString()]}if(t<=20){let s,u,i,f,m,g,S=0;do{const w=e(7,13),v=e(8,14),C=e(5,11),D=e(4,10),P=e(50,200);if(s=w**2,u=v**2,i=C**3,f=D**2,m=P,g=s+u-i-f+m,S++,S>20)break}while(g<=0||g>=1e4);return g<=0||g>=1e4?["12¬≤ + 11¬≤ ‚àí 5¬≥ ‚àí 6¬≤ + 100","210"]:[`${a}${n(2)} + ${b}${n(2)} ‚àí ${c}${n(3)} ‚àí ${d}${n(2)} + ${m}`,g.toString()]}return["(‚àö4096 + 6¬≥) √∑ log‚ÇÇ(64)","10"]},dt=t=>{if(t<0&&(t=0),t<20)return ae(t);if(t<40)return ce(t-20);if(t<60)return ke(t-40);{const e=(t-60)%21;return Y(e)}},xt=t=>{t<0&&(t=0);const e=t%40;return e<20?ae(e):ce(e-20)};function pt(t,e,n,o,l,s,u){const f=[100,200,300,400,250,50][e]||100;let m=0;if(t===0){const C=Number(s),D=Number(l);m=Math.abs(D-C)/D}const g=m===0?1:m<.15?.5:0,S=Math.min(1+n*.02,1.3),j=Math.min(o/1e4,2),w=g===1?Math.max(1.3-(j-1)*.3,1):1,v=u>=5&&g===1?Math.min(1+.1*Math.min(u/10,4),1.5):1;return Math.round(f*g*S*w*v)}function ft(t,e,n){if(t===0){const o=Number(n),l=Number(e);if(o===l)return!0}return!1}function mt(t,e,n){if(t===0){const o=Number(n),l=Number(e);return Math.abs(l-o)/l}return 0}const ve=3e3,gt=({show:t,type:e,difficulty:n,maxTimer:o,setShow:l})=>{const[s,u]=p.useState("dark"),[i,f]=p.useState(z.prefs[0]),[m,g]=p.useState(z.prefs[4]),[S,j]=p.useState(""),[w,v]=p.useState(""),[C,D]=p.useState(!1),[P,ue]=p.useState(!1),[V,de]=p.useState(!1),[O,U]=p.useState(0),[Re,X]=p.useState(0),[A,K]=p.useState(!1),[vt,De]=p.useState(!1),[Pe,xe]=p.useState(0),{initAudio:Ee,playRight:Ae,playWrong:We}=at(z.prefs[2]===0),[pe,W]=p.useState(!1),[fe,J]=p.useState(0),[q,Q]=p.useState(0),[Fe,me]=p.useState(0),[_,ge]=p.useState(!1),[T,Z]=p.useState(0),[N,ee]=p.useState(1),[he,be]=p.useState(0),[Ne,Le]=p.useState(""),[B,Ve]=p.useState(""),[ye,te]=p.useState(""),[Be,Ge]=p.useState(""),[M,Se]=p.useState(0),[ne,se]=p.useState(0),[F,Ye]=p.useState(z.mentalRecords[e][n]),[je,$e]=p.useState(0);p.useEffect(()=>{S.length===1?v(y=>y.length<6?y+S:y):S.length===2?v(y=>y.length>0?y.slice(0,y.length-1):""):S.length===3&&we(),j("")},[S]),p.useEffect(()=>{let y=null;return C&&(y=setInterval(()=>{$e($=>$+100)},100)),()=>{y&&clearInterval(y)}},[C]),p.useEffect(()=>{if(!pe||!P||n===5){J(0),Q(0);return}const y=Date.now()-q,$=setInterval(()=>{const I=Date.now()-y,k=Math.min(I,o);Q(k),J(k/(o-O)*100),k>=o-O-500&&(W(!1),we())},50);return()=>clearInterval($)},[pe,P,o,q]),p.useEffect(()=>{const y=Ce.subscribe(u),$=Te.subscribe(k=>{f(k==="ru"?0:1)}),I=Me.subscribe(k=>{g(k)});return()=>{y.unsubscribe(),$.unsubscribe(),I.unsubscribe()}},[]),p.useEffect(()=>{if(!V){X(0);return}const y=Math.ceil(ve/1e3);X(y);const $=setInterval(()=>{X(I=>I<=1?(clearInterval($),qe(),de(!1),0):I-1)},1e3);return()=>{clearInterval($)}},[V,ve]),p.useEffect(()=>{if(!_)return;const y=setInterval(()=>{me($=>$>=900?(clearInterval(y),ge(!1),Z(I=>I+M/2),Se(0),W(!0),me(0),0):$+100)},100);return()=>{clearInterval(y)}},[_,Fe]);const qe=()=>{Ee(),oe(),ue(!0),W(!0),D(!0),De(!1),$e(0),xe(Date.now())};function oe(){const y=ut(e,n,N);Le(y[0]),Ve(y[1])}const we=()=>{W(!1);const y=pt(e,n,N,q,B,w,he),$=mt(e,B,w);yt($===0?"light":"medium");let I="";$===0?(I=jt(i),se(E=>E+1)):$<.15?I=$t(i):I=i===0?"–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: "+B:"Correct answer: "+B;const k=$===0?x.get("maxValColor",s):$<.15?x.get("difficulty2",s):x.get("minValColor",s);Ge(k),te(I),Se(y),oe(),v(""),be(E=>ft(e,B,w)?E+1:0),ee(E=>E+1<20?E+1:20),$===0?Ae():We(),N===20&&re(),n===4&&N%5===0&&U(E=>E+1e3),n===4&&$>.15&&re(),ge(!0)},_e=()=>{W(!1),Q(0),J(0),Z(0),ee(1),se(0),be(0),v(""),te(""),U(0),oe(),xe(Date.now()),W(!0)},re=()=>{He();const y=T+M>F,$=bt(n===4,n===5,i,T+M,ne,20,y);D(!1),te($),K(!0),ue(!1),W(!1)},He=()=>{T>F&&(Ye(T),z.mentalRecords[e][n]=T);const y=Date.now(),$=Math.round((y-Pe)/1e3);lt($,T+M>F,e,n,T+M),Z(0),U(0),ee(1),se(0)};return r.jsxs("div",{style:H(s,t).container,children:[!P&&!V&&!A&&r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",width:"100%",height:"80%"},children:[r.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:x.get("mainText",s)},children:R[n].level[i]}),r.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"15px",color:x.get("subText",s)},children:R[n].description[i]}),r.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"15px",color:x.get("mainText",s)},children:(i===0?"–°–ª–æ–∂–Ω–æ—Å—Ç—å: ":"Difficulty: ")+R[n].difficulty[i]}),r.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"15px",color:x.get("subText",s)},children:(i===0?"–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏: ":"Time limit: ")+R[n].timeLimitSec}),r.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"20px",fontSize:"15px",color:x.get("subText",s)},children:(i===0?"–û–ø–µ—Ä–∞—Ü–∏–∏: ":"Operations: ")+R[n].operations}),r.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"50px",fontSize:"12px",color:x.get("subText",s)},children:ht(i)})]}),!P&&!V&&!A&&r.jsxs("div",{style:H(s,t).controls,children:[r.jsx(ie,{onClick:()=>{l(!1),K(!1)},style:{fontSize:"60px",color:x.get("close",s)}}),r.jsx(Oe,{onClick:()=>de(!0),style:{fontSize:"60px",color:x.get("play",s)}}),r.jsx(Ue,{onClick:_e,style:{fontSize:"60px",color:x.get("reload",s)}})]}),!A&&V&&r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",width:"90%",height:"80%"},children:[r.jsx("div",{style:{fontSize:"10rem",marginTop:"180px",color:x.get("icons",s),fontWeight:"bold",lineHeight:1},children:Re}),r.jsx("div",{style:{fontSize:"2rem",marginBottom:"80px",textAlign:"center"},children:r.jsx("div",{style:{color:x.get("icons",s),marginBottom:"80px"},children:i===0?"–ü—Ä–∏–≥–æ—Ç–æ–≤—å—Ç–µ—Å—å!":"Get ready!"})})]}),!A&&P&&r.jsxs("div",{style:H(s).playContainer,children:[r.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"86%",borderBottom:`1px solid ${x.get("border",s)}`},children:[r.jsx("div",{style:{display:"flex",flexDirection:"row",marginTop:"6px",width:"60%",gap:"20px",marginRight:"auto"},children:r.jsx(ie,{onClick:()=>re(),style:{fontSize:"25px",color:x.get("close",s)}})}),r.jsxs("div",{style:{display:"flex",marginLeft:"auto",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:x.get("subText",s)},children:[r.jsx(Xe,{}),ze(je)]})]}),r.jsxs("div",{style:{display:"flex",width:"86%",flexDirection:"row",marginTop:"20px",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:x.get("minValColor",s)},children:[r.jsx(Ke,{}),he]}),r.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:x.get("difficulty",s)},children:n>3?N:N+"/ 20"}),r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:x.get("maxValColor",s)},children:[r.jsx(G,{}),T]})]}),r.jsxs("div",{style:{width:"86%",height:"18px",position:"relative",marginTop:"66px"},children:[r.jsxs("svg",{width:"100%",height:"18",viewBox:"0 0 100 18",preserveAspectRatio:"none",style:{display:"block"},children:[r.jsx("rect",{x:"0",y:"0",width:"100",height:"18",fill:x.get("bottomPanel",s)}),r.jsx("rect",{x:"0",y:"0",width:fe,height:"18",fill:St(x.get("done",s),x.get("skipped",s),fe/100)})]}),r.jsx("div",{style:{position:"relative",top:"-20px",color:x.get("subText",s),marginBottom:"80px"},children:Math.floor((o-O-q)/1e3)})]}),r.jsxs("div",{children:[!_&&r.jsx("div",{style:Ie(s,!1),children:Ne}),_&&r.jsxs("div",{style:Ie(s,!0,Be),children:[r.jsxs("p",{style:{fontSize:"22px",fontWeight:"bold",color:M>0?x.get("maxValColor",s):x.get("minValColor",s)},children:[M>0&&r.jsx(G,{}),M>0?M:i===0?"–Ω–µ –≤–µ—Ä–Ω–æ":"wrong answer"]}),r.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",color:x.get("mainText",s)},children:ye})]})]}),r.jsx("div",{style:{fontSize:"34px",fontWeight:"bold",color:x.get("subText",s),marginTop:"auto"},children:w})]}),!A&&P&&r.jsx(ct,{setInput:j,type:e}),A&&r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",width:"100%",height:"80%"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:x.get("maxValColor",s)},children:[r.jsx(G,{}),T]}),r.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:x.get("medium",s)},children:wt(i,je)}),T>F&&r.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:x.get("medium",s)},children:[r.jsx(Je,{}),i===0?"–ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥!":"New record!"]}),T<=F&&r.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:x.get("subText",s)},children:i===0?"—Ä–µ–∫–æ—Ä–¥: "+F:"record: "+F}),r.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"22px",fontWeight:"bold",color:x.get("mainText",s)},children:n<4?ne+" / 20":ne}),r.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:x.get("mainText",s)},children:ye})]}),A&&r.jsx("div",{style:H(s,t).controls,children:r.jsx(ie,{onClick:()=>{l(!1),K(!1)},style:{fontSize:"60px",color:x.get("close",s)}})})]})},Ie=(t,e,n)=>({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"95vw",height:"16vh",marginTop:"20px",backgroundColor:x.get("bottomPanel",t),boxShadow:e?"0px 0px 9px 9px"+n:"2px 2px"+x.get("shadow",t),borderRadius:"24px",fontSize:"39px",fontWeight:"bold",color:x.get("mainText",t),alignContent:"center"}),H=(t,e)=>({container:{backgroundColor:x.get("background",t),display:"flex",position:"fixed",flexDirection:"column",alignItems:"center",height:"86vh",transform:e?"translateY(0)":"translateY(100%)",bottom:"0",transition:"transform 0.2s ease-in-out",width:"100vw",fontFamily:"Segoe UI",borderTop:`2px solid ${x.get("border",t)}`,borderTopLeftRadius:"12px",borderTopRightRadius:"12px",zIndex:2e3},controls:{display:"flex",marginTop:"30px",gap:"50px"},playContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",height:"50vh",bottom:"0",width:"100vw"}}),ht=t=>t===0?"–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –±–æ–ª—å—à–µ –æ—á–∫–æ–≤, –æ—Ç–≤–µ—á–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ –∫–∞–∫ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ. –ö–∞–∂–¥–∞—è –æ—à–∏–±–∫–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –º–Ω–æ–∂–∏—Ç–µ–ª—å. –ó–∞ –∫–∞–∂–¥—ã–µ 5 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–¥—Ä—è–¥ –º–Ω–æ–∂–∏—Ç–µ–ª—å –ø–æ–≤—ã—à–∞–µ—Ç—Å—è, –¥–æ—Å—Ç–∏–≥–∞—è –º–∞–∫—Å–∏–º—É–º–∞ √ó1.5.":"To earn more points, answer correctly and as quickly as possible. Every mistake resets your multiplier. For every 5 correct answers in a row, your multiplier increases‚Äîup to a maximum of √ó1.5.",bt=(t,e,n,o,l,s,u=!1)=>{const i=l>0?Math.round(o/l*100):0,f={ru:{record:[`üèÜüî• –ù–û–í–´–ô –†–ï–ö–û–†–î! ${n} –æ—á–∫–æ–≤ ‚Äî –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!`,`üéâ‚ú® –¢—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª(–∞) –ª–∏—á–Ω—ã–π —Ä–µ–∫–æ—Ä–¥: ${o}/${l} (${i}%)!`,"üåüüí• –î–∞–∂–µ –µ—Å–ª–∏ –±—ã–ª–æ —Ç—Ä—É–¥–Ω–æ ‚Äî —Ç—ã –ø–æ–±–∏–ª(–∞) —Ä–µ–∫–æ—Ä–¥! –ú–æ–ª–æ–¥–µ—Ü!"],endless_record:[`üèÜüî• –ù–û–í–´–ô –†–ï–ö–û–†–î –í –†–ï–ñ–ò–ú–ï –í–´–ñ–ò–í–ê–ù–ò–Ø: ${o} —Ä–∞—É–Ω–¥–æ–≤!`,`üéâ‚ú® –¢—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª(–∞) –ª–∏—á–Ω—ã–π —Ä–µ–∫–æ—Ä–¥: ${o} –±–µ–∑ –µ–¥–∏–Ω–æ–π –æ—à–∏–±–∫–∏!`,"üåüüí• –í Endless-—Ä–µ–∂–∏–º–µ ‚Äî –∞ —Ç—ã –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ–±–∏–ª(–∞) —Ä–µ–∫–æ—Ä–¥! –ú–æ–ª–æ–¥–µ—Ü!",`üõ°Ô∏èüëë –ù–æ–≤—ã–π –º–∞–∫—Å–∏–º—É–º: ${n} –æ—á–∫–æ–≤ –≤ —Ä–µ–∂–∏–º–µ "–æ–¥–Ω–∞ –æ—à–∏–±–∫–∞ ‚Äî –∫–æ–Ω–µ—Ü"!`],relax_record:["üåü –ù–æ–≤—ã–π –ª–∏—á–Ω—ã–π –º–∞–∫—Å–∏–º—É–º ‚Äî –¥–∞–∂–µ –≤ —Å–ø–æ–∫–æ–π–Ω–æ–º —Ä–µ–∂–∏–º–µ!",`üßò‚Äç‚ôÇÔ∏èüèÜ –¢—ã –Ω–∞–±—Ä–∞–ª(–∞) ${n} –æ—á–∫–æ–≤ –≤ Relax-—Ä–µ–∂–∏–º–µ ‚Äî –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!`,"üí´ –î–∞–∂–µ –±–µ–∑ —Ç–∞–π–º–µ—Ä–∞ ‚Äî —Ç—ã —É–ª—É—á—à–∏–ª(–∞) —Å–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –†–µ—Å–ø–µ–∫—Ç!"]},en:{record:[`üèÜüî• NEW RECORD! ${n} points ‚Äî congratulations!`,`üéâ‚ú® You set a personal best: ${o}/${l} (${i}%)!`,"üåüüí• Even on a tough day ‚Äî you broke your record! Amazing!"],endless_record:[`üèÜüî• NEW ENDLESS MODE RECORD: ${o} rounds!`,`üéâ‚ú® Personal best: ${o} flawless answers in a row!`,"üåüüí• You broke your record ‚Äî in Endless Mode! Amazing!",`üõ°Ô∏èüëë New high: ${n} points in "one mistake = game over" mode!`],relax_record:["üåü New personal best ‚Äî even in Relax Mode!",`üßò‚Äç‚ôÇÔ∏èüèÜ You scored ${n} points in Relax Mode ‚Äî congrats!`,"üí´ No timer, no stress ‚Äî and still a new record! Amazing!"]}},m=e===0?f.ru:f.en;let g=[];if(u?g=[...m.relax_record]:t?g=[...m.endless_record]:g=[...m.record],g.length===0)return e===0?"–•–æ—Ä–æ—à–æ! üòä":"Good job! üòä";const S=Math.floor(Math.random()*g.length);return g[S]};function yt(t){z.prefs[3]==0&&Telegram.WebApp.HapticFeedback&&Telegram.WebApp.HapticFeedback.impactOccurred(t)}function St(t,e,n){if(!t||!e)return t||e||"#000000";n=Math.max(0,Math.min(1,n)),t=t.replace("#",""),e=e.replace("#","");const o=parseInt(t.slice(0,2),16),l=parseInt(t.slice(2,4),16),s=parseInt(t.slice(4,6),16),u=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),f=parseInt(e.slice(4,6),16),m=Math.round(o+(u-o)*n),g=Math.round(l+(i-l)*n),S=Math.round(s+(f-s)*n);return`rgb(${m}, ${g}, ${S})`}function jt(t){const o=t===0?["–û—Ç–ª–∏—á–Ω–æ!","–ü—Ä–µ–∫—Ä–∞—Å–Ω–æ!","–í–µ—Ä–Ω–æ!","–¢–æ—á–Ω–æ!","–ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ!","–ò–¥–µ–∞–ª—å–Ω–æ!","–ü—Ä–∞–≤–∏–ª—å–Ω–æ!","–ú–æ–ª–æ–¥–µ—Ü!","–¢–æ—á–Ω–æ –≤ —Ü–µ–ª—å!","–ë–µ–∑ –æ—à–∏–±–æ–∫!"]:["Great!","Perfect!","Yes!","Exactly!","Awesome!","Brilliant!","Spot on!","Well done!","Nailed it!","Correct!"];return o[Math.floor(Math.random()*o.length)]}function $t(t){const o=t===0?["–†—è–¥–æ–º!","–ü–æ—á—Ç–∏!","–ï—â–µ —á—É—Ç—å-—á—É—Ç—å!","–ü—Ä–æ–¥–æ–ª–∂–∞–π!","–ü–æ–ø—Ä–æ–±—É–π –µ—â–µ!","–û—á–µ–Ω—å –±–ª–∏–∑–∫–æ!","–•–æ—Ä–æ—à–∞—è –ø–æ–ø—ã—Ç–∫–∞!","–ù–µ —Å–æ–≤—Å–µ–º‚Ä¶","–ü–æ—á—Ç–∏ –ø–æ–ª—É—á–∏–ª–æ—Å—å!","–¢—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏!"]:["Close!","Almost!","Nearly!","Keep going!","Try again!","So close!","Good attempt!","Not quite!","One more try!","You're getting there!"];return o[Math.floor(Math.random()*o.length)]}function ze(t){const e=Math.floor(t/1e3),n=Math.floor(e/60),o=e%60;return`${String(n).padStart(2,"0")}:${String(o).padStart(2,"0")}`}function wt(t,e){const n=ze(e);return t===0?`–í–∞—à–µ –≤—Ä–µ–º—è: ${n}`:`Your time is: ${n}`}const Rt=()=>{const[t,e]=ot.useState("dark"),[n,o]=p.useState(z.prefs[0]),[l,s]=p.useState(z.prefs[4]),[u,i]=p.useState(!1),[f,m]=p.useState(0),[g,S]=p.useState(Qe.hasPremium);return p.useEffect(()=>{const j=Ze.subscribe(S);return()=>j.unsubscribe()},[]),p.useEffect(()=>{const j=Ce.subscribe(e),w=Te.subscribe(C=>{o(C==="ru"?0:1)}),v=Me.subscribe(C=>{s(C)});return()=>{j.unsubscribe(),w.unsubscribe(),v.unsubscribe()}},[]),r.jsxs("div",{style:L(t).container,children:[r.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyItems:"center"},children:[r.jsx("div",{style:{width:"100%",display:"grid",gridTemplateColumns:"1fr 1fr",alignItems:"center",justifyItems:"center"},children:R.map((j,w)=>{const v="difficulty"+w;return w<4&&r.jsx(le,{width:"46vw",difficulty:w,protocol:j,setLevel:m,color:x.get(v,t),theme:t,lang:n,click:()=>{m(w),i(!0)},fSize:l,hasPremium:g,needBlur:w>1},w)})}),r.jsx(le,{width:"96vw",difficulty:4,protocol:R[4],setLevel:m,color:x.get("difficultyAdd",t),theme:t,lang:n,click:()=>{m(4),i(!0)},fSize:l,hasPremium:g,needBlur:!0}),r.jsx(le,{width:"96vw",difficulty:5,protocol:R[5],setLevel:m,color:x.get("difficulty",t),theme:t,lang:n,click:()=>{m(5),i(!0)},fSize:l,hasPremium:g,needBlur:!0})]}),r.jsx(gt,{type:0,difficulty:f,maxTimer:R[f].timeLimitSec*1e3,show:u,setShow:i})]})},L=(t,e)=>({container:{backgroundColor:x.get("background",t),display:"flex",flexDirection:"column",overflowY:"scroll",justifyItems:"center",alignItems:"center",height:"78vh",paddingTop:"5vh",width:"100vw",fontFamily:"Segoe UI"},scrollView:{height:"95%",width:"100%",overflowY:"scroll",display:"flex",flexDirection:"column"},mainText:{textAlign:"left",fontSize:e===0?"15px":"17px",color:x.get("mainText",t)},subtext:{textAlign:"center",fontSize:e===0?"12px":"14px",color:x.get("mainText",t),margin:"2px"},icon:{fontSize:"32px",color:x.get("mainText",t)},simplePanelRow:{width:"75vw",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},cardText:{textAlign:"left",marginBottom:"5px",fontSize:e===0?"14px":"16px",color:x.get("mainText",t),marginLeft:"30px"},text:{textAlign:"left",fontSize:e===0?"10px":"12px",color:x.get("subText",t),marginLeft:"30px"},btn:{width:"70%",height:"40px",borderRadius:"12px",fontSize:e===0?"13px":"14px",color:x.get("mainText",t),backgroundColor:x.get("simplePanel",t)}});function le({protocol:t,difficulty:e,click:n,width:o,color:l,theme:s,lang:u,fSize:i,hasPremium:f=!1,needBlur:m=!1}){const g=()=>e===0?r.jsx(tt,{style:j}):e===1?r.jsx(G,{style:j}):e===2?r.jsx(rt,{style:j}):e===3?r.jsx(it,{style:j}):e===4?r.jsx(nt,{style:j}):r.jsx(st,{style:j}),S={alignItems:"center",justifyContent:"center",display:"flex",width:o,flexDirection:"row",height:"12vh",marginTop:"15px",borderRadius:"24px",backgroundColor:l,overflow:"hidden",position:"relative",boxShadow:"3px 3px 2px rgba(0,0,0,0.3)"},j={fontSize:"86px",rotate:"-20deg",position:"absolute",right:"-10px",top:"30%",color:x.get("svgColor",s)};return r.jsxs("div",{style:S,onClick:n,children:[!f&&m&&r.jsxs("div",{onClick:w=>{w.stopPropagation()},style:{position:"absolute",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",width:"100%",height:"100%",left:"0",top:"0",backdropFilter:"blur(8px)",zIndex:2},children:[r.jsxs("div",{style:{...L(s,i).mainText},children:[" ",u===0?"–ü—Ä–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è":"Pro category"," "]}),r.jsxs("div",{style:{...L(s,i).mainText},children:[" ",u===0?"üëë–ø—Ä–µ–º–∏—É–ºüëë":"üëëpremiumüëë"," "]}),r.jsx("button",{onClick:()=>{et("premium")},style:{...L(s,i).btn},children:u===0?"–°—Ç–∞—Ç—å –ø—Ä–µ–º–∏—É–º":"Get premium"})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"65%",height:"22%",alignItems:"center",justifyContent:"flex-end",position:"absolute",top:"5%",left:"30%",fontWeight:"bold",fontSize:"16px",color:x.get("maxValColor",s)},children:[r.jsx(G,{})," ",z.mentalRecords[0][e]]}),r.jsxs("div",{style:{width:"90%",height:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},children:[r.jsx("h2",{style:L(s,i).cardText,children:t.level[u]}),r.jsx("p",{style:L(s,i).text,children:t.difficulty[u]})]}),g()]})}export{Rt as default};
