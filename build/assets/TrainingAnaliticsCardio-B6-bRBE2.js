import{A as B,t as ie,l as ae,f as re,aR as ne,aQ as oe,B as P,j as e,C as r,m as v,bA as se,bB as V,ag as le,bC as L,br as W,d as N,bD as K,a$ as de,ae as M,bE as ce,bF as pe}from"./index-B95tImpJ.js";import{r as u,i as xe,A as ge,X as ue,Y as he,T as be,u as fe}from"./recharts-k8ghPecL.js";const ye=t=>{const f=Math.floor(t/3600),a=Math.floor(t%3600/60),k=Math.floor(t%60);return f>0?`${f}h ${a.toString().padStart(2,"0")}m`:`${a}m ${k.toString().padStart(2,"0")}s`},me=(t,f)=>new Date(t).toLocaleDateString(f===0?"ru-RU":"en-US",{month:"short",day:"numeric"}),A=t=>{if(!t||t==="0:00")return 0;const[f,a]=t.split(":").map(Number);return f+a/60},ve=({active:t,payload:f,label:a,metric:k,langIndex:w,theme:C})=>{if(t&&f&&f.length){const d=f[0].payload,D=k==="pace",T=()=>{switch(k){case"distance":return w===0?"Ð”Ð¸ÑÑ‚Ð°Ð½Ñ†Ð¸Ñ":"Distance";case"speed":return w===0?"Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ":"Speed";case"pace":return w===0?"Ð¢ÐµÐ¼Ð¿":"Pace";case"elevation":return w===0?"ÐÐ°Ð±Ð¾Ñ€ Ð²Ñ‹ÑÐ¾Ñ‚Ñ‹":"Elevation";case"heartRate":return w===0?"ÐŸÑƒÐ»ÑŒÑ":"Heart Rate";default:return""}};return e.jsxs("div",{style:{backgroundColor:C==="light"?"rgba(255, 255, 255, 0.95)":"rgba(30, 30, 30, 0.95)",border:`1px solid ${r.get("border",C)}`,borderRadius:"12px",padding:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",fontSize:"14px",color:r.get("mainText",C)},children:[e.jsx("div",{style:{fontWeight:"bold",marginBottom:"6px",color:r.get("mainText",C)},children:a}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:d.stroke}}),e.jsxs("div",{children:[e.jsxs("span",{style:{color:r.get("subText",C)},children:[T(),":"]}),e.jsxs("span",{style:{fontWeight:"bold",marginLeft:"4px"},children:[D?d.originalValue:d.value.toFixed(2)," ",d.unit]})]})]}),d.elevationGain&&e.jsxs("div",{style:{marginTop:"4px",fontSize:"13px",color:r.get("subText",C)},children:[e.jsx(L,{size:12,style:{marginRight:"4px",verticalAlign:"middle"}}),w===0?`ÐÐ°Ð±Ð¾Ñ€: ${d.elevationGain} Ð¼`:`Elevation: ${d.elevationGain} m`]}),d.avgHeartRate&&e.jsxs("div",{style:{marginTop:"2px",fontSize:"13px",color:r.get("subText",C)},children:[e.jsx(W,{size:12,style:{marginRight:"4px",verticalAlign:"middle"}}),w===0?`ÐŸÑƒÐ»ÑŒÑ: ${d.avgHeartRate} ÑƒÐ´/Ð¼Ð¸Ð½`:`HR: ${d.avgHeartRate} bpm`]})]})}return null},Ce=()=>{const[t,f]=u.useState("dark"),[a,k]=u.useState(B.prefs[0]),[w,C]=u.useState(B.prefs[4]),[d,D]=u.useState("running"),[T,U]=u.useState("distance"),[y,O]=u.useState(!0),[J,I]=u.useState(null),[X,Q]=u.useState(!1),[j,E]=u.useState(null),[S,H]=u.useState(null);u.useEffect(()=>{const i=ie.subscribe(f),n=ae.subscribe(l=>k(l==="ru"?0:1)),o=re.subscribe(C),c=setTimeout(()=>O(!1),500);return()=>{clearTimeout(c),i.unsubscribe(),n.unsubscribe(),o.unsubscribe()}},[]);const R=u.useMemo(()=>{const i=[],n={RUNNING:"running",CYCLING:"cycling",SWIMMING:"swimming"};return B.trainingLog&&typeof B.trainingLog=="object"&&Object.entries(B.trainingLog).forEach(([o,c])=>{Array.isArray(c)&&c.forEach((l,g)=>{const p=n[l.type];p&&p!=="GYM"&&i.push({id:`${o}-${g}`,type:p,distance:l.distance*1e3,duration:l.duration/1e3,date:o,elevationGain:l.elevationGain||0,avgCadence:l.avgCadence||0,avgHeartRate:l.avgHeartRate||0,rpe:l.rpe||0,notes:l.notes||""})})}),i.length>0?i:[]},[]),Z=u.useMemo(()=>{if(!R||R.length===0)return{years:[],months:[]};const i=new Set,n=new Set;R.forEach(l=>{const g=new Date(l.date),p=g.getFullYear(),x=g.getMonth();i.add(p),(!j||p===parseInt(j))&&n.add(x)});const o=Array.from(i).sort((l,g)=>g-l),c=Array.from(n).sort((l,g)=>l-g);return{years:o,months:c}},[R,j]),m=u.useMemo(()=>({running:{icon:P,color:"#a86030",label:a===0?"Ð‘ÐµÐ³":"Running",gradient:"linear-gradient(90deg, #ff9f6b, #ee5a24)"},cycling:{icon:oe,color:"#4b943d",label:a===0?"Ð’ÐµÐ»Ð¾ÑÐ¸Ð¿ÐµÐ´":"Cycling",gradient:"linear-gradient(90deg, #65cd4e, #1a9320)"},swimming:{icon:ne,color:"#3a8a9c",label:a===0?"ÐŸÐ»Ð°Ð²Ð°Ð½Ð¸Ðµ":"Swimming",gradient:"linear-gradient(90deg, #45b7d1, #1e88e5)"}}),[a]),_=({expanded:i,setExpanded:n})=>{const{years:o,months:c}=Z,l=[a===0?"Ð¯Ð½Ð²Ð°Ñ€ÑŒ":"January",a===0?"Ð¤ÐµÐ²Ñ€Ð°Ð»ÑŒ":"February",a===0?"ÐœÐ°Ñ€Ñ‚":"March",a===0?"ÐÐ¿Ñ€ÐµÐ»ÑŒ":"April",a===0?"ÐœÐ°Ð¹":"May",a===0?"Ð˜ÑŽÐ½ÑŒ":"June",a===0?"Ð˜ÑŽÐ»ÑŒ":"July",a===0?"ÐÐ²Ð³ÑƒÑÑ‚":"August",a===0?"Ð¡ÐµÐ½Ñ‚ÑÐ±Ñ€ÑŒ":"September",a===0?"ÐžÐºÑ‚ÑÐ±Ñ€ÑŒ":"October",a===0?"ÐÐ¾ÑÐ±Ñ€ÑŒ":"November",a===0?"Ð”ÐµÐºÐ°Ð±Ñ€ÑŒ":"December"],g=j||S!==null;return e.jsxs("div",{style:s(t).filterContainer,children:[e.jsxs("div",{style:s(t).filterHeader,children:[e.jsxs("div",{style:s(t).filterTitle,onClick:()=>n(p=>!p),children:[e.jsx(K,{size:15,style:{marginRight:"6px"}}),a===0?"Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ Ð¿Ð¾ Ð´Ð°Ñ‚Ðµ":"Date Filter",i?e.jsx(de,{size:12,style:{marginLeft:"16px"}}):e.jsx(M,{size:12,style:{marginLeft:"16px"}})]}),g&&i&&e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{E(null),H(null)},style:s(t).clearFilterButton,children:a===0?"Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ":"Clear"})]}),i&&e.jsxs("div",{style:s(t).filterDropdowns,children:[e.jsxs("div",{style:s(t).filterDropdownWrapper,children:[e.jsx("div",{style:s(t).filterLabel,children:a===0?"Ð“Ð¾Ð´":"Year"}),e.jsxs(v.div,{whileHover:{scale:1.01},style:s(t).dropdownContainer,children:[e.jsxs("select",{value:j||"",onChange:p=>{const x=p.target.value;E(x||null),x&&S!==null&&H(null)},style:s(t).dropdownSelect,children:[e.jsx("option",{value:"",children:a===0?"Ð’ÑÐµ Ð³Ð¾Ð´Ñ‹":"All Years"}),o.map(p=>e.jsx("option",{value:p,children:p},p))]}),e.jsx(M,{size:12,color:r.get("subText",t),style:s(t).dropdownIcon})]})]}),j&&e.jsxs("div",{style:s(t).filterDropdownWrapper,children:[e.jsx("div",{style:s(t).filterLabel,children:a===0?"ÐœÐµÑÑÑ†":"Month"}),e.jsxs(v.div,{whileHover:{scale:1.01},style:s(t).dropdownContainer,children:[e.jsxs("select",{value:S!==null?S:"",onChange:p=>{const x=p.target.value;H(x===""?null:parseInt(x))},style:s(t).dropdownSelect,children:[e.jsx("option",{value:"",children:a===0?"Ð’ÑÐµ Ð¼ÐµÑÑÑ†Ñ‹":"All Months"}),c.map(p=>e.jsx("option",{value:p,children:l[p]},p))]}),e.jsx(M,{size:12,color:r.get("subText",t),style:s(t).dropdownIcon})]})]})]}),g&&i&&e.jsxs("div",{style:s(t).activeFiltersBadge,children:[a===0?"ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹":"Active Filters",":",j&&` ${j}`,S!==null&&` - ${l[S]}`]})]})},G=u.useMemo(()=>R?.filter(i=>!(i.type!==d||j&&new Date(i.date).getFullYear()!==parseInt(j)||S!=null&&new Date(i.date).getMonth()!==parseInt(S))),[R,d,j,S]),h=u.useMemo(()=>y?[]:G?.map(i=>{const n=i.distance/1e3,o=i.duration/3600,c=i.duration/60,l=o>0?n/o:0;let g="0:00";if(n>.1&&c>0){const p=c/n,x=Math.floor(p),b=Math.round((p-x)*60);g=`${x}:${b.toString().padStart(2,"0")}`}return{...i,distanceKm:n.toFixed(2),speed:l.toFixed(1),pace:g,durationFormatted:ye(i.duration),dateFormatted:me(i.date,a),intensity:Math.min(100,Math.max(20,d==="running"?l*15:d==="cycling"?l*5:l*8))}}).sort((i,n)=>new Date(n.date)-new Date(i.date)),[G,a,d,y]),Y=u.useMemo(()=>{if(y||h?.length===0)return[];const i=m[d]?.color||"#4ECDC4";return h?.map(n=>{let o,c;switch(T){case"speed":o=parseFloat(n.speed),c="km/h";break;case"pace":o=A(n.pace),c=a===0?"Ð¼Ð¸Ð½/ÐºÐ¼":"min/km";break;case"elevation":o=n.elevationGain||0,c="m";break;case"heartRate":o=n.avgHeartRate||0,c="bpm";break;default:o=parseFloat(n.distanceKm),c="km"}return{date:new Date(n.date),value:o,originalValue:n.pace||o.toFixed(2),label:n.dateFormatted,intensity:n.intensity,unit:c,stroke:i,elevationGain:n.elevationGain,avgHeartRate:n.avgHeartRate}})},[h,T,a,d,m,y]),z=({icon:i,label:n,value:o,subValue:c,color:l,isLoading:g=!1})=>e.jsx(v.div,{whileHover:{y:-3},style:{...s(t).metricCard,borderLeft:`3px solid ${l}`,backgroundColor:t==="light"?"rgba(255, 255, 255, 0.6)":"rgba(30, 30, 30, 0.6)",opacity:g?.7:1},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("div",{style:{width:36,height:36,borderRadius:"10px",backgroundColor:`${l}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(i,{size:16,color:l})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"11px",color:r.get("subText",t),marginBottom:"2px"},children:n}),e.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:r.get("mainText",t),display:"flex",alignItems:"baseline",gap:"4px"},children:g?e.jsx("div",{style:{height:"18px",width:"50px",backgroundColor:t==="light"?"#f0f0f0":"#444",borderRadius:"4px"}}):e.jsxs(e.Fragment,{children:[o,c&&e.jsx("span",{style:{fontSize:"12px",fontWeight:"normal",color:r.get("subText",t)},children:c})]})})]})]})}),q=({session:i})=>{const n=m[i.type]||m.running,o=J===i.id,c=()=>{I(o?null:i.id)};return e.jsxs(v.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},style:{...s(t).sessionCard,borderLeft:`3px solid ${n.color}`,backgroundColor:o?t==="light"?"rgba(255, 255, 255, 0.95)":"rgba(40, 40, 40, 0.9)":r.get("cardBackground",t),cursor:"pointer"},onClick:c,children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:o?"15px":"0"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flex:1},children:[e.jsx("div",{style:{width:36,height:36,borderRadius:"10px",backgroundColor:`${n.color}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(n.icon,{size:18,color:n.color})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:r.get("mainText",t),marginBottom:"2px"},children:i.dateFormatted}),e.jsxs("div",{style:{fontSize:"12px",color:r.get("subText",t),display:"flex",alignItems:"center",gap:"8px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(ce,{size:10}),i.durationFormatted]}),e.jsx("div",{children:"â€¢"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(V,{size:10}),i.speed," km/h"]})]})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[e.jsxs("div",{style:{textAlign:"right"},children:[e.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:r.get("mainText",t)},children:[i.distanceKm," ",e.jsx("span",{style:{fontSize:"12px"},children:"km"})]}),e.jsxs("div",{style:{fontSize:"12px",color:r.get("subText",t),marginTop:"2px"},children:[i.pace," ",e.jsx("span",{style:{fontSize:"10px"},children:a===0?"Ð¼Ð¸Ð½/ÐºÐ¼":"min/km"})]})]}),e.jsx(v.div,{animate:{rotate:o?180:0},transition:{duration:.2},children:e.jsx(M,{size:16,color:r.get("subText",t)})})]})]}),e.jsx(N,{children:o&&e.jsx(v.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},style:{overflow:"hidden"},children:e.jsxs("div",{style:{borderTop:`1px solid ${r.get("border",t)}`,paddingTop:"15px",marginTop:"10px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",marginBottom:"15px"},children:[i.elevationGain>0&&e.jsxs("div",{children:[e.jsxs("div",{style:s(t).sessionLabelSmall,children:[e.jsx(L,{size:12,style:{marginRight:"4px"}}),a===0?"ÐÐ°Ð±Ð¾Ñ€ Ð²Ñ‹ÑÐ¾Ñ‚Ñ‹":"Elevation"]}),e.jsxs("div",{style:s(t).sessionValueSmall,children:[i.elevationGain," ",e.jsx("span",{style:{fontSize:"12px"},children:"m"})]})]}),i.avgHeartRate>0&&e.jsxs("div",{children:[e.jsxs("div",{style:s(t).sessionLabelSmall,children:[e.jsx(W,{size:12,style:{marginRight:"4px"}}),a===0?"Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ Ð¿ÑƒÐ»ÑŒÑ":"Avg HR"]}),e.jsxs("div",{style:s(t).sessionValueSmall,children:[i.avgHeartRate," ",e.jsx("span",{style:{fontSize:"12px"},children:"bpm"})]})]}),i.rpe>0&&e.jsxs("div",{children:[e.jsxs("div",{style:s(t).sessionLabelSmall,children:[e.jsx(pe,{size:12,style:{marginRight:"4px"}}),a===0?"Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ Ð½Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸":"RPE"]}),e.jsxs("div",{style:s(t).sessionValueSmall,children:[i.rpe,"/10"]})]}),i.avgCadence>0&&e.jsxs("div",{children:[e.jsx("div",{style:s(t).sessionLabelSmall,children:a===0?"Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ Ñ‚ÐµÐ¼Ð¿":"Avg Cadence"}),e.jsxs("div",{style:s(t).sessionValueSmall,children:[i.avgCadence," ",e.jsx("span",{style:{fontSize:"12px"},children:"spm"})]})]})]}),i.notes&&e.jsxs("div",{style:{marginTop:"10px",padding:"12px",backgroundColor:t==="light"?"rgba(0,0,0,0.02)":"rgba(255,255,255,0.05)",borderRadius:"10px",fontSize:"13px",color:r.get("subText",t),fontStyle:"italic",lineHeight:1.5},children:[e.jsxs("div",{style:{fontSize:"11px",fontWeight:"bold",color:r.get("mainText",t),marginBottom:"6px",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(K,{size:12}),a===0?"Ð—Ð°Ð¼ÐµÑ‚ÐºÐ¸ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ¸":"Training Notes"]}),i.notes]}),e.jsxs("div",{style:{marginTop:"15px"},children:[e.jsx("div",{style:{fontSize:"12px",color:r.get("subText",t),marginBottom:"6px",fontWeight:500},children:a===0?"Ð˜Ð½Ñ‚ÐµÐ½ÑÐ¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ¸":"Training Intensity"}),e.jsx("div",{style:{height:"8px",borderRadius:"4px",overflow:"hidden",backgroundColor:t==="light"?"#eee":"#333"},children:e.jsx(v.div,{initial:{width:0},animate:{width:`${i.intensity}%`},transition:{duration:.5},style:{height:"100%",backgroundColor:i.intensity>80?"#FF6B6B":i.intensity>60?"#FFA502":"#4CAF50"}})}),e.jsxs("div",{style:{fontSize:"11px",color:r.get("subText",t),marginTop:"4px",display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:a===0?"Ð›ÐµÐ³ÐºÐ°Ñ":"Easy"}),e.jsx("span",{children:a===0?"Ð¡Ñ€ÐµÐ´Ð½ÑÑ":"Moderate"}),e.jsx("span",{children:a===0?"Ð¢ÑÐ¶ÐµÐ»Ð°Ñ":"Hard"})]})]})]})})})]})},F=u.useMemo(()=>{if(h?.length===0)return{totalSessions:0,avgSpeed:"0.0",totalDistance:"0.0",bestPace:"0:00",avgHeartRate:"0",totalElevation:"0"};const i=(h.reduce((x,b)=>x+parseFloat(b.speed),0)/h.length).toFixed(1),n=h.reduce((x,b)=>x+parseFloat(b.distanceKm),0).toFixed(1),o=h.filter(x=>x.avgHeartRate>0),c=o.length>0?(o.reduce((x,b)=>x+b.avgHeartRate,0)/o.length).toFixed(0):"â€”",l=h.reduce((x,b)=>x+(b.elevationGain||0),0).toFixed(0),g=h.filter(x=>{const b=A(x.pace);return b>0&&b<30}),p=g.reduce((x,b)=>{const ee=A(b.pace),te=A(x.pace);return ee<te?b:x},g[0]||{pace:"0:00"});return{totalSessions:h.length,avgSpeed:i,totalDistance:n,bestPace:p?.pace||"0:00",avgHeartRate:c,totalElevation:l}},[h]),$=m[d]?.color||"#4ECDC4";return e.jsxs("div",{style:s(t).container,children:[e.jsxs("div",{style:{width:"100%",padding:"0 10px 10px",boxSizing:"border-box"},children:[e.jsx("div",{style:s(t).typeSwitcher,children:Object.entries(m).map(([i,n])=>{const o=d===i;return e.jsxs(v.button,{whileHover:{y:-2},whileTap:{scale:.98},onClick:()=>{D(i),I(null)},style:{...s(t).typeButton,backgroundColor:o?n.color:t==="light"?"#033668a3":"rgba(57, 182, 255, 0.08)",color:o?"#ffffff":t==="light"?"#475569":"#cbd5e1",border:o?"none":`1px solid ${r.get("border",t)}`,boxShadow:o?"0 4px 12px rgba(0,0,0,0.15)":"none"},children:[e.jsx(n.icon,{size:18,style:{marginRight:"6px"}}),n.label,o&&e.jsx(v.div,{layoutId:"activeTypeIndicator",style:{position:"absolute",bottom:"-3px",left:0,right:0,height:"3px",background:"white",borderRadius:"2px"}})]},i)})}),e.jsx(_,{expanded:X,setExpanded:Q}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(130px, 1fr))",gap:"12px",marginTop:"15px",marginBottom:"20px"},children:[e.jsx(z,{icon:se,label:a===0?"Ð¢Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð¾Ðº":"Sessions",value:F.totalSessions,color:"#4ECDC4",isLoading:y}),e.jsx(z,{icon:V,label:a===0?"Ð¡Ñ€ÐµÐ´Ð½ÑÑ ÑÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ":"Avg Speed",value:F.avgSpeed,subValue:"km/h",color:"#FF6B6B",isLoading:y}),e.jsx(z,{icon:le,label:a===0?"Ð”Ð¸ÑÑ‚Ð°Ð½Ñ†Ð¸Ñ":"Distance",value:F.totalDistance,subValue:"km",color:"#45B7D1",isLoading:y}),e.jsx(z,{icon:P,label:a===0?"Ð›ÑƒÑ‡ÑˆÐ¸Ð¹ Ñ‚ÐµÐ¼Ð¿":"Best Pace",value:F.bestPace,color:"#9C89B8",isLoading:y}),e.jsx(z,{icon:L,label:a===0?"ÐÐ°Ð±Ð¾Ñ€ Ð²Ñ‹ÑÐ¾Ñ‚Ñ‹":"Elevation",value:F.totalElevation,subValue:"m",color:"#FFA502",isLoading:y}),e.jsx(z,{icon:W,label:a===0?"Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ Ð¿ÑƒÐ»ÑŒÑ":"Avg HR",value:F.avgHeartRate,subValue:"bpm",color:"#EF5350",isLoading:y})]}),e.jsxs("div",{style:s(t).chartCard,children:[e.jsxs("div",{style:s(t).chartHeader,children:[e.jsxs("div",{children:[e.jsx("div",{style:s(t).chartTitle,children:a===0?"ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð¾Ðº":"Training Progress"}),e.jsx("div",{style:s(t).chartSubtitle,children:a===0?`ÐÐ½Ð°Ð»Ð¸Ð· ${m[d]?.label.toLowerCase()}`:`Analysis of ${m[d]?.label.toLowerCase()} sessions`})]}),e.jsx("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:["distance","speed","pace","elevation","heartRate"].map(i=>{const n=T===i;return e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>U(i),style:{...s(t).metricButton,backgroundColor:n?t==="light"?"#e3f2fd":"#1e3a8a":"transparent",color:n?t==="light"?"#1e40af":"#60a5fa":r.get("subText",t),border:`1px solid ${n?t==="light"?"#1e40af":"#3b82f6":r.get("border",t)}`,padding:"6px 12px",fontSize:"12px"},children:[a===0?{distance:"Ð”Ð¸ÑÑ‚Ð°Ð½Ñ†Ð¸Ñ",speed:"Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ",pace:"Ð¢ÐµÐ¼Ð¿",elevation:"Ð’Ñ‹ÑÐ¾Ñ‚Ð°",heartRate:"ÐŸÑƒÐ»ÑŒÑ"}[i]:i.replace("heartRate","Heart Rate").replace(/([A-Z])/g," $1").replace(/^./,o=>o.toUpperCase()),i==="pace"&&e.jsx("span",{style:{marginLeft:"4px",fontSize:"9px",backgroundColor:t==="light"?"#fef3c7":"#92400e",color:t==="light"?"#92400e":"#fef3c7",padding:"1px 3px",borderRadius:"3px"},children:a===0?"â†“Ð»ÑƒÑ‡ÑˆÐµ":"â†“better"})]},i)})})]}),e.jsx("div",{style:{height:"200px",marginTop:"15px",position:"relative"},children:y?e.jsx("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",border:`3px solid ${t==="light"?"#e2e8f0":"#334155"}`,borderTopColor:t==="light"?"#3b82f6":"#60a5fa",animation:"spin 1s linear infinite"}})}):h.length>0?e.jsx(xe,{width:"100%",height:"100%",children:e.jsxs(ge,{data:Y,margin:{top:10,right:15,left:10,bottom:0},children:[e.jsx(ue,{dataKey:"label",stroke:r.get("subText",t),fontSize:11,tickLine:!1,axisLine:{stroke:r.get("border",t)},padding:{left:15,right:15}}),e.jsx(he,{stroke:r.get("subText",t),fontSize:11,tickLine:!1,axisLine:{stroke:r.get("border",t)},width:50,label:{value:T==="pace"?a===0?"Ð¼Ð¸Ð½/ÐºÐ¼":"min/km":Y[0]?.unit||"",angle:-90,position:"insideLeft",fill:r.get("subText",t),fontSize:11,dx:-8}}),e.jsx(be,{content:e.jsx(ve,{metric:T,langIndex:a,theme:t}),cursor:{strokeDasharray:"3 3",stroke:$,strokeWidth:1}}),e.jsx(fe,{type:"monotone",dataKey:"value",stroke:$,strokeWidth:2,fill:$,fillOpacity:.2,dot:{fill:t==="light"?"#ffffff":"#1e293b",stroke:$,strokeWidth:2,r:3,activeDot:{r:5}}})]})}):e.jsx("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:r.get("subText",t),fontSize:"15px",textAlign:"center",padding:"20px"},children:e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"42px",marginBottom:"8px"},children:"ðŸ“Š"}),a===0?`ÐÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð´Ð»Ñ ${m[d]?.label.toLowerCase()}`:`No ${m[d]?.label.toLowerCase()} sessions`]})})})]}),e.jsxs("div",{style:{marginTop:"25px"},children:[e.jsxs("div",{style:s(t).sectionHeader,children:[e.jsx("div",{style:s(t).sectionTitle,children:a===0?"Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð¾Ðº":"Training History"}),e.jsxs("div",{style:{fontSize:"13px",color:r.get("subText",t),fontWeight:500},children:[h.length," ",a===0?"Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð¾Ðº":"sessions"]})]}),y?e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[...Array(4)].map((i,n)=>e.jsx("div",{style:{height:"80px",backgroundColor:t==="light"?"#f8fafc":"#1e293b",borderRadius:"16px",border:`1px solid ${r.get("border",t)}`,padding:"15px"}},n))}):e.jsx(N,{mode:"popLayout",children:h.length>0?h.map(i=>e.jsx(q,{session:i},i.id)):e.jsxs(v.div,{initial:{opacity:0},animate:{opacity:1},style:{textAlign:"center",padding:"30px 20px",color:r.get("subText",t),fontSize:"15px",border:`1px dashed ${r.get("border",t)}`,borderRadius:"14px",marginTop:"10px",background:t==="light"?"rgba(240, 249, 255, 0.3)":"rgba(30, 60, 100, 0.15)"},children:[e.jsx("div",{style:{fontSize:"42px",marginBottom:"10px"},children:"âœ¨"}),a===0?`Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð¿ÐµÑ€Ð²ÑƒÑŽ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÑƒ ${m[d]?.label.toLowerCase()}!`:`Record your first ${m[d]?.label.toLowerCase()} session!`]})})]})]}),e.jsx("div",{style:{marginBottom:"200px"}})]})},s=t=>({container:{display:"flex",width:"100%",maxWidth:"1000px",flexDirection:"column",overflowY:"auto",overflowX:"hidden",justifyContent:"flex-start",alignItems:"center",backgroundColor:r.get("background",t),height:"90vh",marginTop:"120px",paddingTop:"10px",paddingBottom:"30px",boxSizing:"border-box"},typeSwitcher:{display:"flex",gap:"8px",marginBottom:"15px",padding:"4px",backgroundColor:t==="light"?"#f1f5f9":"rgba(255, 255, 255, 0.08)",borderRadius:"14px",border:`1px solid ${r.get("border",t)}`},typeButton:{flex:1,padding:"10px 12px",borderRadius:"12px",border:"none",background:"transparent",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},chartCard:{backgroundColor:r.get("cardBackground",t),borderRadius:"20px",width:"100%",boxShadow:t==="light"?"0 6px 25px rgba(0, 0, 0, 0.05)":"0 8px 35px rgba(0, 0, 0, 0.3)",border:`1px solid ${r.get("border",t)}`,overflow:"hidden",backdropFilter:"blur(10px)"},chartHeader:{padding:"16px 20px",borderBottom:`1px solid ${r.get("border",t)}`,display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"12px"},chartTitle:{fontSize:"18px",fontWeight:"800",background:t==="light"?"linear-gradient(90deg, #1e40af, #0c4a6e)":"linear-gradient(90deg, #60a5fa, #3b82f6)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"3px"},chartSubtitle:{fontSize:"13px",color:r.get("subText",t),fontWeight:500},metricButton:{borderRadius:"10px",background:"transparent",fontSize:"12px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"4px",whiteSpace:"nowrap",border:"1px solid"},sectionHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",marginBottom:"15px",paddingLeft:"5px"},sectionTitle:{fontSize:"20px",fontWeight:"800",color:r.get("mainText",t),background:t==="light"?"linear-gradient(90deg, #0f172a, #1e293b)":"linear-gradient(90deg, #cbd5e1, #94a3b8)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},metricCard:{borderRadius:"16px",padding:"14px",boxShadow:t==="light"?"0 4px 12px rgba(0, 0, 0, 0.04)":"0 6px 20px rgba(0, 0, 0, 0.2)",border:`1px solid ${r.get("border",t)}`,transition:"all 0.3s ease"},sessionCard:{backgroundColor:r.get("cardBackground",t),borderRadius:"16px",padding:"14px",marginBottom:"10px",boxShadow:t==="light"?"0 3px 12px rgba(0, 0, 0, 0.03)":"0 5px 18px rgba(0, 0, 0, 0.2)",border:`1px solid ${r.get("border",t)}`,transition:"all 0.3s ease",backdropFilter:"blur(8px)"},sessionLabelSmall:{fontSize:"11px",color:r.get("subText",t),marginBottom:"3px",fontWeight:500,display:"flex",alignItems:"center",gap:"4px"},sessionValueSmall:{fontSize:"16px",fontWeight:"bold",color:r.get("mainText",t)},filterContainer:{backgroundColor:r.get("cardBackground",t),borderRadius:"16px",padding:"16px",marginBottom:"15px",border:`1px solid ${r.get("border",t)}`,boxShadow:t==="light"?"0 3px 10px rgba(0, 0, 0, 0.03)":"0 4px 15px rgba(0, 0, 0, 0.2)"},filterHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2px"},filterTitle:{fontSize:"15px",fontWeight:"700",color:r.get("mainText",t),display:"flex",alignItems:"center"},clearFilterButton:{padding:"4px 10px",borderRadius:"8px",fontSize:"12px",fontWeight:"600",backgroundColor:t==="light"?"#fee2e2":"#451616",color:t==="light"?"#ef4444":"#fecaca",border:"none",cursor:"pointer",transition:"all 0.2s ease"},filterDropdowns:{display:"flex",gap:"12px",flexWrap:"wrap"},filterDropdownWrapper:{flex:1,minWidth:"150px"},filterLabel:{fontSize:"11px",color:r.get("subText",t),marginBottom:"6px",fontWeight:"500"},dropdownContainer:{position:"relative",backgroundColor:t==="light"?"#ffffff":"#1e293b",borderRadius:"10px",border:`1px solid ${r.get("border",t)}`,cursor:"pointer"},dropdownSelect:{width:"100%",padding:"10px 30px 10px 12px",fontSize:"14px",fontWeight:"500",color:r.get("mainText",t),backgroundColor:"transparent",border:"none",borderRadius:"10px",appearance:"none",cursor:"pointer",outline:"none"},dropdownIcon:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)"},activeFiltersBadge:{marginTop:"12px",padding:"8px 12px",backgroundColor:t==="light"?"#e3f2fd":"#1e3a8a",color:t==="light"?"#1e40af":"#60a5fa",borderRadius:"8px",fontSize:"13px",fontWeight:"600"}});if(typeof document<"u"){const t=document.createElement("style");t.textContent=`
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  `,document.head.appendChild(t)}export{Ce as default};
