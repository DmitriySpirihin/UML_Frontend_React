import{R as oe,_ as K,c as je,j as t,r as d,A as p,t as $e,f as Fe,l as fe,C as n,i as pe,k as ge,S as Ne,T as Be,a as me,Z as re,n as Oe,$ as Ye,m as Ve,M as Ue,g as ye,a0 as we,Q as We,a1 as qe,a2 as Xe}from"./index-DwAcGTWc.js";import{M as le}from"./MyInput-CYzCuj1l.js";import{u as Ke,a as Qe,b as ce}from"./index-DUDtk6fm.js";import{S as Ze}from"./Slider-yAd5SWN2.js";class U{static ic={default:"üôÇ",star:"‚≠ê",clock:"‚è∞",calendar:"üìÖ",search:"üîç",settings:"‚öôÔ∏è",tools:"üõ†Ô∏è",gift:"üéÅ",shopping:"üõçÔ∏è",store:"üè™",box:"üì¶",boxes:"üóÉÔ∏è",package:"üì¶",transport:"üöö",travel:"‚úàÔ∏è",bike:"üö≤",car:"üöó",bus:"üöå",train:"üöÜ",subway:"üöá",ship:"üö¢",taxi:"üöï",motorcycle:"üèçÔ∏è",hiking:"ü•æ",swimming:"üèä",mountain:"‚õ∞Ô∏è",beach:"üèñÔ∏è",puzzle:"üß©",game:"üéÆ",camera:"üì∑",video:"üé•",palette:"üé®",design:"üñåÔ∏è",music:"üéµ",guitar:"üé∏",language:"üåê",graduation:"üéì",code:"üíª",mobile:"üì±",laptop:"üíª",book:"üìö",bookOpen:"üìñ",users:"üë•",friends:"üë´",share:"üì§",phone:"üìû",comment:"üí¨",heart:"‚ù§Ô∏è",money:"üí∞",savings:"ü™ô",chart:"üìà",pieChart:"üìä",shoppingCart:"üõí",basket:"üß∫",clean:"üßπ",clothes:"üëï",utensils:"üç¥",spoon:"ü•Ñ",seedling:"üå±",helping:"ü§ù",wine:"üç∑",health:"üí™",heart:"‚ù§Ô∏è",meditation:"üßò",workout:"üèãÔ∏è",running:"üèÉ",exercise:"üèÉ‚Äç‚ôÇÔ∏è",stretching:"üßò‚Äç‚ôÄÔ∏è",walking:"üö∂",food:"üçé",fruit:"üçá",meal:"üç≤",cooking:"üç≥",water:"üíß",coffee:"‚òï",reading:"üìñ",learning:"üß†",journaling:"üìì",planning:"üóìÔ∏è",goals:"üéØ",idea:"üí°",sleep:"üò¥",wakeup:"üåÖ",bedtime:"üåô",alarm:"‚è∞",morning:"‚òÄÔ∏è",night:"üåô",work:"üíº",study:"üìö",coding:"üíª",meeting:"üìÖ",pet:"üêï",creativity:"‚ú®",hobby:"üé®",sport:"‚öΩ",habit:"‚úÖ",task:"üìÖ",checklist:"üìã",reminder:"üîî",tracker:"üìä",family:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶",social:"üì≤",date:"‚ù§Ô∏è",budget:"üìâ",investment:"üíπ",cleaning:"üßΩ",laundry:"üëö",grocery:"üõí",garden:"üåø",bed:"üõèÔ∏è",mindfulness:"üß†",gratitude:"üôè",therapy:"üí¨",breathing:"üå¨Ô∏è",journal:"üìì",school:"üè´",onlineCourse:"üñ•Ô∏è",research:"üîç",app:"üì±",photo:"üì∏",art:"üé®",write:"‚úçÔ∏è",dance:"üíÉ",craft:"‚úÇÔ∏è",prayer:"üôè",yoga:"üßò",meditation:"üïâÔ∏è",reflection:"üåô",focus:"üéØ",time:"‚è≥",routine:"üìã",plan:"üìù",weather_sunny:"‚òÄÔ∏è",weather_cloudy:"‚òÅÔ∏è",weather_rain:"üåßÔ∏è",weather_storm:"‚õàÔ∏è",weather_snow:"‚ùÑÔ∏è",weather_windy:"üí®",weather_fog:"üå´Ô∏è",temperature:"üå°Ô∏è",bath:"üõÅ",shower:"üöø",toilet:"üöΩ",toilet_paper:"üßª",soap:"üßº",hands_wash:"üßΩ",thumbs_up:"üëç",thumbs_down:"üëé",hand_peace:"‚úåÔ∏è",hand_point_up:"üëÜ",hand_point_right:"üëâ",hand_point_left:"üëà",hand_point_down:"üëá",skull:"üíÄ"};static getHabitIcon(o,u){const f={"–ü–∏—Ç—å –≤–æ–¥—É":"water","–•–æ—Ä–æ—à–∏–π —Å–æ–Ω":"sleep","–î–≤–∏–≥–∞—Ç—å—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å":"exercise","–ó–¥–æ—Ä–æ–≤–æ–µ –ø–∏—Ç–∞–Ω–∏–µ":"food","–£—Ö–æ–¥ –∑–∞ —Ç–µ–ª–æ–º":"health","–°–∏–ª–æ–≤–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞":"workout",–ë–µ–≥:"running",–•–æ–¥—å–±–∞:"walking","–†–∞—Å—Ç—è–∂–∫–∞ –∏–ª–∏ –π–æ–≥–∞":"yoga","–ú–µ–¥–∏—Ç–∞—Ü–∏—è –∏ –¥—ã—Ö–∞–Ω–∏–µ":"meditation",–ß—Ç–µ–Ω–∏–µ:"book","–û–±—É—á–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–∞–º":"learning","–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫":"language","–í–µ–¥–µ–Ω–∏–µ –¥–Ω–µ–≤–Ω–∏–∫–∞":"journaling",–†–µ—Ñ–ª–µ–∫—Å–∏—è:"reflection","–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–Ω—è":"planning","–ì–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ –¥–Ω—è":"goal","–†–∞–±–æ—Ç–∞ –ø–æ —Ç–∞–π–º–µ—Ä—É":"focus","–†–∞–∑–±–æ—Ä –≤—Ö–æ–¥—è—â–∏—Ö":"inbox","–í–µ—á–µ—Ä–Ω–∏–π –æ–±–∑–æ—Ä":"planning","–ö–æ–Ω—Ç–∞–∫—Ç —Å –±–ª–∏–∑–∫–∏–º–∏":"phone","–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ":"friends",–ü–æ–¥–¥–µ—Ä–∂–∫–∞:"helping","–ê–∫—Ç–∏–≤–Ω–æ–µ —Å–ª—É—à–∞–Ω–∏–µ":"friends",–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å:"gratitude",–•–æ–±–±–∏:"hobby",–ü—Ä–æ–≥—É–ª–∫–∞:"walking","–°–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã–π –æ—Ç–¥—ã—Ö":"meditation",–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ:"creativity","–¶–∏—Ñ—Ä–æ–≤–æ–π –¥–µ—Ç–æ–∫—Å":"focus","–°–ª–∞–¥–∫–æ–µ –∏ —Ñ–∞—Å—Ç—Ñ—É–¥":"food","–ü–æ–∑–¥–Ω–∏–π –æ—Ç—Ö–æ–¥ –∫–æ —Å–Ω—É":"bedtime",–ü—Ä–æ–∫—Ä–∞—Å—Ç–∏–Ω–∞—Ü–∏—è:"focus","–õ–∏—à–Ω–∏–π —ç–∫—Ä–∞–Ω":"mobile","–ù–µ–∑–¥–æ—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–∫—É—Å—ã":"food","–ò–≥—Ä—ã —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ":"game",–ü–æ—Ä–Ω–æ:"skull",–ö—É—Ä–µ–Ω–∏–µ:"skull",–ê–ª–∫–æ–≥–æ–ª—å:"wine"}[o]||"default";return this.getIcon(f,u)}static getIcon(o,u={}){const x=this.ic[o]||this.ic.default,{style:f={},...s}=u;return oe.createElement("span",{style:{fontSize:"1.5rem",lineHeight:1,display:"inline-block",filter:"drop-shadow(1px 1px 1px rgba(0, 0, 0, 0.5))",color:f.color||"currentColor",...f},...s},x)}}function Se(e){return K({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"},child:[]}]})(e)}function Ce(e){return K({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M384 80c8.8 0 16 7.2 16 16l0 320c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16L48 96c0-8.8 7.2-16 16-16l320 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"},child:[]}]})(e)}function Je(e){return K({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 10a1 1 0 0 1 1 1v7.584l1.293 -1.291a1 1 0 0 1 1.32 -.083l.094 .083a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1 -.112 .097l-.11 .071l-.114 .054l-.105 .035l-.149 .03l-.117 .006l-.075 -.003l-.126 -.017l-.111 -.03l-.111 -.044l-.098 -.052l-.096 -.067l-.09 -.08l-3 -3a1 1 0 0 1 1.414 -1.414l1.293 1.293v-7.586a1 1 0 0 1 1 -1m0 -8a3 3 0 1 1 -3 3l.005 -.176a3 3 0 0 1 2.995 -2.824"},child:[]}]})(e)}function et(e){return K({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.852 2.011l.058 -.007l.09 -.004l.075 .003l.126 .017l.111 .03l.111 .044l.098 .052l.104 .074l.082 .073l3 3a1 1 0 1 1 -1.414 1.414l-1.293 -1.292v7.585a1 1 0 0 1 -2 0v-7.585l-1.293 1.292a1 1 0 0 1 -1.32 .083l-.094 -.083a1 1 0 0 1 0 -1.414l3 -3q .053 -.054 .112 -.097l.11 -.071l.114 -.054l.105 -.035z"},child:[]},{tag:"path",attr:{d:"M12 16a3 3 0 1 1 0 6a3 3 0 0 1 0 -6"},child:[]}]})(e)}function ve(e){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(e)}const tt=je([t.jsx("path",{d:"M12 6c-3.87 0-7 3.13-7 7s3.13 7 7 7 7-3.13 7-7-3.13-7-7-7m1 8h-2V8h2z",opacity:".3"},"0"),t.jsx("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7"},"1"),t.jsx("path",{d:"M11 8h2v6h-2z"},"2")]),ot=je([t.jsx("path",{d:"M12 20c1.47 0 2.83-.45 3.95-1.22L6.22 9.05C5.45 10.17 5 11.53 5 13c0 3.87 3.13 7 7 7m0-14c-.94 0-1.83.19-2.65.52L11 8.17V8h2v2.17l5.48 5.48c.33-.82.52-1.71.52-2.65 0-3.87-3.13-7-7-7",opacity:".3"},"0"),t.jsx("path",{d:"M9 1h6v2H9zm3 5c3.87 0 7 3.13 7 7 0 .94-.19 1.83-.52 2.65l1.5 1.5C20.63 15.91 21 14.5 21 13c0-2.12-.74-4.07-1.97-5.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-1.5 0-2.91.37-4.15 1.02l1.5 1.5C10.17 6.19 11.06 6 12 6"},"1"),t.jsx("path",{d:"M11 8v.17l2 2V8zM2.81 2.81 1.39 4.22l3.4 3.4C3.67 9.12 3 10.98 3 13c0 4.97 4.02 9 9 9 2.02 0 3.88-.67 5.38-1.79l2.4 2.4 1.41-1.41zM12 20c-3.87 0-7-3.13-7-7 0-1.47.45-2.83 1.22-3.95l9.73 9.73C14.83 19.55 13.47 20 12 20"},"2")]),te=new Date().toISOString().split("T")[0],nt=new Audio("Audio/Click.wav"),st=new Audio("Audio/Skip.wav"),at=new Audio("Audio/IsDone.wav"),it=new Audio("Audio/Timer.wav");let ke,Te,ue;const rt=()=>{const[e,o]=oe.useState("dark"),[u,x]=oe.useState([]),[f,s]=oe.useState([]),[g,w]=d.useState(p.prefs[0]),[h,S]=d.useState(0),[v,M]=d.useState(p.choosenHabits.length>0),[b,_]=d.useState(0),[H,W]=d.useState(0),[i,j]=d.useState({show:!1,type:0,hId:0,gId:0,setGoals:null,hInfo:null}),[T,q]=d.useState(""),[R,B]=d.useState(""),[$,Q]=d.useState(""),[L,F]=d.useState(""),[O,X]=d.useState(!1),[he,ne]=d.useState("default");d.useEffect(()=>{if(i.type===0&&(B(k()[i.hId].name[g]),Q(k()[i.hId].description[g]),F(k()[i.hId].iconName)),i.type===4){if(i.gId<=0)return;i.setGoals(c=>{const l=[...c];return[l[i.gId-1],l[i.gId]]=[l[i.gId],l[i.gId-1]],p.choosenHabitsGoals[i.hId]=l,l})}else i.type===5&&i.setGoals(c=>{if(i.gId>=c.length-1)return c;const l=[...c];return[l[i.gId],l[i.gId+1]]=[l[i.gId+1],l[i.gId]],p.choosenHabitsGoals[i.hId]=l,l})},[i]),d.useEffect(()=>{const c=$e.subscribe(o),l=Fe.subscribe(S);return()=>{c.unsubscribe(),l.unsubscribe()}},[]),d.useEffect(()=>{const c=fe.subscribe(l=>{w(l==="ru"?0:1)});return()=>c.unsubscribe()},[]),d.useEffect(()=>{x(p.choosenHabits)},[]),d.useEffect(()=>{if(u.length>0){const c=new Set;u.forEach(l=>{const C=k().find(I=>I.id===l);C&&!c.has(C.category[0])&&c.add(C.category[0])}),s(Array.from(c))}},[u]);const A=(c,l,C,I,D)=>{x(E=>{const P=new Set(E);return P.has(c)?E:(p.addHabit(c,l,C,I,D),[...P,c])}),M(p.choosenHabits.length>0)},N=c=>{if(u.includes(c)){p.removeHabit(c),x(E=>E.filter(P=>P!==c));const I=(k().find(E=>E.id===c)?.name||["",""])[g]||(g===0?"–ü—Ä–∏–≤—ã—á–∫–∞":"Habit"),D=g===0?`–ü—Ä–∏–≤—ã—á–∫–∞: '${I}' —É–¥–∞–ª–µ–Ω–∞`:`Habit: '${I}' deleted`;re(D,2e3,!0),M(p.choosenHabits.length>0)}},Y=()=>{switch(i.type){case 0:const c=p.CustomHabits.findIndex(l=>l.id===i.hId);p.CustomHabits=p.CustomHabits.map((l,C)=>C===c?{...l,name:[R.trim(),R.trim()],description:[$.trim(),$.trim()],iconName:L}:l),x(l=>[...l]),j(l=>({...l,show:!1})),i.hInfo({name:[R,R],description:[$,$],iconName:L}),W(l=>l+1);break;case 1:T.length>0?(i.setGoals(l=>[...l,{text:T,isDone:!1}]),p.addHabitGoal(i.hId,{text:T,isDone:!1}),j(l=>({...l,show:!1}))):re(g===0?"–í–≤–µ–¥–∏—Ç–µ —Ü–µ–ª—å":"Enter goal",2e3,!1);break;case 2:T.length>0?(i.setGoals(l=>l.map((C,I)=>I===i.gId?{...C,text:T.trim()}:C)),p.choosenHabitsGoals[i.hId][i.gId].text=T,j(l=>({...l,show:!1}))):re(g===0?"–í–≤–µ–¥–∏—Ç–µ —Ü–µ–ª—å":"Enter goal",2e3,!1);break;case 3:i.setGoals(l=>l.filter((C,I)=>I!==i.gId)),p.choosenHabitsGoals[i.hId].splice(i.gId),j(l=>({...l,show:!1}));break}};return ke=N,Te=A,t.jsxs("div",{style:y(e).container,children:[!v&&t.jsx("div",{style:{...y(e).panel,justifyContent:"center",alignItems:"center",marginTop:"40%"},children:t.jsx("p",{style:{...y(e).subText,fontSize:h===0?"11px":"13px",margin:"10%",marginTop:"20%",whiteSpace:"pre-line",color:n.get("subText",e)},children:pt(g)})}),v&&t.jsx("div",{style:y(e).scrollView,children:lt({theme:e,habitsCards:u,categories:f,setCP:j,setCurrentId:_,fSize:h})},H),i.show&&i.type>0&&i.type<4&&t.jsx("div",{style:y(e).confirmContainer,children:t.jsxs("div",{style:y(e).cP,children:[i.type===1&&t.jsx("p",{style:{...y(e).subText,fontSize:h===0?"11px":"13px",marginTop:"5%",color:n.get("subText",e)},children:g===0?"–í–≤–µ–¥–∏—Ç–µ —Ü–µ–ª—å":"Enter goal"}),i.type===2&&t.jsx("p",{style:{...y(e).subText,fontSize:h===0?"11px":"13px",marginTop:"5%",color:n.get("subText",e)},children:g===0?"–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤–æ–µ –∏–º—è":"Enter new name"}),i.type===3&&t.jsx("p",{style:{...y(e).subText,fontSize:h===0?"11px":"13px",marginTop:"5%",color:n.get("subText",e)},children:g===0?"–£–¥–∞–ª–∏—Ç—å —Ü–µ–ª—å?":"Delete goal?"}),i.type!==3&&t.jsx(le,{w:"80%",h:"20%",maxL:30,value:i.type===2?p.choosenHabitsGoals[i.hId][i.gId].text:"",onChange:c=>q(c),placeholder:g===0?"–í–≤–µ–¥–∏—Ç–µ —Ü–µ–ª—å":"Enter goal",theme:e}),t.jsxs("div",{style:y(e).simplePanelRow,children:[t.jsx(pe,{style:{fontSize:"28px",color:n.get("icons",e)},onClick:()=>j(c=>({...c,show:!1}))}),t.jsx(ge,{style:{fontSize:"28px",color:n.get("icons",e)},onClick:()=>{Y()}})]})]})}),i.show&&i.type===0&&i.type<4&&t.jsx("div",{style:y(e).confirmContainer,children:t.jsxs("div",{style:{...y(e).cP,height:"50vh"},children:[t.jsx("p",{style:{...y(e).subText,fontSize:h===0?"13px":"15px",marginTop:"5%",color:n.get("subText",e)},children:g===0?"–ò–∑–º–µ–Ω–∏ –ø—Ä–∏–≤—ã—á–∫—É":"Change habit"}),t.jsx(le,{w:"80%",h:"10%",maxL:30,value:k().find(c=>c.id===i.hId).name[g],onChange:c=>B(c),placeholder:g===0?"–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤–æ–µ –∏–º—è":"Enter new name",theme:e}),t.jsx(le,{w:"80%",h:"20%",maxL:200,value:k().find(c=>c.id===i.hId).description[g],onChange:c=>Q(c),placeholder:g===0?"–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ":"Enter new description",theme:e}),t.jsx("div",{style:{...y(e).subText,fontSize:h===0?"13px":"15px",color:n.get("subText",e)},children:g===0?"–∏–∑–º–µ–Ω–∏ –∏–∫–æ–Ω–∫—É":"cange icon"}),t.jsxs("div",{style:{display:"flex",alignContent:"space-between",justifyContent:"center",width:"50%"},children:[t.jsx("div",{style:{width:"80%",padding:"5px"},children:t.jsxs("div",{onClick:()=>X(!O),children:[!O&&t.jsx(Ne,{style:{fontSize:"24px",marginTop:"15px",color:n.get("icons",e)}}),O&&t.jsx(Be,{style:{fontSize:"24px",marginTop:"15px",color:n.get("icons",e)}})]})}),t.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"20%",height:"100%",padding:"8px"},children:U.getIcon(L,{size:48,style:{fontSize:"30px",marginBottom:"20px",color:n.get("habitIcon",e),filter:"drop-shadow(1px 1px 1px rgba(0, 0, 0, 0.5))"}})})]}),t.jsxs("div",{style:y(e).simplePanelRow,children:[t.jsx(pe,{style:{fontSize:"28px",color:n.get("icons",e)},onClick:()=>j(c=>({...c,show:!1}))}),t.jsx(ge,{style:{fontSize:"28px",color:n.get("icons",e)},onClick:()=>{Y()}})]})]})}),O&&t.jsx("div",{style:y(e).selectPanel,children:Object.entries(U.ic).map(([c])=>t.jsx("div",{style:{width:"15%",padding:"12px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",borderRadius:"8px",transition:"background-color 0.2s",":hover":{backgroundColor:n.get("highlitedPanel",e)}},onClick:()=>{F(c),X(!1)},children:U.getIcon(c,{size:32,style:{color:n.get("habitIcon",e),filter:"drop-shadow(1px 1px 1px rgba(0, 0, 0, 0.5))"}})},c))})]})};function k(){return me.concat((p.CustomHabits||[]).filter(e=>!me.some(o=>o.id===e.id)))}function lt({theme:e,habitsCards:o,categories:u,setCP:x,setCurrentId:f,fSize:s}){return u.map(g=>{const w=o.map(h=>k().find(S=>S.id===h)).filter(h=>h&&h.category[0]===g);return t.jsx(dt,{text:k().find(h=>h.category[0]===g)?.category,theme:e,isNegative:g==="–û—Ç–∫–∞–∑ –æ—Ç –≤—Ä–µ–¥–Ω–æ–≥–æ",children:w.map(h=>t.jsx(ct,{id:h.id,theme:e,setCP:x,setCurrentId:f,fSize:s},h.id))},g)})}function ct({id:e=0,theme:o,setCP:u,setCurrentId:x,fSize:f}){const[s,g]=d.useState(p.habitsByDate[te]?.[e]),[w,h]=d.useState(p.prefs[0]),S=k().find(r=>r.id===e),[v,M]=d.useState({name:S?.name||["",""],descr:S?.description||["",""],icon:S?.iconName||"default"}),b=S.category[0]==="–û—Ç–∫–∞–∑ –æ—Ç –≤—Ä–µ–¥–Ω–æ–≥–æ",_=Oe(e),H=120,W=-H,[i,j]=d.useState(!0);let T=s===0?"rgba(0,0,0,0.1)":n.get(s===1?"habitCardDone":"habitCardSkipped",o),q=s===1?"rgba(0,0,0,0.1)":n.get("habitCardSkipped",o),R=s===-1?"rgba(0,0,0,0.1)":n.get("habitCardDone",o);const[B,$]=d.useState(!1),[Q,L]=d.useState(T),[F,O]=d.useState(!1),[X,he]=d.useState(!1),[ne,A]=d.useState(p.choosenHabitsGoals[e]),[N,Y]=d.useState(0),[c,l]=d.useState(!1),[C,I]=d.useState(!!b),[D,E]=d.useState(b?864e5:6e4),[P,V]=d.useState(b?Math.round(Date.now()-new Date(p.choosenHabitsLastSkip[e])):6e4),[ht,xt]=d.useState(b?Date.now():0),[He,se]=d.useState(0);d.useEffect(()=>{if(C){let r=0;const a=setInterval(()=>{r+=50;const m=(P+r)/D*100;se(m),r===1e3&&V(G=>{const z=G+1e3;return r=0,b||z>=D&&(it.play(),clearInterval(a),g(1),V(0),I(!1),se(0)),z})},50);return()=>clearInterval(a)}},[P,C,D]),d.useEffect(()=>{const r=fe.subscribe(a=>{h(a==="ru"?0:1)});return()=>r.unsubscribe()},[]),d.useEffect(()=>{p.changeStatus(te,e,s)},[s]);const De=()=>{const r=k().find(a=>a.id===e);if(!r||!r.name||!Array.isArray(r.name)||r.name.length===0)return U.getIcon("default",{style:{color:n.get("habitIcon",o)}});if(r.isCustom&&r.iconName)return U.getIcon(r.iconName,{style:{color:n.get("habitIcon",o)}});{const a=r.name[0]||"default";return U.getHabitIcon(a,{style:{color:n.get("habitIcon",o)}})}};d.useEffect(()=>{L(s===0?"rgba(0,0,0,0.1)":n.get(s===1?"habitCardDone":"habitCardSkipped",o))},[o,s]);const ze=Ke(0),Z=Qe(ze,[-1,1],[W,H]),Me=()=>{T=s===0?"rgba(0,0,0,0.1)":n.get(s===1?"habitCardDone":"habitCardSkipped",o),q=s===1?"rgba(0,0,0,0.1)":n.get("habitCardSkipped",o),R=s===-1?"rgba(0,0,0,0.1)":n.get("habitCardDone",o)},Le=(r,a)=>{s===1&&a.offset.x<0&&L(Ie(T,q,Math.abs(a.offset.x)/H)),b?a.offset.x<W&&i&&(J(!1),ce(Z,0,{type:"tween",duration:.2}),j(!1)):((s===1&&a.offset.x<0||s!==1)&&L(Ie(T,a.offset.x>0?R:q,Math.abs(a.offset.x)/H)),Math.abs(a.offset.x)>H&&i&&((s<1&&a.offset.x>0||s>-1&&a.offset.x<0)&&J(a.offset.x>0),ce(Z,0,{type:"tween",duration:.2}),j(!1)))},Ae=()=>{i&&ce(Z,0,{type:"tween",duration:.2}),L(s===0?"rgba(0,0,0,0.1)":n.get(s===1?"habitCardDone":"habitCardSkipped",o)),j(!0)},J=r=>{let a=0;r?(s===0?a=1:s===-1?a=0:a=1,p.habitsByDate[te][e]=a):(s===0?a=-1:s===1?(a=b?-1:0,b&&(V(Math.round(0)),p.choosenHabitsLastSkip[e]=Date.now())):s===-1&&(a=-1,ue=e,b&&(V(Math.round(0)),p.choosenHabitsLastSkip[e]=Date.now())),p.habitsByDate[te][e]=a),a===1?de(at):a===-1&&de(st),L(s===0?"rgba(0,0,0,0.2)":n.get(s===1?"habitCardDone":"habitCardSkipped",o)),g(a)},xe=()=>{x(e),de(nt);const r=!B;$(r),Xe(r?e:null)};d.useEffect(()=>{const r=Ye.subscribe(a=>{$(a===e)});return()=>r.unsubscribe()},[e]);const Ge={display:"flex",flexDirection:"column",width:"95%",borderRadius:"24px",margin:"5px",overflow:"hidden",position:"relative",backgroundColor:s<2?Q:n.get("habitCardEnded",o),border:"2px solid "+n.get("border",o),x:Z},Ee={position:"absolute",top:0,left:0,height:"2px",width:`${He}%`,backgroundColor:"green",borderRadius:"24px 0 0 0"},ae={fontSize:f===0?"13px":"15px",color:n.get("mainText",o),marginLeft:"20px"},ee={textAlign:"left",fontSize:f===0?"11px":"13px",color:n.get("subText",o),padding:"3px"};let be="24vh";p.choosenHabitsGoals[e]?.length>0&&(be=p.choosenHabitsGoals[e].length*(f===0?3.2:3.8)+24+"vh"),d.useEffect(()=>{j(!c)},[c]);const Pe=()=>{s<1&&!b&&(I(!0),V(0))},_e=()=>{b||(I(!1),se(0),V(0))},Re=()=>{ue=e;const r=p.prefs[0]===0?`–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É: '${displayText}' ?`:`Are you sure you want to delete '${displayText}' habit?`;qe(r)};return t.jsxs(Ve.div,{id:e,style:Ge,onClick:r=>{const a=r.nativeEvent.pageY,m=document.getElementById(e),G=m.getBoundingClientRect().top+window.scrollY,z=a-G;(m.clientHeight<.06*window.innerHeight||z<m.clientHeight*.2)&&xe()},drag:i?"x":!1,dragConstraints:{left:W,right:s>0||b?0:H},onDragStart:Me,dragElastic:0,onDrag:Le,onDragEnd:Ae,animate:{height:B?be:"4.5vh"},transition:{type:"tween",duration:.4,ease:"easeInOut"},children:[t.jsx("div",{style:Ee}),c&&t.jsx("div",{style:{display:"flex",alignItems:"center",position:"absolute",borderRadius:"24px",width:"100%",height:"4.5vh",zIndex:1001,backgroundColor:n.get("background",o)},onClick:r=>r.stopPropagation(),children:t.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"95%",margin:"8px auto 0"},children:[t.jsx("div",{style:y(o).mainText,children:ut(D)}),t.jsx(Ze,{style:y(o).slider,min:1,max:59,value:D/6e4,valueLabelDisplay:"off",onChange:r=>{E(r.target.value*6e4),r.stopPropagation()}}),t.jsx(pe,{onClick:r=>{r.stopPropagation(),l(!1)},style:{cursor:"pointer",color:n.get("icons",o),fontSize:"24px"}}),t.jsx(ge,{onClick:r=>{r.stopPropagation(),Pe(),l(!1)},style:{cursor:"pointer",color:n.get("icons",o),fontSize:"24px"}})]})}),t.jsxs("div",{style:{display:"flex",alignItems:"flex-start",maxHeight:"40px",paddingBottom:"5px"},children:[t.jsx("div",{style:{marginLeft:"15px",marginTop:"8px"},children:De()}),t.jsx("h2",{style:ae,children:v.name[w]}),s<2&&t.jsxs("div",{style:{marginLeft:"auto",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[C&&t.jsx("h2",{style:ae,children:gt(P,D,b)}),!C&&t.jsx(ot,{onClick:r=>{r.stopPropagation(),b||l(!0)},style:{...y(o).icon,color:n.get("icons",o),opacity:.5,fontSize:"24px",marginTop:"10px",marginRight:"15px"}}),C&&t.jsx(tt,{onClick:r=>{r.stopPropagation(),_e()},style:{...y(o).icon,color:n.get("icons",o),fontSize:"24px",marginRight:"10px"}})]}),s>1&&t.jsx(Ue,{style:{...y(o).icon,color:"#d8e363ff",fontSize:"24px",marginRight:"20px",marginTop:"10px",marginLeft:"auto"}})]}),B&&t.jsxs("div",{style:{marginLeft:"15px",width:"90%",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-around"},children:[t.jsx("div",{style:ee,children:v.descr[w]}),t.jsx("div",{style:ee,children:w===0?"–¶–µ–ª–∏ : ":"Goals : "}),ne?.map((r,a)=>t.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"100%",borderBottom:`1px solid ${n.get("border",o)}`,marginBottom:"5px",marginLeft:"5px"},children:[t.jsx("div",{style:{...ae,marginLeft:"1px",overflow:"hidden"},children:r.text}),t.jsxs("div",{style:{marginLeft:"auto",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[F&&N===a&&a<p.choosenHabitsGoals[e].length-1&&t.jsx(Je,{onClick:()=>{u(m=>({...m,show:!0,type:5,hId:e,gId:a,setGoals:A})),Y(m=>m+1)},style:{fontSize:"18px",marginRight:"8px",color:n.get("icons",o)}}),F&&N===a&&a>0&&t.jsx(et,{onClick:()=>{u(m=>({...m,show:!0,type:4,hId:e,gId:a,setGoals:A})),Y(m=>m-1)},style:{fontSize:"18px",marginRight:"8px",color:n.get("icons",o)}}),F&&N===a&&t.jsx(ye,{onClick:()=>u(m=>({...m,show:!0,type:2,hId:e,gId:a,setGoals:A})),style:{fontSize:"18px",marginRight:"8px",color:n.get("icons",o)}}),F&&N===a&&t.jsx(we,{onClick:()=>u(m=>({...m,show:!0,type:3,hId:e,gId:a,setGoals:A})),style:{fontSize:"18px",marginRight:"8px",color:n.get("icons",o)}}),ne[a].isDone?t.jsx(Se,{style:{fontSize:"24px",color:n.get("icons",o)},onClick:()=>A(m=>{const G=m.map((z,ie)=>ie===a?{...z,isDone:!1}:z);return p.choosenHabitsGoals[e]=G,G})}):t.jsx(Ce,{style:{fontSize:"24px",color:n.get("icons",o)},onClick:()=>A(m=>{const G=m.map((z,ie)=>ie===a?{...z,isDone:!0}:z);return p.choosenHabitsGoals[e]=G,G})}),t.jsx(ve,{style:{fontSize:"18px",color:n.get("icons",o),marginLeft:"8px"},onClick:()=>{O(m=>!(m&&N===a)),Y(a),x(e)}})]})]},a)),t.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},children:[t.jsx(We,{onClick:()=>u({show:!0,type:1,hId:e,gId:0,setGoals:A}),style:{fontSize:"24px",color:n.get("icons",o)}}),t.jsx("div",{style:{...ee,marginLeft:"15px"},children:w===0?"–î–æ–±–∞–≤–∏—Ç—å —Ü–µ–ª—å":"Add goal"})]}),t.jsx("div",{style:ee,children:w===0?"–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è üèÜ":"Achievements üèÜ"}),p.choosenHabitsAchievements[e]?.map((r,a)=>t.jsx(ft,{index:a,milestone:r,habitId:e,isNegative:b,percent:_,theme:o,fSize:f,langIndex:w},a)),t.jsxs("div",{style:{display:"flex",marginLeft:"auto",flexDirection:"row",alignItems:"center"},children:[X&&k().find(r=>r.id===e).isCustom&&t.jsx(ye,{onClick:()=>u(r=>({...r,show:!0,type:0,hId:e,gId:0,hInfo:M})),style:{fontSize:"18px",marginRight:"10px",color:n.get("icons",o)}}),X&&t.jsx(we,{onClick:Re,style:{fontSize:"18px",marginLeft:"10px",color:n.get("icons",o)}}),t.jsx(ve,{style:{fontSize:"18px",color:n.get("icons",o),marginLeft:"8px"},onClick:()=>{he(r=>!r)}}),!b&&s<1&&t.jsx(Ce,{onClick:()=>J(!0),style:{fontSize:"24px",marginLeft:"10px",color:n.get("skipped",o)}}),!b&&s>0&&t.jsx(Se,{onClick:()=>J(!1),style:{fontSize:"24px",marginLeft:"10px",color:n.get("done",o)}})]})]})]})}function dt({text:e=["–ò–º—è","Name"],children:o,theme:u,fSize:x,isNegative:f}){const[s,g]=d.useState(p.prefs[0]);return d.useEffect(()=>{const w=fe.subscribe(h=>{g(h==="ru"?0:1)});return()=>w.unsubscribe()},[]),t.jsxs("div",{style:y(u,x,f).categoryPanel,children:[e[s],o]})}const y=(e,o,u)=>({container:{backgroundColor:n.get("background",e),display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",height:"100vh",width:"100vw",fontFamily:"Segoe UI"},categoryPanel:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"24px",border:u?`1px solid ${n.get("categoryNegative",e)}`:`1px solid ${n.get("categoryPositive",e)}`,borderTop:u?`5px solid ${n.get("categoryNegative",e)}`:`5px solid ${n.get("categoryPositive",e)}`,margin:"4px",background:n.get("panelGradient",e),boxShadow:`4px 4px 6px ${n.get("shadow",e)}`,fontFamily:"Segoe UI",color:n.get("subText",e)},text:{textAlign:"left",fontSize:o===0?"11px":"13px",color:n.get("subText",e),marginLeft:"30px",marginBottom:"12px"},scrollView:{padding:"5px",width:"98vw",height:"80vh",overflowY:"auto",marginTop:"12vh",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"stretch",borderRadius:"24px",backgroundColor:"rgba(0,0,0,0.1)"},cP:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",borderRadius:"24px",border:`1px solid ${n.get("border",e)}`,margin:"5px",marginBottom:"35vw",backgroundColor:n.get("simplePanel",e),boxShadow:`4px 4px 6px ${n.get("shadow",e)}`,width:"85vw",height:"40vw"},confirmContainer:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2900,padding:"20px"},simplePanelRow:{width:"75vw",display:"flex",flexDirection:"row",alignItems:"stretch",justifyContent:"space-around"},slider:{width:"60%",userSelect:"none",touchAction:"none",color:n.get("icons",e)},selectPanel:{backgroundColor:n.get("habitCard",e),borderRadius:"24px",border:`1px solid ${n.get("border",e)}`,position:"absolute",top:"30%",left:"50%",transform:"translate(-50%, -50%)",display:"flex",flexWrap:"wrap",width:"77vw",maxHeight:"42vh",overflowY:"auto",padding:"16px",gap:"8px",justifyContent:"center",zIndex:6e3}});function Ie(e,o,u){u=Math.max(0,Math.min(1,u));const x=v=>{const[M,b,_,H=1]=v.replace(/\s+/g,"").replace(/[^0-9.,]/g,"").split(",").map(Number);return{r:M,g:b,b:_,a:H}},f=x(e),s=x(o),g=Math.round(f.r+(s.r-f.r)*u),w=Math.round(f.g+(s.g-f.g)*u),h=Math.round(f.b+(s.b-f.b)*u),S=f.a+(s.a-f.a)*u;return`rgba(${g},${w},${h},${S})`}function pt(e){return e===0?`–í—ã –µ—â–µ –Ω–µ –¥–æ–±–∞–≤–∏–ª–∏ –Ω–∏ –æ–¥–Ω–æ–π –ø—Ä–∏–≤—ã—á–∫–∏

 –í—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –∏–∑ —Å–ø–∏—Å–∫–∞ –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ—é –ø—Ä–∏–≤—ã—á–∫—É.

–í—ã–±—Ä–∞–Ω–Ω—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏ –±—É–¥—É—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å, –µ—Å–ª–∏ –≤—ã –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ –¥–µ–Ω—å, –ø—Ä–∏–≤—ã—á–∫–∞ –±—É–¥–µ—Ç –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –¥–ª—è —ç—Ç–æ–≥–æ –¥–Ω—è.

–í—ã –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–≤–æ—é –ø—Ä–∏–≤—ã—á–∫—É –∏ –∑–∞—Ç–µ–º —Å–≤–∞–π–ø–Ω—É—Ç—å –≤–ø—Ä–∞–≤–æ, —á—Ç–æ–±—ã –æ—Ç–º–µ—Ç–∏—Ç—å –µ—ë –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é.

–ß—Ç–æ–±—ã —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–≤—ã—á–∫—É, –≤–∞–º –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –µ–µ 66 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥.

–í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –≤–∞—à–∏—Ö –ø—Ä–∏–≤—ã—á–µ–∫ –≤ –ø–∞–Ω–µ–ª–∏ –º–µ—Ç—Ä–∏–∫ –∏ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ.


 * –ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å, –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "+" –Ω–∏–∂–µ`:`You have not added any habits yet

 You can choose from the list or add your own habit.

Choosen habits will update automatically every day, if you skip a day, the habit will be skipped for that day.

You need to perform your habit and then swipe right to mark it as done.

To form a habit you need to perform it for 66 days in a row.

You can view a progress of your habits in the metrics panel and calendar.


 * To get started tap the "+" button below`}function de(e){p.prefs[2]==0&&e!==null&&(e.paused||(e.pause(),e.currentTime=0),e.volume=.5,e.play()),p.prefs[3]==0&&Telegram.WebApp.HapticFeedback&&Telegram.WebApp.HapticFeedback.impactOccurred("light")}function gt(e,o,u){const x=u?e:o-e,f=Math.floor(x/864e5),s=Math.floor(x%864e5/36e5),g=Math.floor(x%36e5/6e4),w=Math.floor(x%6e4/1e3),h=[["–¥","d"],["—á","h"],["–º","m"]],S=p.prefs[0];return f>0?f+h[0][S]:s>0?s+h[1][S]:g>0?u?g+h[2][S]:g+":"+w.toString().padStart(2,"0"):w.toString().padStart(2,"0")}function ut(e){return Math.floor(e/6e4)+"m"}const ft=({milestone:e,index:o,habitId:u,isNegative:x,percent:f,theme:s,fSize:g,langIndex:w})=>{const h=p.choosenHabits.indexOf(u),S=p.choosenHabitsDaysToForm[h];let v;x?o===0?v=7:o===1?v=30:v=90:o===0?v=Math.ceil(S/3):o===1?v=Math.ceil(S/2):v=S-1;const M=Math.floor(f/100*S),b=M>=v,_=Math.max(0,v-M);return t.jsxs("div",{style:{fontSize:g===0?"12px":"14px",color:b?n.get("mainText",s):n.get("subText",s),marginLeft:"2px"},children:[o+1,": ",b?e[w]:t.jsxs(t.Fragment,{children:[w===0?"–î–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Å—Ç–∞–ª–æ—Å—å: ":"Time to complete left: ",_,w===0?" –¥–Ω.":" d."]})]},o)},St=Object.freeze(Object.defineProperty({__proto__:null,get addHabitFn(){return Te},get currentId(){return ue},default:rt,get removeHabitFn(){return ke}},Symbol.toStringTag,{value:"Module"}));export{St as H,U as I,Te as a,ue as c,ke as r};
