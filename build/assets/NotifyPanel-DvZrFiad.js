import{r as p,A as u,by as O,t as Y,l as q,bz as G,j as t,C as r,E as J,H as K,I as Q,bA as V,O as b,a as X,U as j,N as w}from"./index-CNC4ZmaX.js";import{a as Z}from"./index-CS7OzsaL.js";const _=new Audio("Audio/Click.wav"),re=()=>{const[e,n]=p.useState("dark"),[i,f]=p.useState(u.prefs[0]),[o,a]=p.useState(12),[l,h]=p.useState(0),[x,C]=p.useState("Habit"),[v,B]=p.useState(u.notify),[g,D]=p.useState([!0,!0,!0,!0,!0,!1,!1]),[S,k]=p.useState("10 12 * * 1,2,3,4,5"),[T,R]=p.useState(!1),y=[["Ð¿Ð½","Ð²Ñ‚","ÑÑ€","Ñ‡Ñ‚","Ð¿Ñ‚","ÑÐ±","Ð²Ñ"],["mon","tue","wed","thu","fri","sat","sun"]],P=Array.from({length:24},(s,c)=>c),W=Array.from({length:60},(s,c)=>c),N=(s,c)=>{s.current&&(s.current.scrollTop=c*70,k(H(g,o,l)),se(_,0))},z=p.useRef(null),A=p.useRef(null);p.useEffect(()=>{N(z,o),N(A,l)},[o,l]),p.useEffect(()=>{const s=O.subscribe(C);return()=>s.unsubscribe()},[]),p.useEffect(()=>{const s=Y.subscribe(n);return()=>s.unsubscribe()},[]),p.useEffect(()=>{const s=q.subscribe(c=>f(c==="ru"?0:1));return()=>s.unsubscribe()},[]),p.useEffect(()=>{const s=G.subscribe(B);return()=>s.unsubscribe()},[]);const m=s=>{const c=[...g];if(c[s]=!c[s],c.filter(F=>!F).length===6&&g[s])return;const M=[...c];D(M),k(H(M,o,l))},I=()=>{x.startsWith("H")&&E(i,S,o,l),x.startsWith("T")&&$(i,S,o,l)},L=()=>{K(""),Q(0),V(!1)};return p.useEffect(()=>{te(x,k,a,h,D,R)},[]),t.jsx("div",{style:d(e).container,children:t.jsxs("div",{style:d(e).panel,children:[t.jsx("p",{style:d(e).subText,children:ee(i)}),t.jsxs("div",{style:d(e).timeContainer,children:[t.jsxs("div",{style:d(e).time,ref:z,onScroll:s=>{const c=Math.round(s.target.scrollTop/70);c!=o&&a(c)},children:[" ",P.map(s=>t.jsx("div",{style:{height:"70",lineHeight:"70px",fontSize:"28px",scrollSnapAlign:"start",color:r.get("mainText",e)},children:s.toString()},s))]}),t.jsxs("div",{style:{...d(e).time,borderLeft:`2px solid ${r.get("border",e)}`},ref:A,onScroll:s=>{const c=Math.round(s.target.scrollTop/70);c!=l&&h(c)},children:[" ",W.map(s=>t.jsx("div",{style:{height:"70",lineHeight:"70px",fontSize:"28px",scrollSnapAlign:"start",color:r.get("mainText",e)},children:s.toString().padStart(2,"0")},s))]})]}),t.jsxs("div",{style:d(e).daysContainer,children:[t.jsx("div",{style:{backgroundColor:g[0]?r.get("iconsDisabled",e):"transparent",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"21px",width:"42px",height:"42px"},children:t.jsx("p",{style:{...d(e).text,fontSize:"18px"},onClick:()=>{m(0)},children:y[i][0]})}),t.jsx("div",{style:{backgroundColor:g[1]?r.get("iconsDisabled",e):"transparent",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"21px",width:"42px",height:"42px"},children:t.jsx("p",{style:{...d(e).text,fontSize:"18px"},onClick:()=>{m(1)},children:y[i][1]})}),t.jsx("div",{style:{backgroundColor:g[2]?r.get("iconsDisabled",e):"transparent",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"21px",width:"42px",height:"42px"},children:t.jsx("p",{style:{...d(e).text,fontSize:"18px"},onClick:()=>{m(2)},children:y[i][2]})}),t.jsx("div",{style:{backgroundColor:g[3]?r.get("iconsDisabled",e):"transparent",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"21px",width:"42px",height:"42px"},children:t.jsx("p",{style:{...d(e).text,fontSize:"18px"},onClick:()=>{m(3)},children:y[i][3]})}),t.jsx("div",{style:{backgroundColor:g[4]?r.get("iconsDisabled",e):"transparent",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"21px",width:"42px",height:"42px"},children:t.jsx("p",{style:{...d(e).text,fontSize:"18px"},onClick:()=>{m(4)},children:y[i][4]})}),t.jsx("div",{style:{backgroundColor:g[5]?r.get("iconsDisabled",e):"transparent",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"21px",width:"42px",height:"42px"},children:t.jsx("p",{style:{...d(e).text,fontSize:"18px"},onClick:()=>{m(5)},children:y[i][5]})}),t.jsx("div",{style:{backgroundColor:g[6]?r.get("iconsDisabled",e):"transparent",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"21px",width:"42px",height:"42px"},children:t.jsx("p",{style:{...d(e).text,fontSize:"18px"},onClick:()=>{m(6)},children:y[i][6]})})]}),t.jsxs("div",{style:{display:"flex",width:"90%",flexDirection:"row",alignItems:"space-between",justifyContent:"center"},children:[t.jsx(J,{onClick:()=>{L()},style:{fontSize:"28px",width:"30%",color:r.get("icons",e)}}),t.jsx(Z,{onClick:()=>{I()},style:{fontSize:"28px",width:"30%",color:r.get("icons",e),paddingRight:"18px"}}),t.jsxs("label",{style:{...d(e).switch},children:[t.jsx("input",{type:"checkbox",style:d(e).input,checked:T,onChange:()=>{R(!T),ie(x,!T,i,S,o,l)}}),t.jsx("span",{style:d(e,T).slider}),t.jsx("span",{style:d(e,T).sliderBefore})]})]})]})})},d=(e,n=!1)=>({container:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},panel:{display:"flex",flexDirection:"column",marginTop:"30vh",alignItems:"center",justifyContent:"space-around",borderRadius:"24px",border:`1px solid ${r.get("border",e)}`,backgroundColor:r.get("background",e),boxShadow:`4px 4px 6px ${r.get("shadow",e)}`,width:"90vw",height:"45vh"},text:{marginTop:"12px",textAlign:"center",fontSize:"12px",color:r.get("mainText",e),marginBottom:"12px"},subText:{margin:"5px",marginTop:"12px",textAlign:"center",fontSize:"12px",color:r.get("subText",e)},daysContainer:{backgroundColor:"rgba(0,0,0,0.5)",padding:"5px",marginTop:"10%",borderRadius:"24px",display:"flex",flexDirection:"row",width:"95%",height:"15%",margin:"5px",alignItems:"center",justifyContent:"space-between"},timeContainer:{padding:"5px",borderBottom:"2px solid "+r.get("border",e),borderTop:"2px solid "+r.get("border",e),marginTop:"10%",display:"flex",flexDirection:"row",width:"55%",height:"25%",margin:"5px",alignItems:"center",justifyContent:"space-around"},time:{display:"flex",flexDirection:"column",overflowY:"scroll",textAlign:"center",scrollBehavior:"auto",scrollbarWidth:"none",scrollSnapType:"y mandatory",width:"50%",height:"70%"},switch:{marginTop:"4px",position:"relative",display:"inline-block",width:"60px",height:"24px"},input:{opacity:0,width:"0",height:"0"},slider:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:n?r.get("habitCardDone",e):r.get("habitCardSkipped",e),transition:"0.4s",borderRadius:"24px"},sliderBefore:{position:"absolute",content:'""',height:"20px",width:"20px",left:n?"38px":"2px",bottom:"2px",backgroundColor:r.get("mainText",e),transition:"0.4s",borderRadius:"50%"}});function ee(e){return e===0?"Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð¸ Ð´Ð½Ð¸ Ð½ÐµÐ´ÐµÐ»Ð¸, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð±Ð¾Ñ‚ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐ» Ð²Ð°Ð¼ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ":"Set a time and days of week to bot send notification to you"}function H(e,n,i){let f=`${i>0?i:"*"} ${n>0?n:"*"} * *`;if(e.every(o=>o===!0))f+=" *";else{const o=[];for(let a=0;a<e.length;a++)e[a]&&o.push(a+1);f+=" "+o.join(",")}return console.log(f),f}function te(e,n,i,f,o,a){let l="";e.startsWith("H")&&(a(u.notify[0].enabled),l=u.notify[0].cron),e.startsWith("T")&&(a(u.notify[1].enabled),l=u.notify[1].cron),n(l);const h=l.split(" ");if(i(h[1]!=="*"?parseInt(h[1]):0),f(h[0]!=="*"?parseInt(h[0]):0),h[4]==="*")o([!0,!0,!0,!0,!0,!0,!0]);else{const x=h[4].split(","),C=Array(7).fill(!1);x.forEach(v=>{C[v-1]=!0}),o(C)}}function E(e,n,i,f){const o=[["Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ð²Ð°ÑˆÐ¸Ñ… Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐµÐº,","Time for your habits,"],["Ð¿Ð¾Ñ€Ð° Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ð²Ð°ÑˆÑƒ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÑƒ,","Time to complete your habit,"],["Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ðµ Ð¾ Ð²Ð°ÑˆÐ¸Ñ… Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ°Ñ…,","Reminder about your habits,"],["Ð²Ñ€ÐµÐ¼Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ¸,","Time to check your habits,"],["Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ ÐµÐ¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾Ð³Ð¾ Ñ€Ð¸Ñ‚ÑƒÐ°Ð»Ð°,","Time for your daily ritual,"],["Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ ÑÐ°Ð¼Ð¾ÑÐ¾Ð²ÐµÑ€ÑˆÐµÐ½ÑÑ‚Ð²Ð¾Ð²Ð°Ð½Ð¸Ñ,","Time for self-improvement,"],["Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ð¿Ð¾Ð»ÐµÐ·Ð½Ð¾Ð³Ð¾ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ,","Time for a beneficial action,"],["Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ð²Ð°ÑˆÐµÐ³Ð¾ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑÐ°,","Time for your progress,"],["Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ð»Ð¸Ñ‡Ð½Ð¾Ð³Ð¾ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ñ,","Time for personal growth,"],["Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ð¿Ð¾Ð»ÐµÐ·Ð½Ð¾Ð¹ Ñ€ÑƒÑ‚Ð¸Ð½Ñ‹,","Time for a beneficial routine,"],["Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð½Ð°Ð´ ÑÐ¾Ð±Ð¾Ð¹,","Time to work on yourself,"],["Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ð¿Ð¾Ð»ÐµÐ·Ð½Ð¾Ð¹ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ¸,","Time for a good habit,"],["Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ ÑÐ°Ð¼Ð¾Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹,","Time for self-discipline,"]];if(!u.notify[0].enabled){b(e===0?"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‹ ,ÑÐ½Ð°Ñ‡Ð°Ð»Ð° Ð²ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Ð¸Ñ…":"Notifications disabled, first enable them",2e3,!1);return}try{if(!u.choosenHabits||u.choosenHabits.length===0){b(e===0?"ÐÐµÑ‚ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐµÐº":"No habits chosen",2e3,!1);return}const a=u.choosenHabits.map(x=>X?.find(C=>C.id===x)).filter(Boolean);let l="â° "+j.name+" ,"+o[e][Math.floor(Math.random()*o[e].length)]+": ";const h=a.map(x=>x.name[e]).join(", ");l+=h+"$"+n,u.notify[0]={enabled:!0,cron:n},w.sendMessage("habit",l),b(e===0?"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾  Ð½Ð° "+i+":"+f:"Notification set on "+i+":"+f,2e3,!0)}catch(a){console.log(a),b(e===0?"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ":"Error sending notification",2e3,!1)}}const $=(e,n,i,f)=>{const o=[["ÐŸÐ¾Ñ€Ð° Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ,","It's time to train,"],["Ð’Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ ÑÐ¿Ð¾Ñ€Ñ‚Ð°,","Time for some exercise,"],["Ð Ð°Ð·Ð¾Ð¼Ð½Ð¸ÑÑŒ Ð½ÐµÐ¼Ð½Ð¾Ð³Ð¾,","Time to stretch,"],["Ð’Ð¿ÐµÑ€Ñ‘Ð´ Ðº Ñ€ÐµÐºÐ¾Ñ€Ð´Ð°Ð¼,","Let's break some records,"],["Ð—Ð°Ñ€ÑÐ´ÐºÐ° Ð´Ð»Ñ Ñ‚ÐµÐ»Ð°,","Energize your body,"],["Ð’Ñ€ÐµÐ¼Ñ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸,","Stay active,"],["Ð Ð°Ð·Ð¾Ð³Ñ€ÐµÐ¹ÑÑ,","Warm up,"],["Ð’Ñ€ÐµÐ¼Ñ ÑÑ‚Ð°Ñ‚ÑŒ Ð»ÑƒÑ‡ÑˆÐµ,","Time to get better,"],["ÐŸÐ¾Ð´Ð²Ð¸Ð³Ð°ÐµÐ¼ÑÑ?","Shall we move a bit?"],["Ð¤Ð¸Ð·ÐºÑƒÐ»ÑŒÑ‚-Ð¿Ñ€Ð¸Ð²ÐµÑ‚!","Exercise time!"],["Ð‘Ð¾Ð´Ñ€Ð¾ÑÑ‚ÑŒ Ð´ÑƒÑ…Ð°!","Boost your energy!"],["Ð’Ñ€ÐµÐ¼Ñ Ñ€Ð°Ð·Ð¼ÑÑ‚ÑŒÑÑ!","Time to stretch!"],["ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð¿ÐµÑ€ÐµÑ€Ñ‹Ð²!","Active break time!"],["Ð’Ð¿ÐµÑ€Ñ‘Ð´ Ðº Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑŽ!","Onward to health!"],["Ð Ð°Ð·Ð¾Ð¼Ð½Ð¸ ÑˆÐµÑŽ Ð¸ ÑÐ¿Ð¸Ð½Ñƒ!","Stretch your neck and back!"],["Ð’Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ð·Ð°Ñ€ÑÐ´ÐºÐ¸!","Time for some exercise!"],["ÐŸÐ¾Ð´ÐºÐ°Ñ‡Ð°Ð¹ÑÑ!","Pump it up!"],["Ð’Ñ€ÐµÐ¼Ñ Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ!","Time to move!"],["Ð Ð°Ð·Ð¾Ð³Ñ€ÐµÐ¹ Ð¼Ñ‹ÑˆÑ†Ñ‹!","Warm up those muscles!"],["Ð’Ñ€ÐµÐ¼Ñ Ð¿Ð¾Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ!","Time for a workout!"]];if(!u.notify[1].enabled){b(e===0?"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‹,ÑÐ½Ð°Ñ‡Ð°Ð»Ð° Ð²ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Ð¸Ñ…":"Notifications disabled, first enable them",2e3,!1);return}try{const a=j.name;let l="ðŸ‹ï¸â° "+o[e][Math.floor(Math.random()*o[e].length)]+" "+a+" !";l+="$"+n,u.notify[1]={enabled:!0,cron:n},w.sendMessage("training",l),b(e===0?"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾  Ð½Ð° "+i+":"+f:"Notification set on "+i+":"+f,2e3,!0)}catch(a){console.log(a),b(e===0?"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ":"Error sending notification",2e3,!1)}},ie=(e,n,i,f,o,a)=>{e.startsWith("H")&&(u.notify[0].enabled=n,j?.id&&(n?E(i,f,o,a):(w.sendMessage("habitoff",j.id),b(i===0?"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾":"Notification disabled",2e3,!0)))),e.startsWith("T")&&(u.notify[1].enabled=n,j?.id&&(n?$(i,f,o,a):(w.sendMessage("trainingoff",j.id),b(i===0?"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾":"Notification disabled",2e3,!0))))};function se(e,n){u.prefs[2]==0&&e!==null&&(e.paused?(e.volume=.5,e.play()):e.currentTime=0),u.prefs[3]==0&&navigator.vibrate(n)}export{re as default};
