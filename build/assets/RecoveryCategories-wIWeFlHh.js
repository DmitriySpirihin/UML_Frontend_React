import{A as p,aY as $e,r as n,t as De,l as Pe,f as Ae,j as e,C as t,aU as We,aV as He,bn as me,bo as ke,bp as Ye,bq as Ve,br as W,bs as qe,R as nt,bt as ot,bu as rt,bv as it}from"./index-BQ6JiPKx.js";import{G as lt,a as at}from"./index-JbYzF9UN.js";import{f as Ge,g as Oe}from"./index-DcPM4npm.js";import{B as ct}from"./BreathAudio-DM3VNitE.js";const Ne=o=>new Date(o).toISOString().split("T")[0],_e=async(o,l)=>{const r=Ne(o);p.meditationLog[r]||(p.meditationLog[r]=[]),p.meditationLog[r].push({startTime:o,endTime:l}),await $e()},Je=async(o,l,r)=>{const a=Ne(o);p.breathingLog[a]||(p.breathingLog[a]=[]),p.breathingLog[a].push({startTime:o,endTime:l,maxHold:r}),await $e()},dt=async(o,l,r)=>{const a=Ne(o);p.hardeningLog[a]||(p.hardeningLog[a]=[]),p.hardeningLog[a].push({startTime:o,endTime:l,timeInColdWater:r}),await $e()},Ee=[{level:["–î–ª—è –Ω–æ–≤–∏—á–∫–æ–≤","For beginners"],protocols:[{name:["–ö–≤–∞–¥—Ä–∞—Ç–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ","Box Breathing"],aim:["–§–æ–∫—É—Å–∏—Ä–æ–≤–∫–∞, —Å–Ω—è—Ç–∏–µ —Å—Ç—Ä–µ—Å—Å–∞","Focus, stress relief"],instructions:["–ú–µ–¥–ª–µ–Ω–Ω–æ –≤–¥–æ—Ö–Ω–∏—Ç–µ –Ω–∞ —Å—á—ë—Ç, –∑–∞–¥–µ—Ä–∂–∏—Ç–µ –¥—ã—Ö–∞–Ω–∏–µ, –≤—ã–¥–æ—Ö–Ω–∏—Ç–µ –Ω–∞ —Å—á—ë—Ç, —Å–Ω–æ–≤–∞ –∑–∞–¥–µ—Ä–∂–∏—Ç–µ –¥—ã—Ö–∞–Ω–∏–µ. –ü–æ–≤—Ç–æ—Ä—è–π—Ç–µ —Ü–∏–∫–ª.","Inhale slowly for a count, hold your breath, exhale for a count, then hold again. Repeat the cycle."],levels:[{cycles:6,strategy:"4-4-4-4",steps:[{in:4e3},{hold:4e3},{out:4e3},{hold:4e3}]},{cycles:8,strategy:"5-5-5-5",steps:[{in:5e3},{hold:5e3},{out:5e3},{hold:5e3}]},{cycles:10,strategy:"6-6-6-6",steps:[{in:6e3},{hold:6e3},{out:6e3},{hold:6e3}]}]},{name:["4‚Äì7‚Äì8 –¥–ª—è —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏—è","4‚Äì7‚Äì8 Relax"],aim:["–£—Å–ø–æ–∫–æ–µ–Ω–∏–µ, —Å–æ–Ω","Calm, sleep"],instructions:["–í–¥–æ—Ö–Ω–∏—Ç–µ —á–µ—Ä–µ–∑ –Ω–æ—Å –Ω–∞ 4 —Å—á—ë—Ç–∞, –∑–∞–¥–µ—Ä–∂–∏—Ç–µ –¥—ã—Ö–∞–Ω–∏–µ –Ω–∞ 7 —Å—á—ë—Ç–æ–≤, –∑–∞—Ç–µ–º –º–µ–¥–ª–µ–Ω–Ω–æ –≤—ã–¥–æ—Ö–Ω–∏—Ç–µ —á–µ—Ä–µ–∑ —Ä–æ—Ç –Ω–∞ 8 —Å—á—ë—Ç–æ–≤. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ.","Inhale through your nose for a count of 4, hold your breath for 7 counts, then exhale slowly through your mouth for 8 counts. Repeat."],levels:[{cycles:8,strategy:"4-7-8",steps:[{in:4e3},{hold:7e3},{out:8e3}]},{cycles:10,strategy:"5-8-9",steps:[{in:5e3},{hold:8e3},{out:9e3}]}]},{name:["–£–¥–ª–∏–Ω—ë–Ω–Ω—ã–π –≤—ã–¥–æ—Ö 1:2","Extended Exhale 1:2"],aim:["–°–Ω—è—Ç–∏–µ —Ç—Ä–µ–≤–æ–≥–∏","Anxiety relief"],instructions:["–í–¥–æ—Ö–Ω–∏—Ç–µ —Å–ø–æ–∫–æ–π–Ω–æ, –∑–∞—Ç–µ–º –≤—ã–¥—ã—Ö–∞–π—Ç–µ –≤ –¥–≤–∞ —Ä–∞–∑–∞ –¥–æ–ª—å—à–µ, —á–µ–º –≤–¥—ã—Ö–∞–ª–∏. –ù–∞–ø—Ä–∏–º–µ—Ä: –≤–¥–æ—Ö ‚Äî 3 —Å, –≤—ã–¥–æ—Ö ‚Äî 6 —Å.","Inhale gently, then exhale for twice as long as your inhale. For example: inhale for 3 seconds, exhale for 6 seconds."],levels:[{cycles:8,strategy:"3-6 (1:2)",steps:[{in:3e3},{out:6e3}]},{cycles:10,strategy:"4-8 (1:2)",steps:[{in:4e3},{out:8e3}]}]},{name:["–î–∏–∞—Ñ—Ä–∞–≥–º–∞–ª—å–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ","Diaphragmatic Breathing"],aim:["–ë–∞–∑–æ–≤—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –¥—ã—Ö–∞–Ω–∏—è","Basic breath control"],instructions:["–î—ã—à–∏—Ç–µ –≥–ª—É–±–æ–∫–æ —á–µ—Ä–µ–∑ –Ω–æ—Å, –Ω–∞–¥—É–≤–∞—è –∂–∏–≤–æ—Ç –ø—Ä–∏ –≤–¥–æ—Ö–µ –∏ –æ–ø—É—Å–∫–∞—è –µ–≥–æ –ø—Ä–∏ –≤—ã–¥–æ—Ö–µ. –°–ª–µ–¥–∏—Ç–µ, —á—Ç–æ–±—ã –≥—Ä—É–¥—å –ø–æ—á—Ç–∏ –Ω–µ –¥–≤–∏–≥–∞–ª–∞—Å—å.","Breathe deeply through your nose, expanding your belly on the inhale and gently drawing it in on the exhale. Keep your chest still."],levels:[{cycles:10,strategy:"4-6",steps:[{in:4e3},{out:6e3}]},{cycles:12,strategy:"5-7",steps:[{in:5e3},{out:7e3}]}]}]},{level:["–î–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π","For amateurs"],protocols:[{name:["–†–µ–∑–æ–Ω–∞–Ω—Å–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ","Resonant Breathing"],aim:["HRV, —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Å—Ç—Ä–µ—Å—Å—É","HRV, stress resilience"],instructions:["–î—ã—à–∏—Ç–µ —Ä–æ–≤–Ω–æ –∏ —Å–ø–æ–∫–æ–π–Ω–æ, –≤–¥—ã—Ö–∞—è –∏ –≤—ã–¥—ã—Ö–∞—è –Ω–∞ 6 —Å–µ–∫—É–Ω–¥. –≠—Ç–æ —É—Ä–∞–≤–Ω–æ–≤–µ—à–∏–≤–∞–µ—Ç —Å–µ—Ä–¥–µ—á–Ω—ã–π —Ä–∏—Ç–º –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –ø–∞—Ä–∞—Å–∏–º–ø–∞—Ç–∏—á–µ—Å–∫—É—é –Ω–µ—Ä–≤–Ω—É—é —Å–∏—Å—Ç–µ–º—É.","Breathe evenly and calmly, inhaling and exhaling for 6 seconds each. This balances heart rate variability and activates the parasympathetic nervous system."],levels:[{cycles:10,strategy:"6-6",steps:[{in:6e3},{out:6e3}]},{cycles:12,strategy:"5.5-5.5",steps:[{in:5500},{out:5500}]},{cycles:15,strategy:"7-7",steps:[{in:7e3},{out:7e3}]}]},{name:["–ß–µ—Ä–µ–¥—É—é—â–µ–µ—Å—è –¥—ã—Ö–∞–Ω–∏–µ","Alternate Nostril Breathing"],aim:["–ë–∞–ª–∞–Ω—Å, –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è","Balance, focus"],instructions:["–ó–∞–∫—Ä–æ–π—Ç–µ –ø—Ä–∞–≤—É—é –Ω–æ–∑–¥—Ä—é, –≤–¥–æ—Ö–Ω–∏—Ç–µ —á–µ—Ä–µ–∑ –ª–µ–≤—É—é. –ó–∞—Ç–µ–º –∑–∞–∫—Ä–æ–π—Ç–µ –ª–µ–≤—É—é, –≤—ã–¥–æ—Ö–Ω–∏—Ç–µ —á–µ—Ä–µ–∑ –ø—Ä–∞–≤—É—é. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ, —á–µ—Ä–µ–¥—É—è –Ω–æ–∑–¥—Ä–∏.","Close your right nostril, inhale through the left. Then close the left nostril and exhale through the right. Alternate sides with each breath."],levels:[{cycles:8,strategy:"4-2-4 / 4-2-4",steps:[{in:4e3},{hold:2e3},{out:4e3},{in:4e3},{hold:2e3},{out:4e3}]},{cycles:10,strategy:"5-3-5 / 5-3-5",steps:[{in:5e3},{hold:3e3},{out:5e3},{in:5e3},{hold:3e3},{out:5e3}]}]},{name:["–§–∏–∑–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –≤–∑–¥–æ—Ö","Physiological Sigh"],aim:["–ë—ã—Å—Ç—Ä–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ —Å—Ç—Ä–µ—Å—Å–∞","Fast stress reduction"],instructions:["–°–¥–µ–ª–∞–π—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–π –≤–¥–æ—Ö —á–µ—Ä–µ–∑ –Ω–æ—Å, —Å—Ä–∞–∑—É –¥–æ–±–∞–≤—å—Ç–µ –µ—â—ë –æ–¥–∏–Ω –Ω–µ–±–æ–ª—å—à–æ–π –≤–¥–æ—Ö, –∑–∞—Ç–µ–º –º–µ–¥–ª–µ–Ω–Ω–æ –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–¥–æ—Ö–Ω–∏—Ç–µ —á–µ—Ä–µ–∑ —Ä–æ—Ç.","Take a short inhale through your nose, immediately follow with a second small inhale, then exhale slowly and fully through your mouth."],levels:[{cycles:3,strategy:"2+1-5",steps:[{in:2e3},{in:1e3},{out:5e3},{rest:2e4}]},{cycles:5,strategy:"2.5+1-6",steps:[{in:2500},{in:1e3},{out:6e3},{rest:2e4}]}]},{name:["–≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–æ–µ –¥—ã—Ö–∞–Ω–∏–µ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π","Energizing Breathing with Hold"],aim:["–≠–Ω–µ—Ä–≥–∏—è, —Å—Ç—Ä–µ—Å—Å–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å","Energy, stress resilience"],instructions:["–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–µ—Ä–∏—é –±—ã—Å—Ç—Ä—ã—Ö –≤–¥–æ—Ö–æ–≤ –∏ –≤—ã–¥–æ—Ö–æ–≤, –∑–∞—Ç–µ–º —Å–¥–µ–ª–∞–π—Ç–µ –¥–ª–∏–Ω–Ω—É—é –∑–∞–¥–µ—Ä–∂–∫—É –¥—ã—Ö–∞–Ω–∏—è –ø–æ—Å–ª–µ –≤—ã–¥–æ—Ö–∞. –ó–∞–≤–µ—Ä—à–∏—Ç–µ –≥–ª—É–±–æ–∫–∏–º –≤–¥–æ—Ö–æ–º –∏ –∑–∞–º–µ–¥–ª–µ–Ω–Ω—ã–º –≤—ã–¥–æ—Ö–æ–º.","Perform a series of rapid inhales and exhales, then hold your breath after a full exhale. Finish with a deep inhale and slow exhale."],levels:[{cycles:2,strategy:"15√ó(1.5-1.5) + 60s",steps:[...Array(15).fill(null).flatMap(()=>[{in:1500},{out:1500}]),{hold:6e4},{in:3e3},{hold:15e3},{out:3e3},{rest:3e4}]},{cycles:3,strategy:"20√ó(1.2-1.2) + 90s",steps:[...Array(20).fill(null).flatMap(()=>[{in:1200},{out:1200}]),{hold:9e4},{in:3e3},{hold:25e3},{out:3e3},{rest:45e3}]},{cycles:3,strategy:"25√ó(1.1-1.1) + 120s",steps:[...Array(25).fill(null).flatMap(()=>[{in:1100},{out:1100}]),{hold:12e4},{in:3e3},{hold:4e4},{out:3e3},{rest:6e4}]},{cycles:3,strategy:"30√ó(1.0-1.0) + 180s",steps:[...Array(30).fill(null).flatMap(()=>[{in:1e3},{out:1e3}]),{hold:18e4},{in:3e3},{hold:5e4},{out:3e3},{rest:6e4}]}]}]},{level:["–°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å","Intermediate"],protocols:[{name:["–¢—Ä–µ—É–≥–æ–ª—å–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ","Triangle Breathing"],aim:["–ë–∞–ª–∞–Ω—Å, –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è","Balance, focus"],instructions:["–í–¥–æ—Ö–Ω–∏—Ç–µ, –∑–∞–¥–µ—Ä–∂–∏—Ç–µ –¥—ã—Ö–∞–Ω–∏–µ, –∑–∞—Ç–µ–º –≤—ã–¥–æ—Ö–Ω–∏—Ç–µ ‚Äî –≤—Å–µ —Ç—Ä–∏ —Ñ–∞–∑—ã –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Ä–∞–≤–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫.","Inhale, hold your breath, then exhale ‚Äî all three phases of equal duration. Visualize an equilateral triangle."],levels:[{cycles:5,strategy:"6-6-6",steps:[{in:6e3},{hold:6e3},{out:6e3}]},{cycles:6,strategy:"7-7-7",steps:[{in:7e3},{hold:7e3},{out:7e3}]}]},{name:["–£–¥–ª–∏–Ω—ë–Ω–Ω—ã–π –≤—ã–¥–æ—Ö 2:1","2-to-1 Breathing"],aim:["–ì–ª—É–±–æ–∫–æ–µ —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ","Deep relaxation"],instructions:["–í–¥–æ—Ö–Ω–∏—Ç–µ –Ω–∞ –∫–æ—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è, –∑–∞—Ç–µ–º –≤—ã–¥—ã—Ö–∞–π—Ç–µ –≤—Ç—Ä–æ–µ –¥–æ–ª—å—à–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 3 —Å–µ–∫ –≤–¥–æ—Ö, 9 —Å–µ–∫ –≤—ã–¥–æ—Ö). –≠—Ç–æ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ.","Inhale for a short duration, then exhale for triple the time (e.g., 3 seconds in, 9 seconds out). This strongly triggers relaxation."],levels:[{cycles:8,strategy:"3-9 (1:3)",steps:[{in:3e3},{out:9e3}]},{cycles:10,strategy:"4-12 (1:3)",steps:[{in:4e3},{out:12e3}]}]},{name:["–ü—É–ª—å—Å–∏—Ä—É—é—â–µ–µ –¥—ã—Ö–∞–Ω–∏–µ","Pulsed Breathing"],aim:["–†–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ, –∫–æ–Ω—Ç—Ä–æ–ª—å –¥—ã—Ö–∞–Ω–∏—è","Relaxation, breath control"],instructions:["–°–¥–µ–ª–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ—Ä–æ—Ç–∫–∏—Ö –≤—ã–¥–æ—Ö–æ–≤ –Ω–∞ –æ–¥–∏–Ω –≤–¥–æ—Ö, –∑–∞—Ç–µ–º –∑–∞–¥–µ—Ä–∂–∏—Ç–µ –¥—ã—Ö–∞–Ω–∏–µ. –ù–∞–ø—Ä–∏–º–µ—Ä: –≤–¥–æ—Ö –Ω–∞ 3 —Å–µ–∫, —Ç—Ä–∏ –∫–æ—Ä–æ—Ç–∫–∏—Ö –≤—ã–¥–æ—Ö–∞ –ø–æ 1.5 —Å–µ–∫.","Take one long inhale, then break the exhale into several short pulses (e.g., 3 pulses of 1.5 sec each), followed by a brief hold."],levels:[{cycles:5,strategy:"5√ó(3-1.5) + 5s",steps:[...Array(5).fill(null).flatMap(()=>[{in:3e3},{out:1500}]),{hold:5e3}]},{cycles:6,strategy:"6√ó(2.5-1.25) + 6s",steps:[...Array(6).fill(null).flatMap(()=>[{in:2500},{out:1250}]),{hold:6e3}]}]}]},{level:["–î–ª—è –æ–ø—ã—Ç–Ω—ã—Ö","For advanced"],protocols:[{name:["–î–≤—É—Ö—Ñ–∞–∑–Ω—ã–π –≤–¥–æ—Ö —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π","Two-Stage Inhale + Hold"],aim:["–ö–æ–Ω—Ç—Ä–æ–ª—å –∏ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å","Control and endurance"],instructions:["–°–¥–µ–ª–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π –≤–¥–æ—Ö –¥–æ –ø–æ–ª–æ–≤–∏–Ω—ã –ª—ë–≥–∫–∏—Ö, –∑–∞—Ç–µ–º –≤—Ç–æ—Ä–æ–π ‚Äî –¥–æ –ø–æ–ª–Ω–æ–≥–æ –æ–±—ä—ë–º–∞. –ó–∞–¥–µ—Ä–∂–∏—Ç–µ, –≤—ã–¥–æ—Ö–Ω–∏—Ç–µ, –∏ —Å–¥–µ–ª–∞–π—Ç–µ –∫–æ—Ä–æ—Ç–∫—É—é –ø–∞—É–∑—É.","Inhale halfway, then top off your lungs with a second inhale. Hold, exhale fully, then pause briefly before the next cycle."],levels:[{cycles:5,strategy:"2.5+2.5-6-6-2",steps:[{in:2500},{in:2500},{hold:6e3},{out:6e3},{hold:2e3}]},{cycles:6,strategy:"3+3-8-8-3",steps:[{in:3e3},{in:3e3},{hold:8e3},{out:8e3},{hold:3e3}]}]},{name:["CO‚ÇÇ —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç—å","CO‚ÇÇ Tolerance"],aim:["–¢–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç—å –∫ CO‚ÇÇ","CO‚ÇÇ tolerance"],instructions:["–°–¥–µ–ª–∞–π—Ç–µ –æ–±—ã—á–Ω—ã–π –≤–¥–æ—Ö, –∑–∞—Ç–µ–º –∑–∞–¥–µ—Ä–∂–∏—Ç–µ –¥—ã—Ö–∞–Ω–∏–µ –∫–∞–∫ –º–æ–∂–Ω–æ –¥–æ–ª—å—à–µ –ø–æ—Å–ª–µ –≤—ã–¥–æ—Ö–∞. –≠—Ç–æ —Ç—Ä–µ–Ω–∏—Ä—É–µ—Ç —Ç–µ—Ä–ø–∏–º–æ—Å—Ç—å –∫ —É–≥–ª–µ–∫–∏—Å–ª–æ–º—É –≥–∞–∑—É.","Take a normal inhale, then hold your breath for an extended period after a full exhale. This trains CO‚ÇÇ tolerance and breath-hold capacity."],levels:[{cycles:3,strategy:"3-30-5-10",steps:[{in:3e3},{hold:3e4},{out:5e3},{hold:1e4},{rest:45e3}]},{cycles:3,strategy:"3-45-6-15",steps:[{in:3e3},{hold:45e3},{out:6e3},{hold:15e3},{rest:6e4}]},{cycles:2,strategy:"3-60-7-20",steps:[{in:3e3},{hold:6e4},{out:7e3},{hold:2e4},{rest:9e4}]}]},{name:["–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ —Ä–µ–∑–æ–Ω–∞–Ω—Å–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ","Advanced Resonant Breathing"],aim:["HRV, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ","HRV, recovery"],instructions:["–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –º–µ–¥–ª–µ–Ω–Ω—ã–π, —Ä–æ–≤–Ω—ã–π —Ä–∏—Ç–º –¥—ã—Ö–∞–Ω–∏—è (5.5‚Äì6 —Å–µ–∫ –Ω–∞ –≤–¥–æ—Ö –∏ –≤—ã–¥–æ—Ö) –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.","Maintain a slow, steady breathing rhythm (5.5‚Äì6 seconds in, 5.5‚Äì6 seconds out) for an extended period to enhance deep recovery and HRV."],levels:[{cycles:15,strategy:"5.5-5.5",steps:[{in:5500},{out:5500}]},{cycles:18,strategy:"6-6",steps:[{in:6e3},{out:6e3}]}]}]}],ut=[{level:["–î–ª—è –Ω–æ–≤–∏—á–∫–æ–≤","For beginners"],protocols:[{name:["–û—Å–æ–∑–Ω–∞–Ω–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ","Mindful Breathing"],aim:["–ë–∞–∑–æ–≤–∞—è –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å, —É—Å–ø–æ–∫–æ–µ–Ω–∏–µ","Basic mindfulness, calming"],instructions:["–°—è–¥—å—Ç–µ —É–¥–æ–±–Ω–æ, –Ω–∞–ø—Ä–∞–≤—å—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –¥—ã—Ö–∞–Ω–∏–µ. –ó–∞–º–µ—á–∞–π—Ç–µ –≤–¥–æ—Ö –∏ –≤—ã–¥–æ—Ö –∏ –º—è–≥–∫–æ –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–∏ –æ—Ç–≤–ª–µ—á–µ–Ω–∏–∏.","Sit comfortably and focus on your breath. Notice each inhale and exhale, gently returning attention when it wanders."],levels:[{strategy:"–ö–æ—Ä–æ—Ç–∫–∞—è —Å–µ—Å—Å–∏—è –¥–ª—è —Å—Ç–∞—Ä—Ç–∞",cycles:1,steps:[{meditateSeconds:300,restSeconds:0}]},{strategy:"–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å–µ—Å—Å–∏—è",cycles:1,steps:[{meditateSeconds:600,restSeconds:0}]},{strategy:"2 –∫–æ—Ä–æ—Ç–∫–∏—Ö –ø–æ–¥—Ö–æ–¥–∞",cycles:2,steps:[{meditateSeconds:300,restSeconds:60}]}]},{name:["–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–ª–∞","Body Scan"],aim:["–†–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ, –∫–æ–Ω—Ç–∞–∫—Ç —Å —Ç–µ–ª–æ–º","Relaxation, body awareness"],instructions:["–ú–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–æ–≤–æ–¥–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ–º –ø–æ —Ç–µ–ª—É –æ—Ç —Å—Ç–æ–ø –¥–æ –≥–æ–ª–æ–≤—ã, –∑–∞–º–µ—á–∞—è –æ—â—É—â–µ–Ω–∏—è –±–µ–∑ –æ—Ü–µ–Ω–∫–∏.","Slowly move your attention through the body from feet to head, noticing sensations without judging."],levels:[{strategy:"–ö—Ä–∞—Ç–∫–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ",cycles:1,steps:[{meditateSeconds:300,restSeconds:0}]},{strategy:"–ë–æ–ª–µ–µ –≥–ª—É–±–æ–∫–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ",cycles:1,steps:[{meditateSeconds:900,restSeconds:0}]}]}]},{level:["–î–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π","For amateurs"],protocols:[{name:["–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –Ω–∞ –æ–±—ä–µ–∫—Ç–µ","Focused Attention"],aim:["–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –≤–Ω–∏–º–∞–Ω–∏—è","Focus, attention training"],instructions:["–£–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –æ–¥–Ω–æ–º –æ–±—ä–µ–∫—Ç–µ (–¥—ã—Ö–∞–Ω–∏–µ, –∑–≤—É–∫, –ø–ª–∞–º—è), –º—è–≥–∫–æ –≤–æ–∑–≤—Ä–∞—â–∞—è—Å—å –ø—Ä–∏ –æ—Ç–≤–ª–µ—á–µ–Ω–∏–∏.","Keep your attention on a single object (breath, sound, flame), gently returning when distracted."],levels:[{strategy:"1 –±–ª–æ–∫ —Å—Ä–µ–¥–Ω–µ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏",cycles:1,steps:[{meditateSeconds:900,restSeconds:0}]},{strategy:"2 –±–ª–æ–∫–∞ —Å –∫–æ—Ä–æ—Ç–∫–∏–º –æ—Ç–¥—ã—Ö–æ–º",cycles:2,steps:[{meditateSeconds:600,restSeconds:60}]}]},{name:["–ü—Ä–∞–∫—Ç–∏–∫–∞ –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏","Gratitude Meditation"],aim:["–ü–æ–∑–∏—Ç–∏–≤–Ω—ã–π –Ω–∞—Å—Ç—Ä–æ–π, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ","Positive mindset, mood"],instructions:["–í—Å–ø–æ–º–∏–Ω–∞–π—Ç–µ 3‚Äì5 –≤–µ—â–µ–π, –∑–∞ –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –±–ª–∞–≥–æ–¥–∞—Ä–Ω—ã, —Å—Ç–∞—Ä–∞—è—Å—å –ø—Ä–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —ç—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.","Recall 3‚Äì5 things you feel grateful for and try to fully feel the gratitude."],levels:[{strategy:"–ö–æ—Ä–æ—Ç–∫–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞",cycles:1,steps:[{meditateSeconds:300,restSeconds:0}]},{strategy:"–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞",cycles:1,steps:[{meditateSeconds:600,restSeconds:0}]}]}]},{level:["–°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å","Intermediate"],protocols:[{name:["–ü–æ–¥—Å—á—ë—Ç –¥—ã—Ö–∞–Ω–∏–π","Breath Counting"],aim:["–£—Å—Ç–æ–π—á–∏–≤–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ","Stable attention"],instructions:["–°—á–∏—Ç–∞–π—Ç–µ –≤—ã–¥–æ—Ö–∏ –æ—Ç 1 –¥–æ 10, –∑–∞—Ç–µ–º –Ω–∞—á–∏–Ω–∞–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞. –ü—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å—á—ë—Ç–∞ –ø—Ä–æ—Å—Ç–æ –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ 1.","Count exhales from 1 to 10 and then start again. If you lose count, just return to 1."],levels:[{strategy:"–û–¥–∏–Ω –¥–ª–∏–Ω–Ω—ã–π –±–ª–æ–∫",cycles:1,steps:[{meditateSeconds:1200,restSeconds:0}]},{strategy:"–î–≤–∞ –±–ª–æ–∫–∞ —Å –ø–∞—É–∑–æ–π",cycles:2,steps:[{meditateSeconds:600,restSeconds:120}]}]},{name:["–û—Ç–∫—Ä—ã—Ç–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ","Open Monitoring"],aim:["–®–∏—Ä–æ–∫–∞—è –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å","Open awareness"],instructions:["–ù–∞–±–ª—é–¥–∞–π—Ç–µ –º—ã—Å–ª–∏, –∑–≤—É–∫–∏ –∏ –æ—â—É—â–µ–Ω–∏—è, –Ω–µ —Ü–µ–ø–ª—è—è—Å—å –∏ –Ω–µ –æ—Ü–µ–Ω–∏–≤–∞—è.","Observe thoughts, sounds, and sensations without clinging or judging."],levels:[{strategy:"–°—Ä–µ–¥–Ω—è—è —Å–µ—Å—Å–∏—è",cycles:1,steps:[{meditateSeconds:900,restSeconds:0}]},{strategy:"–î–ª–∏–Ω–Ω–∞—è —Å–µ—Å—Å–∏—è",cycles:1,steps:[{meditateSeconds:1500,restSeconds:0}]}]}]},{level:["–î–ª—è –æ–ø—ã—Ç–Ω—ã—Ö","For advanced"],protocols:[{name:["–ì–ª—É–±–æ–∫–∞—è –æ–¥–Ω–æ—Ç–æ—á–µ—á–Ω–∞—è –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è","Deep Single‚ÄëPoint Focus"],aim:["–ì–ª—É–±–æ–∫–æ–µ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω–∏–µ","Deep concentration"],instructions:["–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ —É—Å—Ç–æ–π—á–∏–≤—ã–π —Ñ–æ–∫—É—Å –Ω–∞ –æ–¥–Ω–æ–º –æ–±—ä–µ–∫—Ç–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è.","Maintain a steady focus on a single object for an extended period."],levels:[{strategy:"–û–¥–∏–Ω –¥–ª–∏–Ω–Ω—ã–π —Å–µ—Ç",cycles:1,steps:[{meditateSeconds:1800,restSeconds:0}]},{strategy:"2 –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã—Ö —Å–µ—Ç–∞",cycles:2,steps:[{meditateSeconds:900,restSeconds:180}]}]},{name:["–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞","Alternating Practices"],aim:["–ì–ª—É–±–æ–∫–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —É–º–∞","Deep mental training"],instructions:["–ß–µ—Ä–µ–¥—É–π—Ç–µ —Ñ–æ–∫—É—Å –Ω–∞ –¥—ã—Ö–∞–Ω–∏–∏, –æ—Ç–∫—Ä—ã—Ç–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –∏ –¥–æ–±—Ä–æ–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π —Å–µ—Å—Å–∏–∏.","Alternate breath focus, open monitoring, and loving‚Äëkindness within a single session."],levels:[{strategy:"3 –±–ª–æ–∫–∞ –ø–æ 10 –º–∏–Ω—É—Ç",cycles:3,steps:[{meditateSeconds:600,restSeconds:60}]},{strategy:"3 –±–ª–æ–∫–∞ –ø–æ 15 –º–∏–Ω—É—Ç",cycles:3,steps:[{meditateSeconds:900,restSeconds:90}]}]}]}],ht=[{level:["–î–ª—è –Ω–æ–≤–∏—á–∫–æ–≤","For beginners"],protocols:[{name:["–ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–π –¥—É—à —Å —Ö–æ–ª–æ–¥–Ω—ã–º —Ñ–∏–Ω–∞–ª–æ–º","Shower Finish Cold"],aim:["–ú—è–≥–∫–æ–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å —Ö–æ–ª–æ–¥–æ–º","Gentle introduction to cold"],instructions:["–ü—Ä–∏–º–∏—Ç–µ —Ç—ë–ø–ª—ã–π –¥—É—à, –∑–∞—Ç–µ–º –∑–∞–≤–µ—Ä—à–∏—Ç–µ –ø–æ–¥ —Ö–æ–ª–æ–¥–Ω–æ–π –≤–æ–¥–æ–π, —Å–æ—Ö—Ä–∞–Ω—è—è —Å–ø–æ–∫–æ–π–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ.","Take a warm shower, then finish under cold water while keeping your breathing calm."],levels:[{strategy:"–°—Ç–∞—Ä—Ç: –∫–æ—Ä–æ—Ç–∫–∏–π —Ö–æ–ª–æ–¥–Ω—ã–π —Ñ–∏–Ω–∞–ª",cycles:1,steps:[{hotSeconds:180,coldSeconds:30,restSeconds:0}]},{strategy:"–£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ö–æ–ª–æ–¥–Ω–æ–π —Ñ–∞–∑—ã",cycles:1,steps:[{hotSeconds:180,coldSeconds:60,restSeconds:0}]},{strategy:"–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —Ñ–∏–Ω–∞–ª",cycles:1,steps:[{hotSeconds:180,coldSeconds:120,restSeconds:0}]}]},{name:["–ß–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ —Ç—ë–ø–ª–æ–π –∏ —Ö–æ–ª–æ–¥–Ω–æ–π –≤–æ–¥—ã","Warm‚ÄìCold Alternating Shower"],aim:["–°–æ—Å—É–¥–∏—Å—Ç—ã–π —Ç—Ä–µ–Ω–∏–Ω–≥, –±–æ–¥—Ä–æ—Å—Ç—å","Vascular training, alertness"],instructions:["–ß–µ—Ä–µ–¥—É–π—Ç–µ —Ç—ë–ø–ª—É—é –∏ —Ö–æ–ª–æ–¥–Ω—É—é –≤–æ–¥—É –∫–æ—Ä–æ—Ç–∫–∏–º–∏ –æ—Ç—Ä–µ–∑–∫–∞–º–∏, –≤—Å–µ–≥–¥–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–π—Ç–µ —Ö–æ–ª–æ–¥–Ω–æ–π.","Alternate warm and cold water in short intervals, always ending on cold."],levels:[{strategy:"2 —Ü–∏–∫–ª–∞ –ø–æ 30 —Å",cycles:2,steps:[{hotSeconds:30,coldSeconds:30,restSeconds:0}]},{strategy:"3 —Ü–∏–∫–ª–∞ –ø–æ 45‚Äì60 —Å",cycles:3,steps:[{hotSeconds:45,coldSeconds:45,restSeconds:0}]},{strategy:"4 —Ü–∏–∫–ª–∞, —Ñ–∏–Ω–∞–ª –¥–æ–ª—å—à–µ —Ö–æ–ª–æ–¥",cycles:4,steps:[{hotSeconds:45,coldSeconds:45,restSeconds:0}]}]}]},{level:["–î–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π","For amateurs"],protocols:[{name:["–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ö–æ–ª–æ–¥–Ω—ã–π –¥—É—à","Full Cold Shower"],aim:["–°—Ç—Ä–µ—Å—Å–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å, —ç–Ω–µ—Ä–≥–∏—è","Stress resilience, energy"],instructions:["–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ —Ö–æ–ª–æ–¥–Ω—É—é –≤–æ–¥—É, –Ω–∞—á–∏–Ω–∞—è —Å –∫–æ–Ω–µ—á–Ω–æ—Å—Ç–µ–π –∏ –ø–µ—Ä–µ—Ö–æ–¥—è –∫ –∫–æ—Ä–ø—É—Å—É, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—è –¥—ã—Ö–∞–Ω–∏–µ.","Use only cold water, starting with limbs and then torso while controlling your breath."],levels:[{strategy:"–ö–æ—Ä–æ—Ç–∫–∏–π —Ö–æ–ª–æ–¥–Ω—ã–π –¥—É—à",cycles:1,steps:[{hotSeconds:0,coldSeconds:60,restSeconds:0}]},{strategy:"–£–º–µ—Ä–µ–Ω–Ω—ã–π —Ö–æ–ª–æ–¥–Ω—ã–π –¥—É—à",cycles:1,steps:[{hotSeconds:0,coldSeconds:120,restSeconds:0}]},{strategy:"–î–ª–∏–Ω–Ω—ã–π —Ö–æ–ª–æ–¥–Ω—ã–π –¥—É—à",cycles:1,steps:[{hotSeconds:0,coldSeconds:300,restSeconds:0}]}]},{name:["–•–æ–ª–æ–¥–Ω—ã–π –¥—É—à –ø–æ—Å–ª–µ —Ä–∞–∑–º–∏–Ω–∫–∏","Post‚ÄëWarmup Cold Shower"],aim:["–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ, –ø—Å–∏—Ö–∏—á–µ—Å–∫–∞—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å","Recovery, mental resilience"],instructions:["–ü–æ—Å–ª–µ –ª—ë–≥–∫–æ–π —Ä–∞–∑–º–∏–Ω–∫–∏ –∏–ª–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ø—Ä–∏–º–∏—Ç–µ —Ö–æ–ª–æ–¥–Ω—ã–π –¥—É—à, –∏–∑–±–µ–≥–∞—è –∑–∞–¥–µ—Ä–∂–∫–∏ –¥—ã—Ö–∞–Ω–∏—è.","After a light warm‚Äëup or workout, take a cold shower while avoiding breath‚Äëholding."],levels:[{strategy:"–ö–æ—Ä–æ—Ç–∫–∏–π –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏",cycles:1,steps:[{hotSeconds:0,coldSeconds:90,restSeconds:0}]},{strategy:"–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π",cycles:1,steps:[{hotSeconds:0,coldSeconds:180,restSeconds:0}]},{strategy:"–£–¥–ª–∏–Ω—ë–Ω–Ω—ã–π",cycles:1,steps:[{hotSeconds:0,coldSeconds:300,restSeconds:0}]}]}]},{level:["–°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å","Intermediate"],protocols:[{name:["–ü–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ –ø—Ä–æ—Ö–ª–∞–¥–Ω—É—é –≤–∞–Ω–Ω—É","Cool Bath Immersion"],aim:["–ì–ª—É–±–∂–µe –∑–∞–∫–∞–ª–∏–≤–∞–Ω–∏–µ, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ","Deeper hardening, recovery"],instructions:["–ü–æ–≥—Ä—É–∑–∏—Ç–µ —Ç–µ–ª–æ –¥–æ –ø–æ—è—Å–∞ –∏–ª–∏ –≥—Ä—É–¥–∏ –≤ –ø—Ä–æ—Ö–ª–∞–¥–Ω—É—é –≤–æ–¥—É. –û—Å—Ç–∞–≤–∞–π—Ç–µ—Å—å –Ω–∞ —É—Ä–æ–≤–Ω–µ, –≥–¥–µ –º–æ–∂–µ—Ç–µ —Å–ø–æ–∫–æ–π–Ω–æ –¥—ã—à–∞—Ç—å.","Immerse your body up to the waist or chest in cool water, staying at an intensity where you can breathe calmly."],levels:[{strategy:"–ö–æ—Ä–æ—Ç–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ",cycles:1,steps:[{hotSeconds:0,coldSeconds:60,restSeconds:120}]},{strategy:"2 –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è",cycles:2,steps:[{hotSeconds:0,coldSeconds:90,restSeconds:180}]},{strategy:"–î–ª–∏–Ω–Ω–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ",cycles:1,steps:[{hotSeconds:0,coldSeconds:300,restSeconds:300}]}]},{name:["–¢—ë–ø–ª—ã–π –¥—É—à ‚Üí –ø—Ä–æ—Ö–ª–∞–¥–Ω–∞—è –≤–∞–Ω–Ω–∞","Warm‚ÄëThen‚ÄëCool Bath"],aim:["–ö–æ–º—Ñ–æ—Ä—Ç–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è, —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ","Comfortable adaptation, relaxation"],instructions:["–°–Ω–∞—á–∞–ª–∞ —Å–æ–≥—Ä–µ–π—Ç–µ—Å—å –ø–æ–¥ —Ç—ë–ø–ª—ã–º –¥—É—à–µ–º, –∑–∞—Ç–µ–º –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø—Ä–æ—Ö–ª–∞–¥–Ω—É—é –≤–∞–Ω–Ω—É –∏ –∑–∞–≤–µ—Ä—à–∏—Ç–µ —Å–µ—Å—Å–∏—é –º—è–≥–∫–∏–º —Å–æ–≥—Ä–µ–≤–∞–Ω–∏–µ–º.","First warm up under a warm shower, then move into a cool bath and finish with gentle rewarming."],levels:[{strategy:"–ö–æ—Ä–æ—Ç–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥",cycles:1,steps:[{hotSeconds:180,coldSeconds:60,restSeconds:180}]},{strategy:"–£–º–µ—Ä–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥",cycles:1,steps:[{hotSeconds:180,coldSeconds:180,restSeconds:240}]},{strategy:"–£–≥–ª—É–±–ª—ë–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥",cycles:1,steps:[{hotSeconds:180,coldSeconds:300,restSeconds:300}]}]}]},{level:["–î–ª—è –æ–ø—ã—Ç–Ω—ã—Ö","For advanced"],protocols:[{name:["–•–æ–ª–æ–¥–Ω—ã–π –ø–ª–∞–Ω–¥–∂ / –±–æ—á–∫–∞","Cold Plunge / Tub"],aim:["–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è, —Å–∏–ª–∞ –≤–æ–ª–∏","Max adaptation, willpower"],instructions:["–ü–æ–≥—Ä—É–∂–∞–π—Ç–µ—Å—å –≤ –æ—á–µ–Ω—å —Ö–æ–ª–æ–¥–Ω—É—é –≤–æ–¥—É –¥–æ –≥—Ä—É–¥–∏ –∏–ª–∏ —à–µ–∏. –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Å–ø–æ–∫–æ–π–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ –∏ –≤—ã—Ö–æ–¥–∏—Ç–µ –¥–æ —Å–∏–ª—å–Ω–æ–≥–æ –æ–Ω–µ–º–µ–Ω–∏—è.","Immerse yourself in very cold water up to chest or neck. Keep breathing calmly and exit before intense numbness."],levels:[{strategy:"–°—Ç–∞—Ä—Ç–æ–≤—ã–π –ø–ª–∞–Ω–¥–∂",cycles:1,steps:[{hotSeconds:0,coldSeconds:30,restSeconds:180}]},{strategy:"–£–º–µ—Ä–µ–Ω–Ω—ã–π –ø–ª–∞–Ω–¥–∂",cycles:1,steps:[{hotSeconds:0,coldSeconds:60,restSeconds:240}]},{strategy:"–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø–ª–∞–Ω–¥–∂",cycles:1,steps:[{hotSeconds:0,coldSeconds:180,restSeconds:300}]}]},{name:["–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –∫–æ—Ä–æ—Ç–∫–∏–µ –ø–ª–∞–Ω–¥–∂–∏","Repeated Short Plunges"],aim:["–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –Ω–µ—Ä–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã","Nervous system training"],instructions:["–î–µ–ª–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ—Ä–æ—Ç–∫–∏—Ö –∑–∞—Ö–æ–¥–æ–≤ –≤ —Ö–æ–ª–æ–¥–Ω—É—é –≤–æ–¥—É —Å –ø–æ–ª–Ω—ã–º —Å–æ–≥—Ä–µ–≤–∞–Ω–∏–µ–º –º–µ–∂–¥—É —Ü–∏–∫–ª–∞–º–∏.","Do several short immersions in cold water with full rewarming between cycles."],levels:[{strategy:"2 –∫–æ—Ä–æ—Ç–∫–∏—Ö –∑–∞—Ö–æ–¥–∞",cycles:2,steps:[{hotSeconds:0,coldSeconds:30,restSeconds:180}]},{strategy:"3 —É–º–µ—Ä–µ–Ω–Ω—ã—Ö –∑–∞—Ö–æ–¥–∞",cycles:3,steps:[{hotSeconds:0,coldSeconds:60,restSeconds:240}]},{strategy:"3 –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –∑–∞—Ö–æ–¥–∞",cycles:3,steps:[{hotSeconds:0,coldSeconds:120,restSeconds:300}]}]}]}],Ue=(o,l,r,a)=>{p.recoveryProtocols[o][l][r][a]=!0},Qe=5e3,xt=({show:o,setShow:l,protocol:r,protocolIndex:a,categoryIndex:u})=>{const[c,M]=n.useState({cycles:1,steps:[{in:1e3},{hold:1e3},{out:1e3},{hold:1e3}]}),[f,D]=n.useState(pt(a,u)),[s,H]=n.useState("dark"),[i,z]=n.useState(p.prefs[0]),[d,de]=n.useState(p.prefs[4]),[Y,P]=n.useState(!1),{initAudio:I,playInhale:B,playExhale:X,playHold:V,playRest:m}=ct(Y),[v,w]=n.useState(0),[U,b]=n.useState(0),[G,Z]=n.useState(!1),[L,O]=n.useState(!1),[T,g]=n.useState(!1),[ee,ue]=n.useState(0),[he,R]=n.useState(!1),[te,Ie]=n.useState(1),[F,Se]=n.useState(!1),[se,xe]=n.useState(""),le=n.useRef(1),C=n.useRef(1),ae=n.useRef(),ne=n.useRef(0),K=n.useRef(1),[q,oe]=n.useState(0),[ze,ve]=n.useState(0),_=n.useRef(0);n.useEffect(()=>{const h=De.subscribe(H),k=Pe.subscribe(ie=>{z(ie==="ru"?0:1)}),E=Ae.subscribe(ie=>{de(ie)});return()=>{h.unsubscribe(),k.unsubscribe(),E.unsubscribe()}},[]),n.useEffect(()=>{if(!T){ue(0);return}const h=Math.ceil(Qe/1e3);ue(h);const k=setInterval(()=>{ue(E=>E<=1?(clearInterval(k),we(),g(!1),0):E-1)},1e3);return()=>{clearInterval(k)}},[T,Qe]),n.useEffect(()=>{v===0?C.current=1:C.current=le.current,b(0),ne.current=0},[v]);const J=n.useMemo(()=>{const h=[];for(let k=0;k<c.cycles;k++)c.steps.forEach(E=>h.push({...E,cycle:k}));return h},[c]),S=J[v]||null,ge=h=>h?h.in!==void 0?{name:i===0?"–í–¥–æ—Ö":"Inhale",color:t.get("in",s)}:h.out!==void 0?{name:i===0?"–í—ã–¥–æ—Ö":"Exhale",color:t.get("out",s)}:h.hold!==void 0?{name:i===0?"–ó–∞–¥–µ—Ä–∂–∫–∞":"Hold",color:t.get("hold",s)}:h.rest!==void 0?{name:i===0?"–û—Ç–¥—ã—Ö":"Rest",color:t.get("rest",s)}:{name:"Rest",color:"#94a3b8"}:{name:"",color:"#94a3b8"},{name:be,color:ce}=ge(S),fe=S?S.in??S.out??S.hold??S.rest:1e3,Re=(h,k,E)=>h?h.in!==void 0?1+.3*k:h.out!==void 0?1-.3*k:h.hold!==void 0?E&&E.in!==void 0?1.3:E&&E.out!==void 0?.7:K.current:1:1,pe=J[v-1]||null,je=Re(S,U,pe);K.current=je;const x=()=>c.steps?L?`${Math.floor(v/c.steps.length)+1} / ${c.cycles}`:"0":"0 / 0",$=(fe*(1-U)/1e3).toFixed(1);n.useEffect(()=>{if(!G||!S)return;const h=k=>{ne.current||(ne.current=k);const E=k-ne.current,ie=Math.min(E/fe,1);b(ie);let ye;if(S.in!==void 0){const N=C.current;ye=N+(1.5-N)*ie}else if(S.out!==void 0){const N=C.current;ye=N+(1.1-N)*ie}else if(S.hold!==void 0){const N=C.current,st=.02*Math.sin(2*Math.PI*.6*(E/1e3));ye=N+st}else S.rest!==void 0?ye=1+.02*Math.sin(ie*2*Math.PI):ye=1.1;if(le.current=ye,Ie(ye),ie>=1){const N=v+1;if(N>=J.length){Z(!1),O(!0),Te();return}w(N)}else ae.current=requestAnimationFrame(h)};return ae.current=requestAnimationFrame(h),()=>{ae.current&&cancelAnimationFrame(ae.current)}},[v,G,fe,J.length]),n.useEffect(()=>{!G||!S||U<.01&&(S.in!==void 0?B():S.out!==void 0?X():S.hold!==void 0?V():S.rest!==void 0&&m(),p.prefs[3]==0&&Telegram.WebApp.HapticFeedback&&Telegram.WebApp.HapticFeedback.impactOccurred("medium"))},[v,G,U,Y]);const Q=()=>{w(0),b(0),Z(!1),O(!1),R(!1),ne.current=0,K.current=1,_.current=0};n.useEffect(()=>{le.current=1,C.current=1,Ie(1),Q()},[c]);const we=()=>{let h=0;for(const k of c.steps)k.hold!==void 0&&k.hold>h&&(h=k.hold);_.current=h,I(),oe(Date.now()),P(!0),O(!0),Z(!0),R(!1),oe(Date.now())},y=()=>{ve(Date.now()),Z(!1),R(!0)},A=()=>{Z(!0),R(!1)},re=()=>{Q()},Te=async()=>{Ke(),await Je(q,Date.now(),_.current),xe(ft(i)),Se(!0)},Ke=()=>{Ue(0,u,a,f)},et=async()=>{await Je(q,ze),Q()};return e.jsxs("div",{style:Xe(s,o).container,children:[!F&&!L&&!T&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",width:"90%",height:"80%"},children:[e.jsx("div",{style:{width:"100%",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"15px":"17px"},children:r.name[i]})}),e.jsxs("div",{style:{width:"100%",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:[e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"15px":"17px"},children:i===0?"–¶–µ–ª—å":"Goal"}),e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"13px":"15px"},children:r.aim[i]})]}),e.jsx("div",{style:{color:t.get("mainText",s),fontSize:d===0?"15px":"17px"},children:i===0?"–£—Ä–æ–≤–µ–Ω—å":"Level"}),e.jsxs("div",{style:{display:"flex",border:yt(u,a,f)?`2px solid ${t.get("maxValColor",s)}`:"none",flexDirection:"row",alignItems:"center",justifyContent:"space-around",width:"100%",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:[e.jsx(We,{onClick:()=>{D(h=>h-1>0?h-1:0)},style:{fontSize:"24px",color:t.get("icons",s)}}),e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"15px":"17px"},children:f+1}),e.jsx(He,{onClick:()=>{D(h=>h+1<r.levels.length?h+1:r.levels.length-1)},style:{fontSize:"24px",color:t.get("icons",s)}})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around",width:"100%",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:[e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"15px":"17px"},children:r.levels[f].strategy}),e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"13px":"15px"},children:(i===0?"—Ü–∏–∫–ª–æ–≤: ":"cycles: ")+r.levels[f].cycles})]}),e.jsxs("div",{style:{width:"100%",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:[e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"15px":"17px"},children:i===0?"–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è":"Instruction"}),e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"13px":"15px"},children:r.instructions[i]})]}),e.jsx("div",{style:{color:t.get("hold",s),fontSize:d===0?"10px":"12px"},children:gt(i)})]}),!F&&T&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",width:"90%",height:"80%"},children:[e.jsx("div",{style:{fontSize:"10rem",marginTop:"180px",color:t.get("icons",s),fontWeight:"bold",lineHeight:1},children:ee}),e.jsx("div",{style:{fontSize:"2rem",marginBottom:"80px",textAlign:"center"},children:e.jsx("div",{style:{color:t.get("icons",s),marginBottom:"80px"},children:i===0?"–ü—Ä–∏–≥–æ—Ç–æ–≤—å—Ç–µ—Å—å!":"Get ready!"})})]}),!F&&L&&e.jsxs("svg",{width:"100%",height:"80%",viewBox:"0 0 800 800",style:{maxWidth:"800px",maxHeight:"800px"},children:[e.jsx("circle",{cx:"400",cy:"400",r:"380",fill:"none",stroke:t.get("border",s),strokeWidth:"2"}),e.jsx("circle",{cx:"400",cy:"400",r:"200",fill:ce,opacity:"0.25",transform:`scale(${te})`,transformOrigin:"400 400",style:{filter:"blur(12px)"}}),e.jsx("circle",{cx:"400",cy:"400",r:"200",fill:"none",stroke:ce,strokeWidth:"4",opacity:"0.9",transform:`scale(${te})`,transformOrigin:"400 400"}),e.jsxs("text",{x:"420",y:"410",textAnchor:"middle",fill:ce,fontFamily:"sans-serif",children:[e.jsx("tspan",{fontSize:"150",fontWeight:"bold",children:Math.floor($)}),e.jsxs("tspan",{fontSize:"50",fontWeight:"bold",dx:"8",children:[" ",".",Math.floor(($-Math.floor($))*10)]})]}),e.jsx("text",{x:"400",y:"530",textAnchor:"middle",fill:ce,fontSize:"40",fontFamily:"sans-serif",opacity:"0.95",children:be}),e.jsx("text",{x:"400",y:"900",textAnchor:"middle",fill:t.get("icons",s),fontSize:"38",fontFamily:"sans-serif",children:(i===0?"–¶–∏–∫–ª ":"Cycle ")+x()})]}),F&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",width:"90%",height:"80%"},children:[e.jsxs("div",{children:[e.jsx("img",{src:"images/Congrat.png",style:{width:"150px",height:"150px"}}),e.jsx("div",{style:{color:t.get("pause",s),fontSize:"45px",fontWeight:"bold",fontFamily:"fantasy"},children:i===0?"–û—Ç–ª–∏—á–Ω–æ!":"Great job!"})]}),e.jsx("div",{style:{width:"100%",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"15px":"17px"},children:se})})]}),e.jsxs("div",{style:Xe(s,o).controls,children:[!L&&!T&&e.jsxs("div",{children:[e.jsx(me,{onClick:()=>l(!1),style:{fontSize:"60px",color:t.get("close",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–í—ã–π—Ç–∏":"Exit"})]}),F&&e.jsx(me,{onClick:()=>{Ke(),Se(!1),l(!1)},style:{fontSize:"60px",color:t.get("close",s)}}),!F&&Y?e.jsxs("div",{children:[e.jsx(Ge,{onClick:()=>P(!1),style:{fontSize:"60px",color:t.get("icons",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–í—ã–∫–ª –∑–≤—É–∫":"Mute"})]}):e.jsxs("div",{children:[e.jsx(Oe,{onClick:()=>P(!0),style:{fontSize:"60px",color:t.get("icons",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–í–∫–ª –∑–≤—É–∫":"Unmute"})]}),!F&&!L&&!T&&e.jsxs("div",{children:[e.jsx(ke,{onClick:()=>{g(!0),M(r.levels[f])},style:{fontSize:"60px",color:t.get("play",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–ù–∞—á–∞—Ç—å":"Start"})]}),!F&&he&&e.jsxs("div",{children:[e.jsx(me,{onClick:re,style:{fontSize:"60px",color:t.get("close",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–í—ã–π—Ç–∏":"Exit"})]}),G&&!F&&e.jsxs("div",{children:[e.jsx(Ye,{onClick:y,style:{fontSize:"60px",color:t.get("pause",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–ü–∞—É–∑–∞":"Pause"})]}),!F&&!T&&he&&e.jsxs("div",{children:[e.jsx(ke,{onClick:A,style:{fontSize:"60px",color:t.get("play",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å":"Resume"})]}),!F&&!T&&he&&e.jsxs("div",{children:[e.jsx(Ve,{onClick:et,style:{fontSize:"60px",color:t.get("reload",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å & –≤—ã–π—Ç–∏":"Save & exit"})]})]})]})},Xe=(o,l)=>({container:{backgroundColor:t.get("background",o),display:"flex",position:"fixed",flexDirection:"column",alignItems:"center",height:"86vh",transform:l?"translateY(0)":"translateY(100%)",bottom:"0",transition:"transform 0.2s ease-in-out",width:"100vw",fontFamily:"Segoe UI",borderTop:`2px solid ${t.get("border",o)}`,borderTopLeftRadius:"12px",borderTopRightRadius:"12px",zIndex:2e3},controls:{display:"flex",marginTop:"30px",gap:"50px"}}),gt=o=>o===0?"–í–Ω–∏–º–∞–Ω–∏–µ: —ç—Ç–∏ –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–±—â–µ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏—è –∏ –Ω–µ –¥–∞—é—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞. –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π —Å–µ—Ä–¥—Ü–∞, –ª—ë–≥–∫–∏—Ö, –Ω–∞—Ä—É—à–µ–Ω–∏–π –¥–∞–≤–ª–µ–Ω–∏—è, –ø—Ä–∏ –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏ –∏–ª–∏ —É—Ö—É–¥—à–µ–Ω–∏–∏ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏—è –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –≤—Ä–∞—á—É.":"Notice: These breathing exercises are intended only to support general well-being and do not guarantee any specific results. If you have heart or lung conditions, blood pressure issues, are pregnant, or feel unwell, stop the exercises and, if needed, seek advice from a healthcare professional.",ft=o=>{const l={ru:["–û—Ç–ª–∏—á–Ω–∞—è –¥—ã—Ö–∞—Ç–µ–ª—å–Ω–∞—è —Å–µ—Å—Å–∏—è! üå¨Ô∏è","–¢—ã –≥–ª—É–±–æ–∫–æ —Ä–∞—Å—Å–ª–∞–±–∏–ª—Å—è ‚Äî –º–æ–ª–æ–¥–µ—Ü! üòå","–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–±–æ—Ç—É –æ —Å–≤–æ—ë–º –¥—ã—Ö–∞–Ω–∏–∏. üíô","–¢—ã –¥–∞–ª —Å–µ–±–µ –º–æ–º–µ–Ω—Ç –ø–æ–∫–æ—è ‚Äî —ç—Ç–æ –≤–∞–∂–Ω–æ. üïäÔ∏è","–¢–≤–æ—ë –¥—ã—Ö–∞–Ω–∏–µ —Å—Ç–∞–ª–æ —Å–ø–æ–∫–æ–π–Ω–µ–µ. –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ! üåø","–¢—ã –≤—ã–ø–æ–ª–Ω–∏–ª —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ —Å –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å—é. –†–µ—Å–ø–µ–∫—Ç! üôè","–ì–ª—É–±–æ–∫–æ–µ –¥—ã—Ö–∞–Ω–∏–µ ‚Äî —à–∞–≥ –∫ –≥–∞—Ä–º–æ–Ω–∏–∏. –¢—ã —Å–ø—Ä–∞–≤–∏–ª—Å—è! üå∏","–ü–æ–∑–¥—Ä–∞–≤–ª—è—é: —Ç—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∞–ª —Å–≤–æ—ë –∑–¥–æ—Ä–æ–≤—å–µ –¥—ã—Ö–∞–Ω–∏–µ–º. üí™üå±","–¢—ã –≤–µ—Ä–Ω—É–ª—Å—è –≤ –º–æ–º–µ–Ω—Ç ‚Äî —á–µ—Ä–µ–∑ –¥—ã—Ö–∞–Ω–∏–µ. –û—Ç–ª–∏—á–Ω–æ! ‚è≥‚û°Ô∏è‚ú®","–¢–≤–æ—è –Ω–µ—Ä–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –±–ª–∞–≥–æ–¥–∞—Ä–∏—Ç —Ç–µ–±—è. üß†‚ù§Ô∏è"],en:["Great breathing session! üå¨Ô∏è","You‚Äôve deeply relaxed ‚Äî well done! üòå","Thank you for caring for your breath. üíô","You gave yourself a moment of calm ‚Äî that matters. üïäÔ∏è","Your breath has calmed. Beautiful work! üåø","You practiced with mindfulness. Respect! üôè","Deep breathing is a step toward balance. You did it! üå∏","Congratulations: you just supported your health with breath. üí™üå±","You returned to the present ‚Äî through your breath. Perfect! ‚è≥‚û°Ô∏è‚ú®","Your nervous system thanks you. üß†‚ù§Ô∏è"]},r=o===0?l.ru:l.en,a=Math.floor(Math.random()*r.length);return r[a]},pt=(o,l)=>{let r=-1;const a=p.recoveryProtocols[W.value][o][l];for(let u=0;u<a.length;u++)if(!a[u]){r=u;break}return r>-1?r:a.length-1},yt=(o,l,r)=>p.recoveryProtocols[W.value][o][l][r],mt="images/Meditation_Light.png",St="images/Meditation_Dark.png",vt="Audio/Ambient.wav",Ce=new Audio(vt);Ce.loop=!0;Ce.volume=.3;const bt=3e3,jt=({show:o,setShow:l,protocol:r,protocolIndex:a,categoryIndex:u})=>{const[c,M]=n.useState({cycles:1,steps:[{meditateSeconds:300,restSeconds:0}]}),[f,D]=n.useState(Ct(a,u)),[s,H]=n.useState("dark"),[i,z]=n.useState(p.prefs[0]),[d,de]=n.useState(p.prefs[4]),[Y,P]=n.useState(!1),[I,B]=n.useState(0),[X,V]=n.useState(0),[m,v]=n.useState(!1),[w,U]=n.useState(!1),[b,G]=n.useState(!1),[Z,L]=n.useState(0),[O,T]=n.useState(!1),[g,ee]=n.useState(!1),[ue,he]=n.useState(""),R=n.useRef(0),[te,Ie]=n.useState(0),F=n.useRef(0),[Se,se]=n.useState(0);n.useRef(null);const[xe,le]=n.useState(null),[C,ae]=n.useState(0),[ne,K]=n.useState(0);n.useEffect(()=>{const y=De.subscribe(H),A=Pe.subscribe(Te=>z(Te==="ru"?0:1)),re=Ae.subscribe(de);return()=>{y.unsubscribe(),A.unsubscribe(),re.unsubscribe()}},[]),n.useEffect(()=>{if(!b){L(0);return}const y=Math.ceil(bt/1e3);L(y);const A=setInterval(()=>{L(re=>re<=1?(clearInterval(A),Fe(),G(!1),0):re-1)},1e3);return()=>clearInterval(A)},[b]);const q=n.useMemo(()=>{if(!c.steps?.length)return[];const y=[];for(let A=0;A<c.cycles;A++)y.push({type:"meditate",duration:c.steps[0].meditateSeconds*1e3,cycle:A}),c.steps[0].restSeconds>0&&A<c.cycles-1&&y.push({type:"rest",duration:c.steps[0].restSeconds*1e3,cycle:A});return y},[c]),oe=q[I]||null,ze=y=>y?y.type==="meditate"?{name:i===0?"–ú–µ–¥–∏—Ç–∞—Ü–∏—è":"Meditate",color:t.get("meditate",s)}:y.type==="rest"?{name:i===0?"–û—Ç–¥—ã—Ö":"Rest",color:t.get("rest",s)}:{name:"Rest",color:"#94a3b8"}:{name:"",color:"#94a3b8"},{name:ve,color:_}=ze(oe),J=oe?.duration||1e3,S=()=>{if(!c.steps)return"0 / 0";const y=c.steps[0].restSeconds>0?2:1;return w?`${Math.floor(I/y)+1} / ${c.cycles}`:"0"},ge=(oe?.duration||0)-Se,be=Math.floor(ge/1e3),ce=Math.floor(be/60),fe=be%60,Re=`${ce.toString().padStart(2,"0")}:${fe.toString().padStart(2,"0")}`;n.useEffect(()=>{I>=0&&se(0)},[I]),n.useEffect(()=>{if(!m||!oe)return;const y=setInterval(()=>{se(A=>{const re=A+100;if(re>=J){const Te=I+1;return Te>=q.length?(v(!1),$()):B(Te),J}return re})},100);return()=>clearInterval(y)},[m,I,J,q.length]),n.useEffect(()=>{Y&&m?Ce.paused&&Ce.play():Ce.pause()},[m,Y]);const pe=()=>{B(0),V(0),v(!1),U(!1),T(!1),ee(!1),se(0)};n.useEffect(()=>{pe()},[c]);const Fe=()=>{P(!0),ae(Date.now()),U(!0),v(!0),T(!1)},je=()=>{if(Ce.pause(),K(Date.now()),v(!1),T(!0),R.current){const y=performance.now()-R.current;F.current+=y,R.current=0}},x=()=>{v(!0),T(!1),R.current=performance.now()},j=()=>{pe()},$=async()=>{Q(),await _e(C,Date.now()),he(Tt(i)),ee(!0)},Q=()=>{Ue(1,u,a,f)},we=async()=>{await _e(C,ne),pe()};return e.jsxs("div",{style:Be(s,o).container,children:[e.jsx("div",{style:Be(s,o,w).decorLayer}),!g&&!w&&!b&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",width:"90%",height:"80%"},children:[e.jsx("div",{style:{width:"100%",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"15px":"17px"},children:r.name[i]})}),e.jsxs("div",{style:{width:"100%",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:[e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"15px":"17px"},children:i===0?"–¶–µ–ª—å":"Goal"}),e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"13px":"15px"},children:r.aim[i]})]}),e.jsx("div",{style:{color:t.get("mainText",s),fontSize:d===0?"15px":"17px"},children:i===0?"–£—Ä–æ–≤–µ–Ω—å":"Level"}),e.jsxs("div",{style:{display:"flex",border:kt(u,a,f)?`2px solid ${t.get("maxValColor",s)}`:"none",flexDirection:"row",alignItems:"center",justifyContent:"space-around",width:"100%",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:[e.jsx(We,{onClick:()=>D(y=>y>0?y-1:0),style:{fontSize:"24px",color:t.get("icons",s)}}),e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"15px":"17px"},children:f+1}),e.jsx(He,{onClick:()=>D(y=>y<r.levels.length-1?y+1:r.levels.length-1),style:{fontSize:"24px",color:t.get("icons",s)}})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around",width:"100%",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:[e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"15px":"17px"},children:r.levels[f].strategy}),e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"13px":"15px"},children:(i===0?"—Ü–∏–∫–ª–æ–≤: ":"cycles: ")+r.levels[f].cycles})]}),e.jsxs("div",{style:{width:"100%",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:[e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"15px":"17px"},children:i===0?"–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è":"Instruction"}),e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"13px":"15px"},children:r.instructions[i]})]}),e.jsx("div",{style:{color:t.get("hold",s),fontSize:d===0?"10px":"12px"},children:wt(i)})]}),!g&&b&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",width:"90%",height:"80%"},children:[e.jsx("div",{style:{fontSize:"10rem",marginTop:"180px",color:t.get("icons",s),fontWeight:"bold",lineHeight:1},children:Z}),e.jsx("div",{style:{fontSize:"2rem",marginBottom:"80px",textAlign:"center"},children:e.jsx("div",{style:{color:t.get("icons",s),marginBottom:"80px"},children:i===0?"–ü—Ä–∏–≥–æ—Ç–æ–≤—å—Ç–µ—Å—å!":"Get ready!"})})]}),!g&&w&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"80%",width:"100%"},children:[e.jsxs("svg",{width:"400",height:"400",viewBox:"0 0 100 100",children:[e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:_,opacity:"0.1"}),e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:t.get("border",s),strokeWidth:"1",opacity:"0.4"}),e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:_,strokeWidth:"3",strokeDasharray:`${2*Math.PI*45}`,strokeDashoffset:`${2*Math.PI*45*(1-te)}`,strokeLinecap:"round"}),e.jsx("foreignObject",{x:"15",y:"15",width:"70",height:"40",children:e.jsx("div",{xmlns:"http://www.w3.org/1999/xhtml",style:{width:"70px",height:"40px",fontSize:"3.5px",fontWeight:"500",fontFamily:"sans-serif",color:t.get("mainText",s),display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",overflow:"hidden",lineHeight:1.3},children:r?.instructions?.[i]||""})}),e.jsx("text",{x:"50",y:"60",textAnchor:"middle",fill:_,fontFamily:"sans-serif",fontSize:"16",fontWeight:"bold",children:Re}),e.jsx("text",{x:"50",y:"80",textAnchor:"middle",fill:_,fontFamily:"sans-serif",fontSize:"5",children:ve})]}),e.jsx("div",{style:{marginTop:"20px",fontSize:d===0?"14px":"16px",color:t.get("icons",s),fontFamily:"sans-serif"},children:(i===0?"–¶–∏–∫–ª ":"Cycle ")+S()})]}),g&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",width:"90%",height:"80%"},children:[e.jsxs("div",{children:[e.jsx("img",{src:"images/Congrat.png",style:{width:"150px",height:"150px"}}),e.jsx("div",{style:{color:t.get("pause",s),fontSize:"45px",fontWeight:"bold",fontFamily:"fantasy"},children:i===0?"–û—Ç–ª–∏—á–Ω–æ!":"Great job!"})]}),e.jsx("div",{style:{width:"100%",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"15px":"17px"},children:ue})})]}),e.jsxs("div",{style:Be(s,o).controls,children:[(!w||g)&&e.jsxs("div",{children:[e.jsx(me,{onClick:()=>{g&&ee(!1),l(!1)},style:{fontSize:"60px",color:t.get("close",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–í—ã–π—Ç–∏":"Exit"})]}),w&&!g&&(Y?e.jsxs("div",{children:[e.jsx(Ge,{onClick:()=>P(!1),style:{fontSize:"60px",color:t.get("icons",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–í—ã–∫–ª –∑–≤—É–∫":"Mute"})]}):e.jsxs("div",{children:[e.jsx(Oe,{onClick:()=>P(!0),style:{fontSize:"60px",color:t.get("icons",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–í–∫–ª –∑–≤—É–∫":"Unmute"})]})),!w&&!b&&!g&&e.jsxs("div",{children:[e.jsx(ke,{onClick:()=>{M(r.levels[f]),G(!0)},style:{fontSize:"60px",color:t.get("play",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–ù–∞—á–∞—Ç—å":"Start"})]}),!g&&O&&e.jsxs("div",{children:[e.jsx(me,{onClick:j,style:{fontSize:"60px",color:t.get("close",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–í—ã–π—Ç–∏":"Exit"})]}),m&&!g&&e.jsxs("div",{children:[e.jsx(Ye,{onClick:je,style:{fontSize:"60px",color:t.get("pause",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–ü–∞—É–∑–∞":"Pause"})]}),!g&&!b&&O&&e.jsxs("div",{children:[e.jsx(ke,{onClick:x,style:{fontSize:"60px",color:t.get("play",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å":"Resume"})]}),!g&&!b&&O&&e.jsxs("div",{children:[e.jsx(Ve,{onClick:we,style:{fontSize:"60px",color:t.get("reload",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å & –≤—ã–π—Ç–∏":"Save & exit"})]})]})]})},Be=(o,l,r)=>({container:{backgroundColor:t.get("background",o),position:"fixed",height:"86vh",transform:l?"translateY(0)":"translateY(100%)",bottom:"0",transition:"transform 0.2s ease-in-out",width:"100vw",fontFamily:"Segoe UI",borderTop:`2px solid ${t.get("border",o)}`,borderTopLeftRadius:"12px",borderTopRightRadius:"12px",zIndex:2e3,overflow:"hidden",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},decorLayer:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.25,backgroundImage:r?`url(${o===qe.SPECIALDARK||o===qe.DARK?St:mt})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",WebkitMaskImage:"radial-gradient(ellipse at center, black 40%, transparent 120%)",maskImage:"radial-gradient(ellipse at center, black 40%, transparent 120%)",pointerEvents:"none"},controls:{display:"flex",marginTop:"30px",gap:"50px"}}),wt=o=>o===0?"–í–Ω–∏–º–∞–Ω–∏–µ: –º–µ–¥–∏—Ç–∞—Ü–∏—è –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –æ–±—â–µ–≥–æ –±–ª–∞–≥–æ–ø–æ–ª—É—á–∏—è –∏ –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –º–µ–¥–∏—Ü–∏–Ω—Å–∫—É—é –ø–æ–º–æ—â—å. –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –ø—Å–∏—Ö–∏—á–µ—Å–∫–∏—Ö, –Ω–µ–≤—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∏–ª–∏ —Å–µ—Ä–¥–µ—á–Ω–æ-—Å–æ—Å—É–¥–∏—Å—Ç—ã—Ö –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π, –ø—Ä–∏ –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏ –∏–ª–∏ —É—Ö—É–¥—à–µ–Ω–∏–∏ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏—è –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç–µ –ø—Ä–∞–∫—Ç–∏–∫—É –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –≤—Ä–∞—á—É.":"Notice: Meditation is intended to support general well-being and is not a substitute for medical care. If you have mental health, neurological, or cardiovascular conditions, are pregnant, or feel unwell, please stop the practice and consult a healthcare professional if needed.",Tt=o=>{const l={ru:["–û—Ç–ª–∏—á–Ω–∞—è –º–µ–¥–∏—Ç–∞—Ü–∏—è! üßò‚Äç‚ôÇÔ∏è","–¢—ã –Ω–∞—à—ë–ª –º–æ–º–µ–Ω—Ç —Ç–∏—à–∏–Ω—ã ‚Äî —ç—Ç–æ —Ü–µ–Ω–Ω–æ. üåø","–°–ø–∞—Å–∏–±–æ, —á—Ç–æ —É–¥–µ–ª–∏–ª –≤—Ä–µ–º—è —Å–µ–±–µ –∏ —Å–≤–æ–µ–º—É —É–º—É. üíô","–¢—ã –≤–µ—Ä–Ω—É–ª—Å—è –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ ‚Äî —á–µ—Ä–µ–∑ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å. ‚ú®","–¢–≤–æ—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –ø—Ä–∏–Ω–æ—Å–∏—Ç –ø–ª–æ–¥—ã. –ü—Ä–æ–¥–æ–ª–∂–∞–π! üå∏","–¢—ã –ø–æ–∑–≤–æ–ª–∏–ª —Å–µ–±–µ –ø—Ä–æ—Å—Ç–æ –±—ã—Ç—å. –≠—Ç–æ –∏—Å–∫—É—Å—Å—Ç–≤–æ. üïäÔ∏è","–ú–∏–Ω—É—Ç–∞ –ø–æ–∫–æ—è ‚Äî —É–∂–µ –ø–æ–±–µ–¥–∞. –ú–æ–ª–æ–¥–µ—Ü! üòå","–¢—ã –¥–∞–ª —Å–≤–æ–µ–º—É —Ä–∞–∑—É–º—É –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è –æ—Ç–¥—ã—Ö–∞. –†–µ—Å–ø–µ–∫—Ç! üôè","–ö–∞–∂–¥–∞—è –º–µ–¥–∏—Ç–∞—Ü–∏—è ‚Äî —à–∞–≥ –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É –±–∞–ª–∞–Ω—Å—É. üí™üå±","–¢–≤–æ—è –Ω–µ—Ä–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –±–ª–∞–≥–æ–¥–∞—Ä–∏—Ç —Ç–µ–±—è –∑–∞ —ç—Ç—É –ø–∞—É–∑—É. üß†‚ù§Ô∏è"],en:["Wonderful meditation! üßò‚Äç‚ôÇÔ∏è","You found a moment of stillness ‚Äî that‚Äôs precious. üåø","Thank you for giving time to yourself and your mind. üíô","You returned to the present ‚Äî through awareness. ‚ú®","Your practice is bearing fruit. Keep going! üå∏","You allowed yourself to simply be. That‚Äôs an art. üïäÔ∏è","One moment of calm is already a win. Well done! üòå","You gave your mind space to rest. Respect! üôè","Every meditation is a step toward inner balance. üí™üå±","Your nervous system thanks you for this pause. üß†‚ù§Ô∏è"]},r=o===0?l.ru:l.en,a=Math.floor(Math.random()*r.length);return r[a]},Ct=(o,l)=>{let r=-1;const a=p.recoveryProtocols[W.value][o][l];for(let u=0;u<a.length;u++)if(!a[u]){r=u;break}return r>-1?r:a.length-1},kt=(o,l,r)=>p.recoveryProtocols[W.value][o][l][r],It="images/Cold.png",zt="images/Hot.png",Rt=3e3,Ft=o=>o===0?"–í–Ω–∏–º–∞–Ω–∏–µ: –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —Å —Ö–æ–ª–æ–¥–Ω–æ–π –≤–æ–¥–æ–π –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –æ–±—â–µ–≥–æ —É–∫—Ä–µ–ø–ª–µ–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–º–∞. –ù–µ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ –∏—Ö –ø—Ä–∏ —Å–µ—Ä–¥–µ—á–Ω–æ-—Å–æ—Å—É–¥–∏—Å—Ç—ã—Ö –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è—Ö, –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏, –ª–∏—Ö–æ—Ä–∞–¥–∫–µ –∏–ª–∏ —á—É–≤—Å—Ç–≤–µ –Ω–µ–¥–æ–º–æ–≥–∞–Ω–∏—è. –ü—Ä–æ–∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä—É–π—Ç–µ—Å—å —Å –≤—Ä–∞—á–æ–º –ø—Ä–∏ —Å–æ–º–Ω–µ–Ω–∏—è—Ö.":"Notice: Cold water protocols are for general resilience. Do not perform them if you have cardiovascular conditions, are pregnant, feverish, or unwell. Consult a doctor if in doubt.",Mt=o=>{const l={ru:["–û—Ç–ª–∏—á–Ω–∞—è –∑–∞–∫–∞–ª–∫–∞! ‚ùÑÔ∏è","–¢—ã —Å–ø—Ä–∞–≤–∏–ª—Å—è —Å —Ö–æ–ª–æ–¥–æ–º ‚Äî –º–æ–ª–æ–¥–µ—Ü! üí™","–•–æ–ª–æ–¥ ‚Äî —Ç–≤–æ–π —Å–æ—é–∑–Ω–∏–∫. –ü—Ä–æ–¥–æ–ª–∂–∞–π! üßä","–¢—ã —É–∫—Ä–µ–ø–∏–ª —Å–≤–æ—é –Ω–µ—Ä–≤–Ω—É—é —Å–∏—Å—Ç–µ–º—É. –†–µ—Å–ø–µ–∫—Ç! üß†","–ö–∞–∂–¥–∞—è —Å–µ–∫—É–Ω–¥–∞ —Ö–æ–ª–æ–¥–∞ ‚Äî –≤–∫–ª–∞–¥ –≤ –∑–¥–æ—Ä–æ–≤—å–µ. üíô"],en:["Great cold exposure! ‚ùÑÔ∏è","You mastered the cold ‚Äî well done! üí™","Cold is your ally. Keep going! üßä","You‚Äôve strengthened your nervous system. Respect! üß†","Every cold second builds resilience. üíô"]},r=o===0?l.ru:l.en;return r[Math.floor(Math.random()*r.length)]},Dt=({show:o,setShow:l,protocol:r,protocolIndex:a,categoryIndex:u})=>{const[c,M]=n.useState({cycles:1,steps:[{hotSeconds:180,coldSeconds:30,restSeconds:0}]}),[f,D]=n.useState(Pt(a,u)),[s,H]=n.useState("dark"),[i,z]=n.useState(p.prefs[0]),[d,de]=n.useState(p.prefs[4]),[Y,P]=n.useState(!1),[I,B]=n.useState(0),[X,V]=n.useState(0),[m,v]=n.useState(!1),[w,U]=n.useState(!1),[b,G]=n.useState(!1),[Z,L]=n.useState(0),[O,T]=n.useState(!1),[g,ee]=n.useState(!1),[ue,he]=n.useState(""),R=n.useRef(0),te=n.useRef(),[Ie,F]=n.useState(0),[Se,se]=n.useState(0),xe=n.useRef(0);n.useEffect(()=>{const x=De.subscribe(H),j=Pe.subscribe(Q=>z(Q==="ru"?0:1)),$=Ae.subscribe(de);return()=>{x.unsubscribe(),j.unsubscribe(),$.unsubscribe()}},[]),n.useEffect(()=>{if(!b){L(0);return}const x=Math.ceil(Rt/1e3);L(x);const j=setInterval(()=>{L($=>$<=1?(clearInterval(j),be(),G(!1),0):$-1)},1e3);return()=>clearInterval(j)},[b]);const le=n.useMemo(()=>{if(!c.steps?.length)return[];const x=[];for(let j=0;j<c.cycles;j++)c.steps[0].hotSeconds>0&&x.push({type:"hot",duration:c.steps[0].hotSeconds*1e3,cycle:j}),c.steps[0].coldSeconds>0&&x.push({type:"cold",duration:c.steps[0].coldSeconds*1e3,cycle:j}),c.steps[0].restSeconds>0&&j<c.cycles-1&&x.push({type:"rest",duration:c.steps[0].restSeconds*1e3,cycle:j});return x},[c]),C=le[I]||null,ae=x=>x?x.type==="hot"?{name:i===0?"–¢—ë–ø–ª–∞—è –≤–æ–¥–∞":"Warm Water",color:t.get("hot",s)}:x.type==="cold"?{name:i===0?"–•–æ–ª–æ–¥–Ω–∞—è –≤–æ–¥–∞":"Cold Water",color:t.get("cold",s)}:x.type==="rest"?{name:i===0?"–û—Ç–¥—ã—Ö / –°–æ–≥—Ä–µ–≤":"Rest / Warm-up",color:t.get("rest",s)}:{name:"",color:"#94a3b8"}:{name:"",color:"#94a3b8"},{name:ne,color:K}=ae(C),q=C?.duration||1e3,oe=()=>{if(!c.steps)return"0 / 0";const x=(c.steps[0].hotSeconds>0?1:0)+(c.steps[0].coldSeconds>0?1:0)+(c.steps[0].restSeconds>0?1:0),j=x?Math.floor(I/x)+1:1;return w?`${j} / ${c.cycles}`:"0"},ze=q*(1-X),ve=Math.floor(ze/1e3),_=Math.floor(ve/60),J=ve%60,S=`${_.toString().padStart(2,"0")}:${J.toString().padStart(2,"0")}`;n.useEffect(()=>{if(!m||!C)return;const x=j=>{R.current||(R.current=j);const $=j-R.current,Q=Math.min($/q,1);if(V(Q),Q>=1){C.type==="cold"&&(xe.current+=C.duration);const we=I+1;if(we>=le.length){v(!1),se(Date.now()),setTimeInColdWater(xe.current),pe();return}B(we),R.current=0}else te.current=requestAnimationFrame(x)};return te.current=requestAnimationFrame(x),()=>{te.current&&cancelAnimationFrame(te.current)}},[I,m,q,le.length,C]);const ge=()=>{B(0),V(0),v(!1),U(!1),T(!1),ee(!1),xe.current=0,R.current=0};n.useEffect(()=>{ge()},[c]);const be=()=>{P(!0),F(Date.now()),U(!0),v(!0),T(!1)},ce=()=>{se(Date.now()),v(!1),T(!0)},fe=()=>{v(!0),T(!1)},Re=()=>{ge()},pe=()=>{Fe(),he(Mt(i)),ee(!0)},Fe=()=>{se(Date.now()),je(),Ue(2,u,a,f)},je=async()=>{await dt(Ie,Se,xe.current),ge()};return e.jsxs("div",{style:Le(s,o).container,children:[e.jsx("div",{style:Le(s,o,w&&C.type!=="rest",C.type==="cold").decorLayer}),!g&&!w&&!b&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",width:"90%",height:"80%"},children:[e.jsx("div",{style:{width:"100%",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"15px":"17px"},children:r.name[i]})}),e.jsxs("div",{style:{width:"100%",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:[e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"15px":"17px"},children:i===0?"–¶–µ–ª—å":"Goal"}),e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"13px":"15px"},children:r.aim[i]})]}),e.jsx("div",{style:{color:t.get("mainText",s),fontSize:d===0?"15px":"17px"},children:i===0?"–£—Ä–æ–≤–µ–Ω—å":"Level"}),e.jsxs("div",{style:{display:"flex",border:At(u,a,f)?`2px solid ${t.get("maxValColor",s)}`:"none",flexDirection:"row",alignItems:"center",justifyContent:"space-around",width:"100%",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:[e.jsx(We,{onClick:()=>D(x=>x>0?x-1:0),style:{fontSize:"24px",color:t.get("icons",s)}}),e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"15px":"17px"},children:f+1}),e.jsx(He,{onClick:()=>D(x=>x<r.levels.length-1?x+1:r.levels.length-1),style:{fontSize:"24px",color:t.get("icons",s)}})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around",width:"100%",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:[e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"15px":"17px"},children:r.levels[f].strategy}),e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"13px":"15px"},children:(i===0?"—Ü–∏–∫–ª–æ–≤: ":"cycles: ")+r.levels[f].cycles})]}),e.jsxs("div",{style:{width:"100%",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:[e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"15px":"17px"},children:i===0?"–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è":"Instruction"}),e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"13px":"15px"},children:r.instructions[i]})]}),e.jsx("div",{style:{color:t.get("hold",s),fontSize:d===0?"10px":"12px"},children:Ft(i)})]}),!g&&b&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",width:"90%",height:"80%"},children:[e.jsx("div",{style:{fontSize:"10rem",marginTop:"180px",color:t.get("icons",s),fontWeight:"bold",lineHeight:1},children:Z}),e.jsx("div",{style:{fontSize:"2rem",marginBottom:"80px",textAlign:"center"},children:e.jsx("div",{style:{color:t.get("icons",s),marginBottom:"80px"},children:i===0?"–ü—Ä–∏–≥–æ—Ç–æ–≤—å—Ç–µ—Å—å!":"Get ready!"})})]}),!g&&w&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"80%",width:"100%"},children:[e.jsxs("svg",{width:"400",height:"400",viewBox:"0 0 100 100",children:[e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:K,opacity:"0.1"}),e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:t.get("border",s),strokeWidth:"1",opacity:"0.4"}),e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:K,strokeWidth:"3",strokeDasharray:`${2*Math.PI*45}`,strokeDashoffset:`${2*Math.PI*45*(1-X)}`,strokeLinecap:"round"}),e.jsx("foreignObject",{x:"15",y:"15",width:"70",height:"40",children:e.jsx("div",{xmlns:"http://www.w3.org/1999/xhtml",style:{width:"70px",height:"40px",fontSize:"3.5px",fontWeight:"500",fontFamily:"sans-serif",color:t.get("mainText",s),display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",overflow:"hidden",lineHeight:1.3},children:r?.instructions?.[i]||""})}),e.jsx("text",{x:"50",y:"60",textAnchor:"middle",fill:K,fontFamily:"sans-serif",fontSize:"16",fontWeight:"bold",children:S}),e.jsx("text",{x:"50",y:"80",textAnchor:"middle",fill:K,fontFamily:"sans-serif",fontSize:"5",children:ne})]}),e.jsx("div",{style:{marginTop:"20px",fontSize:d===0?"14px":"16px",color:t.get("icons",s),fontFamily:"sans-serif"},children:(i===0?"–¶–∏–∫–ª ":"Cycle ")+oe()})]}),g&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",width:"90%",height:"80%"},children:[e.jsxs("div",{children:[e.jsx("img",{src:"images/Congrat.png",style:{width:"150px",height:"150px"}}),e.jsx("div",{style:{color:t.get("pause",s),fontSize:"45px",fontWeight:"bold",fontFamily:"fantasy"},children:i===0?"–û—Ç–ª–∏—á–Ω–æ!":"Great job!"})]}),e.jsx("div",{style:{width:"100%",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:e.jsx("p",{style:{color:t.get("mainText",s),fontSize:d===0?"15px":"17px"},children:ue})})]}),e.jsxs("div",{style:Le(s,o).controls,children:[(!w||g)&&e.jsxs("div",{children:[e.jsx(me,{onClick:()=>{g&&ee(!1),l(!1)},style:{fontSize:"60px",color:t.get("close",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–í—ã–π—Ç–∏":"Exit"})]}),w&&!g&&(Y?e.jsxs("div",{children:[e.jsx(Ge,{onClick:()=>P(!1),style:{fontSize:"60px",color:t.get("icons",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–í—ã–∫–ª –∑–≤—É–∫":"Mute"})]}):e.jsxs("div",{children:[e.jsx(Oe,{onClick:()=>P(!0),style:{fontSize:"60px",color:t.get("icons",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–í–∫–ª –∑–≤—É–∫":"Unmute"})]})),!w&&!b&&!g&&e.jsxs("div",{children:[e.jsx(ke,{onClick:()=>{M(r.levels[f]),G(!0)},style:{fontSize:"60px",color:t.get("play",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–ù–∞—á–∞—Ç—å":"Start"})]}),!g&&O&&e.jsxs("div",{children:[e.jsx(me,{onClick:Re,style:{fontSize:"60px",color:t.get("close",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–í—ã–π—Ç–∏":"Exit"})]}),m&&!g&&e.jsxs("div",{children:[e.jsx(Ye,{onClick:ce,style:{fontSize:"60px",color:t.get("pause",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–ü–∞—É–∑–∞":"Pause"})]}),!g&&!b&&O&&e.jsxs("div",{children:[e.jsx(ke,{onClick:fe,style:{fontSize:"60px",color:t.get("play",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å":"Resume"})]}),!g&&!b&&O&&e.jsxs("div",{children:[e.jsx(Ve,{onClick:je,style:{fontSize:"60px",color:t.get("reload",s)}}),e.jsx("div",{style:{fontSize:"9px",color:t.get("subText",s)},children:i===0?"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å & –≤—ã–π—Ç–∏":"Save & exit"})]})]})]})},Le=(o,l,r,a)=>({container:{backgroundColor:t.get("background",o),position:"fixed",height:"86vh",transform:l?"translateY(0)":"translateY(100%)",bottom:"0",transition:"transform 0.2s ease-in-out",width:"100vw",fontFamily:"Segoe UI",borderTop:`2px solid ${t.get("border",o)}`,borderTopLeftRadius:"12px",borderTopRightRadius:"12px",zIndex:2e3,overflow:"hidden",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},decorLayer:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.25,backgroundImage:r?`url(${a?It:zt})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",WebkitMaskImage:"radial-gradient(ellipse at center, black 40%, transparent 120%)",maskImage:"radial-gradient(ellipse at center, black 40%, transparent 120%)",pointerEvents:"none"},controls:{display:"flex",marginTop:"30px",gap:"50px"}}),Pt=(o,l)=>{let r=-1;const a=p.recoveryProtocols[W.value][o][l];for(let u=0;u<a.length;u++)if(!a[u]){r=u;break}return r>-1?r:a.length-1},At=(o,l,r)=>p.recoveryProtocols[W.value][o][l][r],Yt=()=>{const[o,l]=nt.useState("dark"),[r,a]=n.useState(p.prefs[0]),[u,c]=n.useState(p.prefs[4]),[M,f]=n.useState(Ee[0].protocols[0]),[D,s]=n.useState(0),[H,i]=n.useState(0),[z,d]=n.useState(!1),[de,Y]=n.useState(Ee);n.useEffect(()=>{const I=De.subscribe(l),B=Pe.subscribe(m=>{a(m==="ru"?0:1)}),X=Ae.subscribe(m=>{c(m)}),V=W.subscribe(m=>{Y(m===0?Ee:m===1?ut:ht)});return()=>{I.unsubscribe(),B.unsubscribe(),X.unsubscribe(),V.unsubscribe()}},[]);let P=-1;return e.jsxs("div",{style:Me(o).container,children:[e.jsx("div",{style:Me(o).scrollView,children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyItems:"center"},children:[e.jsx("div",{style:{width:"100%",display:"grid",gridTemplateColumns:"1fr 1fr",alignItems:"center",justifyItems:"center"},children:de.map((I,B)=>{const X="difficulty"+B;return I.protocols.map((V,m)=>(P++,e.jsx(Ze,{ind:m,difficulty:B,protocol:V,setTimer:d,theme:o,color:t.get(X,o),width:"46vw",lang:r,fSize:u,onClick:()=>{f(V),s(m),i(B)}},P)))})}),e.jsx(Ze,{difficulty:4,ind:-1,setTimer:d,theme:o,color:t.get("difficulty",o),width:"96vw",lang:r,fSize:u,onClick:()=>{},protocol:void 0})]})}),W.value===0&&e.jsx(xt,{show:z,setShow:d,protocol:M,protocolIndex:D,categoryIndex:H}),W.value===1&&e.jsx(jt,{show:z,setShow:d,protocol:M,protocolIndex:D,categoryIndex:H}),W.value===2&&e.jsx(Dt,{show:z,setShow:d,protocol:M,protocolIndex:D,categoryIndex:H})]})},Me=(o,l)=>({container:{backgroundColor:t.get("background",o),display:"flex",flexDirection:"column",overflowY:"scroll",justifyItems:"center",alignItems:"center",height:"78vh",paddingTop:"5vh",width:"100vw",fontFamily:"Segoe UI"},scrollView:{height:"95%",width:"100%",overflowY:"scroll",display:"flex",flexDirection:"column"},mainText:{textAlign:"left",fontSize:l===0?"15px":"17px",color:t.get("mainText",o)},subtext:{textAlign:"center",fontSize:l===0?"12px":"14px",color:t.get("mainText",o),margin:"2px"},icon:{fontSize:"32px",color:t.get("mainText",o)},simplePanelRow:{width:"75vw",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},cardText:{textAlign:"left",marginBottom:"5px",fontSize:l===0?"14px":"16px",color:t.get("mainText",o),marginLeft:"30px"},text:{textAlign:"left",fontSize:l===0?"10px":"12px",color:t.get("subText",o),marginLeft:"30px"}});function Ze({protocol:o,difficulty:l,ind:r,width:a,setTimer:u,color:c,theme:M,lang:f,onClick:D,fSize:s}){const H=()=>{if(l===0)return e.jsx(ot,{style:z});if(l===1)return e.jsx(rt,{style:z});if(l===2)return e.jsx(lt,{style:z});if(l===3)return e.jsx(at,{style:z});if(l===4)return e.jsx(it,{style:z})},i={alignItems:"center",justifyContent:"center",display:"flex",width:a,flexDirection:"row",height:"12vh",marginTop:"15px",borderRadius:"24px",backgroundColor:c,overflow:"hidden",position:"relative",boxShadow:"3px 3px 2px rgba(0,0,0,0.3)"},z={fontSize:"86px",rotate:"-20deg",position:"absolute",right:"-10px",top:"30%",color:t.get("svgColor",M)};return e.jsxs("div",{style:i,onClick:()=>{D(),u(!0)},children:[r!==-1&&e.jsx("div",{style:{display:"flex",flexDirection:"row",width:"15%",height:"22%",backgroundColor:"rgba(50, 50, 50, 0.35)",alignItems:"center",justifyContent:"center",position:"absolute",top:"1%",left:"80%",borderRadius:"12px",fontSize:"16px",color:t.get("mainText",M)},children:Et(l,r)}),e.jsxs("div",{style:{width:"90%",height:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},children:[e.jsx("h2",{style:Me(M,s).cardText,children:o===void 0?f===0?"–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä":"Constructor":Array.isArray(o.name)?o.name[f]:o.name}),e.jsx("p",{style:Me(M,s).text,children:o===void 0?f===0?"–°–æ–∑–¥–∞–π —Å–≤–æ–π –ø—Ä–æ—Ç–æ–∫–æ–ª":"Create your own":Array.isArray(o.aim)?o.aim[f]:o.aim})]}),H()]})}const Et=(o,l)=>{if(o===4||!p.recoveryProtocols[W.value][o][l])return"";const r=p.recoveryProtocols[W.value][o][l];let a=0,u=0;for(let c=0;c<r.length;c++)a++,r[c]&&u++;return u+"/"+a};export{Yt as default};
