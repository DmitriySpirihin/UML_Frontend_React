import{A as p,a as z,U as M,R as j,t as N,l as O,j as r,C as w}from"./index-Bxhs65PH.js";/*! Grained.js 
* Author : Sarath Saleem  - https://github.com/sarathsaleem 
* MIT license: http://opensource.org/licenses/MIT 
* GitHub : https://github.com/sarathsaleem/grained 
* v0.0.1 
*/(function(t,e){function a(i,l){function u(s,x,m,v){var C="";C=x.length?x+"{"+m+"}":m,"insertRule"in s?s.insertRule(C,v):"addRule"in s&&s.addRule(x,m,v)}var o=null,f=null,S=null;if(typeof i=="string"&&(o=e.getElementById(i.split("#")[1])),!o)return void console.error("Grained: cannot find the element with id "+i);f=o.id,o.style.position!=="absolute"&&(o.style.position="relative"),o.style.overflow="hidden";var c=["","-moz-","-o-animation-","-webkit-","-ms-"],n={animate:!0,patternWidth:100,patternHeight:100,grainOpacity:.1,grainDensity:1,grainWidth:1,grainHeight:1,grainChaos:.5,grainSpeed:20};Object.keys(l).forEach(function(s){n[s]=l[s]});for(var D=function(){var s=e.createElement("canvas"),x=s.getContext("2d");s.width=n.patternWidth,s.height=n.patternHeight;for(var m=0;m<n.patternWidth;m+=n.grainDensity)for(var v=0;v<n.patternHeight;v+=n.grainDensity){var C=256*Math.random()|0;x.fillStyle="rgba("+[C,C,C,n.grainOpacity].join()+")",x.fillRect(m,v,n.grainWidth,n.grainHeight)}return s.toDataURL("image/png")},d=D(),y="",A=["0%:-10%,10%","10%:-25%,0%","20%:-30%,10%","30%:-30%,30%","40%::-20%,20%","50%:-15%,10%","60%:-20%,20%","70%:-5%,20%","80%:-25%,5%","90%:-30%,25%","100%:-10%,10%"],g=c.length;g--;){y+="@"+c[g]+"keyframes grained{";for(var R=0;R<A.length;R++){var B=A[R].split(":");y+=B[0]+"{",y+=c[g]+"transform:translate("+B[1]+");",y+="}"}y+="}"}var H=e.getElementById("grained-animation");H&&H.parentElement.removeChild(H);var h=e.createElement("style");h.type="text/css",h.id="grained-animation",h.innerHTML=y,e.body.appendChild(h);var L=e.getElementById("grained-animation-"+f);L&&L.parentElement.removeChild(L),h=e.createElement("style"),h.type="text/css",h.id="grained-animation-"+f,e.body.appendChild(h);var b="background-image: url("+d+");";if(b+='position: absolute;content: "";height: 300%;width: 300%;left: -100%;top: -100%;',g=c.length,n.animate)for(;g--;)b+=c[g]+"animation-name:grained;",b+=c[g]+"animation-iteration-count: infinite;",b+=c[g]+"animation-duration: "+n.grainChaos+"s;",b+=c[g]+"animation-timing-function: steps("+n.grainSpeed+", end);";S="#"+f+"::before",u(h.sheet,S,b)}t.grained=a})(window,document);class I{static BASE_URL="https://uml-backend-node.onrender.com/api/notifications";static async sendMessage(e,a){fetch(this.BASE_URL,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({type:e,message:a,userId:M.id,metadata:{}})}).then(i=>i.json()).then(i=>console.log("Success:",i)).catch(i=>console.error("Error:",i))}}const U=()=>{try{if(!p.choosenHabits||p.choosenHabits.length===0){console.log("No habits chosen");return}const t=p.prefs[0],e=p.choosenHabits.map(l=>z?.find(u=>u.id===l)).filter(Boolean);if(e.length===0){console.log("No valid habits found");return}let a="⏰ "+(M?.name||"")+", ";a+=t===0?e.length>1?"время для ваших привычек: ":"время для вашей привычки: ":`it's time to work on your ${e.length>1?"habits":"habit"}: `;const i=e.map(l=>l.name).join(", ");a+=i,I.sendMessage("habit",a)}catch(t){console.error("Error in habitReminder:",t)}},W=()=>{try{const t=p.prefs[0],e=M?.name||"",a=t===0?`Пора тренироваться, ${e}!`:`It's time to train, ${e}!`;I.sendMessage("training",a)}catch(t){console.error("Error in trainingReminder:",t)}},_=({onPageChange:t})=>{const[e,a]=j.useState("dark"),[i,l]=j.useState(p.prefs[0]);return j.useEffect(()=>{const u=N.subscribe(a),o=O.subscribe(f=>{l(f==="ru"?0:1)});return()=>{u.unsubscribe(),o.unsubscribe()}},[]),j.useEffect(()=>{window.grained("#grain",{animate:!0,grainSize:.05,grainDensity:.2,grainOpacity:.01,grainWidth:.9,grainHeight:.9,grainColor:"#ffffffff"})},[]),r.jsxs("div",{style:k(e).container,children:[r.jsx("div",{style:{height:"20vh"}}),r.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[r.jsx("button",{onClick:()=>U(),children:"Habit reminder"}),r.jsx("button",{onClick:()=>W(),children:"Training reminder"})]}),r.jsx("h2",{style:k(e).mainText,children:i===0?"Выберите категорию":"Choose category"}),r.jsxs("div",{style:k(e).scrollView,children:[r.jsx(E,{text:["Привычки","Habits"],decr:["Приложение использует научно обоснованные методы формирования привычек, включая теорию петли привычки (Чарльз Дахигг), принципы подкрепления (Б.Ф. Скиннер) и 21-дневное правило формирования привычек (Максвелл Мальц).","This app utilizes evidence-based habit formation techniques, including the habit loop theory (Charles Duhigg), principles of reinforcement (B.F. Skinner), and the 21-day rule of habit formation (Maxwell Maltz)."],theme:e,lang:i,onClick:()=>{t("HabitsMain"),T(null,100)}}),r.jsx(E,{text:["Тренировочная дневник","Training diary"],decr:["Отслеживайте свой тренировочный прогресс, ставьте цели и анализируйте результаты. Идеальный инструмент для системного подхода к физическому развитию.","Track your workout progress, set goals, and analyze results. The perfect tool for a systematic approach to physical development."],colorDark:"#143113ff",colorLight:"#98f9a0ff",colorSpecialDark:"#26352fff",colorSpecialLight:"#9de074ff",theme:e,lang:i,onClick:()=>{t("TrainingMain"),T(null,100)}}),r.jsx(E,{text:["Список задач","Simple task manager"],decr:["Скоро будет доступно","Coming soon"],colorDark:"#4b3f1fff",colorLight:"#ebe58eff",colorSpecialDark:"#36341cff",colorSpecialLight:"#d0e074ff",theme:e,lang:i,onClick:()=>{T(null,100)}}),r.jsx(E,{text:["Хорошие новости","Good news"],decr:["Скоро будет доступно","Coming soon"],colorDark:"#3a201bff",colorLight:"#ecae94ff",colorSpecialDark:"#4a2828ff",colorSpecialLight:"#e194c6ff",theme:e,lang:i,onClick:()=>{T(null,100)}})]})]})};function E({text:t=["Категория","Category"],decr:e=["Скоро будет доступно","Coming soon"],colorDark:a="#122636ff",colorLight:i="#9cccf1ff",colorSpecialDark:l="#1d262dff",colorSpecialLight:u="#45dff4ff",theme:o,lang:f,onClick:S}){const c=d=>d==="dark"?a:d==="specialdark"?l:d==="speciallight"?u:i,D={alignItems:"start",justifyContent:"start",height:"14vh",borderRadius:"24px",border:`2px solid ${(d=>d==="dark"?"#9099a0ff":d==="specialdark"?"#938b8bff":d==="speciallight"?"#e0b1b1ff":"#8a8e91ff")(o)}`,margin:"10px",backgroundColor:c(o),overflow:"hidden",position:"relative"};return r.jsxs("div",{id:"grain",style:D,onClick:S,children:[r.jsx("h2",{style:k(o).cardText,children:Array.isArray(t)?t[f]:t}),r.jsx("p",{style:k(o).text,children:Array.isArray(e)?e[f]:e})]})}const k=t=>({container:{backgroundColor:w.get("background",t),display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",height:"100vh",width:"100vw",fontFamily:"Segoe UI"},mainText:{textAlign:"left",marginBottom:"5px",fontSize:"14px",color:w.get("mainText",t)},cardText:{textAlign:"left",marginBottom:"5px",fontSize:"14px",color:w.get("mainText",t),marginLeft:"30px"},text:{textAlign:"left",fontSize:"10px",color:w.get("subText",t),marginLeft:"30px"},scrollView:{width:"95vw",maxHeight:"90vh",overflowY:"auto",justifyContent:"center",alignItems:"center"}});function T(t,e){p.prefs[2]==0&&t!==null&&(t.paused||(t.pause(),t.currentTime=0),t.volume=.5,t.play()),p.prefs[3]==0&&navigator.vibrate(e)}export{_ as default};
