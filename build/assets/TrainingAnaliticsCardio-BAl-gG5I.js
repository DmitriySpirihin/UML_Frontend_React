import{A as w,t as Y,l as O,f as X,aS as Z,aR as _,B as M,j as e,C as a,m as v,bB as q,bC as I,ah as J,bD as H,bs as B,d as E,bE as Q,ae as ee,bF as te,bG as ie}from"./index-BZVXE0o6.js";import{r as h,i as ae,A as ne,X as re,Y as oe,T as se,u as le}from"./recharts-k8ghPecL.js";const de=t=>{const u=Math.floor(t/3600),n=Math.floor(t%3600/60),T=Math.floor(t%60);return u>0?`${u}h ${n.toString().padStart(2,"0")}m`:`${n}m ${T.toString().padStart(2,"0")}s`},ce=(t,u)=>new Date(t).toLocaleDateString(u===0?"ru-RU":"en-US",{month:"short",day:"numeric"}),F=t=>{if(!t||t==="0:00")return 0;const[u,n]=t.split(":").map(Number);return u+n/60},pe=({active:t,payload:u,label:n,metric:T,langIndex:j,theme:m})=>{if(t&&u&&u.length){const s=u[0].payload,$=T==="pace",S=()=>{switch(T){case"distance":return j===0?"Ð”Ð¸ÑÑ‚Ð°Ð½Ñ†Ð¸Ñ":"Distance";case"speed":return j===0?"Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ":"Speed";case"pace":return j===0?"Ð¢ÐµÐ¼Ð¿":"Pace";case"elevation":return j===0?"ÐÐ°Ð±Ð¾Ñ€ Ð²Ñ‹ÑÐ¾Ñ‚Ñ‹":"Elevation";case"heartRate":return j===0?"ÐŸÑƒÐ»ÑŒÑ":"Heart Rate";default:return""}};return e.jsxs("div",{style:{backgroundColor:m==="light"?"rgba(255, 255, 255, 0.95)":"rgba(30, 30, 30, 0.95)",border:`1px solid ${a.get("border",m)}`,borderRadius:"12px",padding:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",fontSize:"14px",color:a.get("mainText",m)},children:[e.jsx("div",{style:{fontWeight:"bold",marginBottom:"6px",color:a.get("mainText",m)},children:n}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:s.stroke}}),e.jsxs("div",{children:[e.jsxs("span",{style:{color:a.get("subText",m)},children:[S(),":"]}),e.jsxs("span",{style:{fontWeight:"bold",marginLeft:"4px"},children:[$?s.originalValue:s.value.toFixed(2)," ",s.unit]})]})]}),s.elevationGain&&e.jsxs("div",{style:{marginTop:"4px",fontSize:"13px",color:a.get("subText",m)},children:[e.jsx(H,{size:12,style:{marginRight:"4px",verticalAlign:"middle"}}),j===0?`ÐÐ°Ð±Ð¾Ñ€: ${s.elevationGain} Ð¼`:`Elevation: ${s.elevationGain} m`]}),s.avgHeartRate&&e.jsxs("div",{style:{marginTop:"2px",fontSize:"13px",color:a.get("subText",m)},children:[e.jsx(B,{size:12,style:{marginRight:"4px",verticalAlign:"middle"}}),j===0?`ÐŸÑƒÐ»ÑŒÑ: ${s.avgHeartRate} ÑƒÐ´/Ð¼Ð¸Ð½`:`HR: ${s.avgHeartRate} bpm`]})]})}return null},he=()=>{const[t,u]=h.useState("dark"),[n,T]=h.useState(w.prefs[0]),[j,m]=h.useState(w.prefs[4]),[s,$]=h.useState("running"),[S,G]=h.useState("distance"),[b,P]=h.useState(!0),[V,L]=h.useState(null);h.useEffect(()=>{const i=Y.subscribe(u),r=O.subscribe(d=>T(d==="ru"?0:1)),o=X.subscribe(m),l=setTimeout(()=>P(!1),500);return()=>{clearTimeout(l),i.unsubscribe(),r.unsubscribe(),o.unsubscribe()}},[]);const f=h.useMemo(()=>({running:{icon:M,color:"#a86030",label:n===0?"Ð‘ÐµÐ³":"Running",gradient:"linear-gradient(90deg, #ff9f6b, #ee5a24)"},cycling:{icon:_,color:"#4b943d",label:n===0?"Ð’ÐµÐ»Ð¾ÑÐ¸Ð¿ÐµÐ´":"Cycling",gradient:"linear-gradient(90deg, #65cd4e, #1a9320)"},swimming:{icon:Z,color:"#3a8a9c",label:n===0?"ÐŸÐ»Ð°Ð²Ð°Ð½Ð¸Ðµ":"Swimming",gradient:"linear-gradient(90deg, #45b7d1, #1e88e5)"}}),[n]),A=h.useMemo(()=>{const i=[],r={RUNNING:"running",CYCLING:"cycling",SWIMMING:"swimming"};return w.trainingLog&&typeof w.trainingLog=="object"&&Object.entries(w.trainingLog).forEach(([o,l])=>{Array.isArray(l)&&l.forEach((d,y)=>{const C=r[d.type];C&&i.push({id:`${o}-${y}`,type:C,distance:d.distance*1e3,duration:d.duration/1e3,date:o,elevationGain:d.elevationGain||0,avgCadence:d.avgCadence||0,avgHeartRate:d.avgHeartRate||0,rpe:d.rpe||0,notes:d.notes||""})})}),i.length>0?i:[{id:"1",type:"running",distance:5200,duration:1800,date:"2026-01-15",elevationGain:42,avgHeartRate:142,rpe:7,notes:"Ð¥Ð¾Ð»Ð¼Ð¸ÑÑ‚Ñ‹Ð¹ Ð¿Ð°Ñ€Ðº, Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ 2ÐºÐ¼ Ñ‚ÑÐ¶ÐµÐ»Ð¾"},{id:"2",type:"cycling",distance:12500,duration:2400,date:"2026-01-18",elevationGain:120,avgHeartRate:135,rpe:6,notes:"Ð”Ð»Ð¸Ð½Ð½Ð°Ñ Ð¿Ð¾ÐµÐ·Ð´ÐºÐ° Ð¿Ð¾ ÑˆÐ¾ÑÑÐµ"},{id:"3",type:"running",distance:3800,duration:1320,date:"2026-01-22",elevationGain:28,avgHeartRate:148,rpe:8,notes:"Ð˜Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»ÑŒÐ½Ð°Ñ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ°"},{id:"4",type:"swimming",distance:1200,duration:1500,date:"2026-01-25",elevationGain:0,avgHeartRate:128,rpe:5,notes:"Ð¡Ð¿Ð¾ÐºÐ¾Ð¹Ð½Ð¾Ðµ Ð¿Ð»Ð°Ð²Ð°Ð½Ð¸Ðµ"},{id:"5",type:"running",distance:8500,duration:2700,date:"2026-01-28",elevationGain:65,avgHeartRate:152,rpe:9,notes:"Ð”Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð±ÐµÐ³ Ð² Ð¿Ð°Ñ€ÐºÐµ"},{id:"6",type:"cycling",distance:18200,duration:3600,date:"2026-02-01",elevationGain:210,avgHeartRate:140,rpe:7,notes:"Ð“Ð¾Ñ€Ð½Ñ‹Ð¹ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚"}]},[]),W=h.useMemo(()=>A.filter(i=>i.type===s),[A,s]),x=h.useMemo(()=>b?[]:W.map(i=>{const r=i.distance/1e3,o=i.duration/3600,l=i.duration/60,d=o>0?r/o:0;let y="0:00";if(r>.1&&l>0){const C=l/r,p=Math.floor(C),g=Math.round((C-p)*60);y=`${p}:${g.toString().padStart(2,"0")}`}return{...i,distanceKm:r.toFixed(2),speed:d.toFixed(1),pace:y,durationFormatted:de(i.duration),dateFormatted:ce(i.date,n),intensity:Math.min(100,Math.max(20,s==="running"?d*15:s==="cycling"?d*5:d*8))}}).sort((i,r)=>new Date(r.date)-new Date(i.date)),[W,n,s,b]),D=h.useMemo(()=>{if(b||x.length===0)return[];const i=f[s]?.color||"#4ECDC4";return x.map(r=>{let o,l;switch(S){case"speed":o=parseFloat(r.speed),l="km/h";break;case"pace":o=F(r.pace),l=n===0?"Ð¼Ð¸Ð½/ÐºÐ¼":"min/km";break;case"elevation":o=r.elevationGain||0,l="m";break;case"heartRate":o=r.avgHeartRate||0,l="bpm";break;default:o=parseFloat(r.distanceKm),l="km"}return{date:new Date(r.date),value:o,originalValue:r.pace||o.toFixed(2),label:r.dateFormatted,intensity:r.intensity,unit:l,stroke:i,elevationGain:r.elevationGain,avgHeartRate:r.avgHeartRate}})},[x,S,n,s,f,b]),k=({icon:i,label:r,value:o,subValue:l,color:d,isLoading:y=!1})=>e.jsx(v.div,{whileHover:{y:-3},style:{...c(t).metricCard,borderLeft:`3px solid ${d}`,backgroundColor:t==="light"?"rgba(255, 255, 255, 0.6)":"rgba(30, 30, 30, 0.6)",opacity:y?.7:1},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("div",{style:{width:36,height:36,borderRadius:"10px",backgroundColor:`${d}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(i,{size:16,color:d})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"11px",color:a.get("subText",t),marginBottom:"2px"},children:r}),e.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:a.get("mainText",t),display:"flex",alignItems:"baseline",gap:"4px"},children:y?e.jsx("div",{style:{height:"18px",width:"50px",backgroundColor:t==="light"?"#f0f0f0":"#444",borderRadius:"4px"}}):e.jsxs(e.Fragment,{children:[o,l&&e.jsx("span",{style:{fontSize:"12px",fontWeight:"normal",color:a.get("subText",t)},children:l})]})})]})]})}),K=({session:i})=>{const r=f[i.type]||f.running,o=V===i.id,l=()=>{L(o?null:i.id)};return e.jsxs(v.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},style:{...c(t).sessionCard,borderLeft:`3px solid ${r.color}`,backgroundColor:o?t==="light"?"rgba(255, 255, 255, 0.95)":"rgba(40, 40, 40, 0.9)":a.get("cardBackground",t),cursor:"pointer"},onClick:l,children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:o?"15px":"0"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flex:1},children:[e.jsx("div",{style:{width:36,height:36,borderRadius:"10px",backgroundColor:`${r.color}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(r.icon,{size:18,color:r.color})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:a.get("mainText",t),marginBottom:"2px"},children:i.dateFormatted}),e.jsxs("div",{style:{fontSize:"12px",color:a.get("subText",t),display:"flex",alignItems:"center",gap:"8px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(Q,{size:10}),i.durationFormatted]}),e.jsx("div",{children:"â€¢"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(I,{size:10}),i.speed," km/h"]})]})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[e.jsxs("div",{style:{textAlign:"right"},children:[e.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:a.get("mainText",t)},children:[i.distanceKm," ",e.jsx("span",{style:{fontSize:"12px"},children:"km"})]}),e.jsxs("div",{style:{fontSize:"12px",color:a.get("subText",t),marginTop:"2px"},children:[i.pace," ",e.jsx("span",{style:{fontSize:"10px"},children:n===0?"Ð¼Ð¸Ð½/ÐºÐ¼":"min/km"})]})]}),e.jsx(v.div,{animate:{rotate:o?180:0},transition:{duration:.2},children:e.jsx(ee,{size:16,color:a.get("subText",t)})})]})]}),e.jsx(E,{children:o&&e.jsx(v.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},style:{overflow:"hidden"},children:e.jsxs("div",{style:{borderTop:`1px solid ${a.get("border",t)}`,paddingTop:"15px",marginTop:"10px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",marginBottom:"15px"},children:[i.elevationGain>0&&e.jsxs("div",{children:[e.jsxs("div",{style:c(t).sessionLabelSmall,children:[e.jsx(H,{size:12,style:{marginRight:"4px"}}),n===0?"ÐÐ°Ð±Ð¾Ñ€ Ð²Ñ‹ÑÐ¾Ñ‚Ñ‹":"Elevation"]}),e.jsxs("div",{style:c(t).sessionValueSmall,children:[i.elevationGain," ",e.jsx("span",{style:{fontSize:"12px"},children:"m"})]})]}),i.avgHeartRate>0&&e.jsxs("div",{children:[e.jsxs("div",{style:c(t).sessionLabelSmall,children:[e.jsx(B,{size:12,style:{marginRight:"4px"}}),n===0?"Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ Ð¿ÑƒÐ»ÑŒÑ":"Avg HR"]}),e.jsxs("div",{style:c(t).sessionValueSmall,children:[i.avgHeartRate," ",e.jsx("span",{style:{fontSize:"12px"},children:"bpm"})]})]}),i.rpe>0&&e.jsxs("div",{children:[e.jsxs("div",{style:c(t).sessionLabelSmall,children:[e.jsx(te,{size:12,style:{marginRight:"4px"}}),n===0?"Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ Ð½Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸":"RPE"]}),e.jsxs("div",{style:c(t).sessionValueSmall,children:[i.rpe,"/10"]})]}),i.avgCadence>0&&e.jsxs("div",{children:[e.jsx("div",{style:c(t).sessionLabelSmall,children:n===0?"Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ Ñ‚ÐµÐ¼Ð¿":"Avg Cadence"}),e.jsxs("div",{style:c(t).sessionValueSmall,children:[i.avgCadence," ",e.jsx("span",{style:{fontSize:"12px"},children:"spm"})]})]})]}),i.notes&&e.jsxs("div",{style:{marginTop:"10px",padding:"12px",backgroundColor:t==="light"?"rgba(0,0,0,0.02)":"rgba(255,255,255,0.05)",borderRadius:"10px",fontSize:"13px",color:a.get("subText",t),fontStyle:"italic",lineHeight:1.5},children:[e.jsxs("div",{style:{fontSize:"11px",fontWeight:"bold",color:a.get("mainText",t),marginBottom:"6px",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(ie,{size:12}),n===0?"Ð—Ð°Ð¼ÐµÑ‚ÐºÐ¸ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ¸":"Training Notes"]}),i.notes]}),e.jsxs("div",{style:{marginTop:"15px"},children:[e.jsx("div",{style:{fontSize:"12px",color:a.get("subText",t),marginBottom:"6px",fontWeight:500},children:n===0?"Ð˜Ð½Ñ‚ÐµÐ½ÑÐ¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ¸":"Training Intensity"}),e.jsx("div",{style:{height:"8px",borderRadius:"4px",overflow:"hidden",backgroundColor:t==="light"?"#eee":"#333"},children:e.jsx(v.div,{initial:{width:0},animate:{width:`${i.intensity}%`},transition:{duration:.5},style:{height:"100%",backgroundColor:i.intensity>80?"#FF6B6B":i.intensity>60?"#FFA502":"#4CAF50"}})}),e.jsxs("div",{style:{fontSize:"11px",color:a.get("subText",t),marginTop:"4px",display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:n===0?"Ð›ÐµÐ³ÐºÐ°Ñ":"Easy"}),e.jsx("span",{children:n===0?"Ð¡Ñ€ÐµÐ´Ð½ÑÑ":"Moderate"}),e.jsx("span",{children:n===0?"Ð¢ÑÐ¶ÐµÐ»Ð°Ñ":"Hard"})]})]})]})})})]})},R=h.useMemo(()=>{if(x.length===0)return{totalSessions:0,avgSpeed:"0.0",totalDistance:"0.0",bestPace:"0:00",avgHeartRate:"0",totalElevation:"0"};const i=(x.reduce((p,g)=>p+parseFloat(g.speed),0)/x.length).toFixed(1),r=x.reduce((p,g)=>p+parseFloat(g.distanceKm),0).toFixed(1),o=x.filter(p=>p.avgHeartRate>0),l=o.length>0?(o.reduce((p,g)=>p+g.avgHeartRate,0)/o.length).toFixed(0):"â€”",d=x.reduce((p,g)=>p+(g.elevationGain||0),0).toFixed(0),y=x.filter(p=>{const g=F(p.pace);return g>0&&g<30}),C=y.reduce((p,g)=>{const N=F(g.pace),U=F(p.pace);return N<U?g:p},y[0]||{pace:"0:00"});return{totalSessions:x.length,avgSpeed:i,totalDistance:r,bestPace:C?.pace||"0:00",avgHeartRate:l,totalElevation:d}},[x]),z=f[s]?.color||"#4ECDC4";return e.jsx("div",{style:c(t).container,children:e.jsxs("div",{style:{width:"100%",padding:"0 10px 10px",boxSizing:"border-box"},children:[e.jsx("div",{style:c(t).typeSwitcher,children:Object.entries(f).map(([i,r])=>{const o=s===i;return e.jsxs(v.button,{whileHover:{y:-2},whileTap:{scale:.98},onClick:()=>{$(i),L(null)},style:{...c(t).typeButton,backgroundColor:o?r.color:t==="light"?"#033668a3":"rgba(57, 182, 255, 0.08)",color:o?"#ffffff":t==="light"?"#475569":"#cbd5e1",border:o?"none":`1px solid ${a.get("border",t)}`,boxShadow:o?"0 4px 12px rgba(0,0,0,0.15)":"none"},children:[e.jsx(r.icon,{size:18,style:{marginRight:"6px"}}),r.label,o&&e.jsx(v.div,{layoutId:"activeTypeIndicator",style:{position:"absolute",bottom:"-3px",left:0,right:0,height:"3px",background:"white",borderRadius:"2px"}})]},i)})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(130px, 1fr))",gap:"12px",marginTop:"15px",marginBottom:"20px"},children:[e.jsx(k,{icon:q,label:n===0?"Ð¢Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð¾Ðº":"Sessions",value:R.totalSessions,color:"#4ECDC4",isLoading:b}),e.jsx(k,{icon:I,label:n===0?"Ð¡Ñ€ÐµÐ´Ð½ÑÑ ÑÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ":"Avg Speed",value:R.avgSpeed,subValue:"km/h",color:"#FF6B6B",isLoading:b}),e.jsx(k,{icon:J,label:n===0?"Ð”Ð¸ÑÑ‚Ð°Ð½Ñ†Ð¸Ñ":"Distance",value:R.totalDistance,subValue:"km",color:"#45B7D1",isLoading:b}),e.jsx(k,{icon:M,label:n===0?"Ð›ÑƒÑ‡ÑˆÐ¸Ð¹ Ñ‚ÐµÐ¼Ð¿":"Best Pace",value:R.bestPace,color:"#9C89B8",isLoading:b}),e.jsx(k,{icon:H,label:n===0?"ÐÐ°Ð±Ð¾Ñ€ Ð²Ñ‹ÑÐ¾Ñ‚Ñ‹":"Elevation",value:R.totalElevation,subValue:"m",color:"#FFA502",isLoading:b}),e.jsx(k,{icon:B,label:n===0?"Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ Ð¿ÑƒÐ»ÑŒÑ":"Avg HR",value:R.avgHeartRate,subValue:"bpm",color:"#EF5350",isLoading:b})]}),e.jsxs("div",{style:c(t).chartCard,children:[e.jsxs("div",{style:c(t).chartHeader,children:[e.jsxs("div",{children:[e.jsx("div",{style:c(t).chartTitle,children:n===0?"ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð¾Ðº":"Training Progress"}),e.jsx("div",{style:c(t).chartSubtitle,children:n===0?`ÐÐ½Ð°Ð»Ð¸Ð· ${f[s]?.label.toLowerCase()}`:`Analysis of ${f[s]?.label.toLowerCase()} sessions`})]}),e.jsx("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:["distance","speed","pace","elevation","heartRate"].map(i=>{const r=S===i;return e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>G(i),style:{...c(t).metricButton,backgroundColor:r?t==="light"?"#e3f2fd":"#1e3a8a":"transparent",color:r?t==="light"?"#1e40af":"#60a5fa":a.get("subText",t),border:`1px solid ${r?t==="light"?"#1e40af":"#3b82f6":a.get("border",t)}`,padding:"6px 12px",fontSize:"12px"},children:[n===0?{distance:"Ð”Ð¸ÑÑ‚Ð°Ð½Ñ†Ð¸Ñ",speed:"Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ",pace:"Ð¢ÐµÐ¼Ð¿",elevation:"Ð’Ñ‹ÑÐ¾Ñ‚Ð°",heartRate:"ÐŸÑƒÐ»ÑŒÑ"}[i]:i.replace("heartRate","Heart Rate").replace(/([A-Z])/g," $1").replace(/^./,o=>o.toUpperCase()),i==="pace"&&e.jsx("span",{style:{marginLeft:"4px",fontSize:"9px",backgroundColor:t==="light"?"#fef3c7":"#92400e",color:t==="light"?"#92400e":"#fef3c7",padding:"1px 3px",borderRadius:"3px"},children:n===0?"â†“Ð»ÑƒÑ‡ÑˆÐµ":"â†“better"})]},i)})})]}),e.jsx("div",{style:{height:"200px",marginTop:"15px",position:"relative"},children:b?e.jsx("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",border:`3px solid ${t==="light"?"#e2e8f0":"#334155"}`,borderTopColor:t==="light"?"#3b82f6":"#60a5fa",animation:"spin 1s linear infinite"}})}):x.length>0?e.jsx(ae,{width:"100%",height:"100%",children:e.jsxs(ne,{data:D,margin:{top:10,right:15,left:10,bottom:0},children:[e.jsx(re,{dataKey:"label",stroke:a.get("subText",t),fontSize:11,tickLine:!1,axisLine:{stroke:a.get("border",t)},padding:{left:15,right:15}}),e.jsx(oe,{stroke:a.get("subText",t),fontSize:11,tickLine:!1,axisLine:{stroke:a.get("border",t)},width:50,label:{value:S==="pace"?n===0?"Ð¼Ð¸Ð½/ÐºÐ¼":"min/km":D[0]?.unit||"",angle:-90,position:"insideLeft",fill:a.get("subText",t),fontSize:11,dx:-8}}),e.jsx(se,{content:e.jsx(pe,{metric:S,langIndex:n,theme:t}),cursor:{strokeDasharray:"3 3",stroke:z,strokeWidth:1}}),e.jsx(le,{type:"monotone",dataKey:"value",stroke:z,strokeWidth:2,fill:z,fillOpacity:.2,dot:{fill:t==="light"?"#ffffff":"#1e293b",stroke:z,strokeWidth:2,r:3,activeDot:{r:5}}})]})}):e.jsx("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:a.get("subText",t),fontSize:"15px",textAlign:"center",padding:"20px"},children:e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"42px",marginBottom:"8px"},children:"ðŸ“Š"}),n===0?`ÐÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð´Ð»Ñ ${f[s]?.label.toLowerCase()}`:`No ${f[s]?.label.toLowerCase()} sessions`]})})})]}),e.jsxs("div",{style:{marginTop:"25px"},children:[e.jsxs("div",{style:c(t).sectionHeader,children:[e.jsx("div",{style:c(t).sectionTitle,children:n===0?"Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð¾Ðº":"Training History"}),e.jsxs("div",{style:{fontSize:"13px",color:a.get("subText",t),fontWeight:500},children:[x.length," ",n===0?"Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð¾Ðº":"sessions"]})]}),b?e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[...Array(4)].map((i,r)=>e.jsx("div",{style:{height:"80px",backgroundColor:t==="light"?"#f8fafc":"#1e293b",borderRadius:"16px",border:`1px solid ${a.get("border",t)}`,padding:"15px"}},r))}):e.jsx(E,{mode:"popLayout",children:x.length>0?x.map(i=>e.jsx(K,{session:i},i.id)):e.jsxs(v.div,{initial:{opacity:0},animate:{opacity:1},style:{textAlign:"center",padding:"30px 20px",color:a.get("subText",t),fontSize:"15px",border:`1px dashed ${a.get("border",t)}`,borderRadius:"14px",marginTop:"10px",background:t==="light"?"rgba(240, 249, 255, 0.3)":"rgba(30, 60, 100, 0.15)"},children:[e.jsx("div",{style:{fontSize:"42px",marginBottom:"10px"},children:"âœ¨"}),n===0?`Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð¿ÐµÑ€Ð²ÑƒÑŽ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÑƒ ${f[s]?.label.toLowerCase()}!`:`Record your first ${f[s]?.label.toLowerCase()} session!`]})})]})]})})},c=t=>({container:{display:"flex",width:"100%",maxWidth:"1000px",flexDirection:"column",overflowY:"auto",overflowX:"hidden",justifyContent:"flex-start",alignItems:"center",backgroundColor:a.get("background",t),height:"90vh",marginTop:"120px",paddingTop:"10px",paddingBottom:"30px",boxSizing:"border-box"},typeSwitcher:{display:"flex",gap:"8px",marginBottom:"15px",padding:"4px",backgroundColor:t==="light"?"#f1f5f9":"rgba(255, 255, 255, 0.08)",borderRadius:"14px",border:`1px solid ${a.get("border",t)}`},typeButton:{flex:1,padding:"10px 12px",borderRadius:"12px",border:"none",background:"transparent",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},chartCard:{backgroundColor:a.get("cardBackground",t),borderRadius:"20px",width:"100%",boxShadow:t==="light"?"0 6px 25px rgba(0, 0, 0, 0.05)":"0 8px 35px rgba(0, 0, 0, 0.3)",border:`1px solid ${a.get("border",t)}`,overflow:"hidden",backdropFilter:"blur(10px)"},chartHeader:{padding:"16px 20px",borderBottom:`1px solid ${a.get("border",t)}`,display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"12px"},chartTitle:{fontSize:"18px",fontWeight:"800",background:t==="light"?"linear-gradient(90deg, #1e40af, #0c4a6e)":"linear-gradient(90deg, #60a5fa, #3b82f6)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"3px"},chartSubtitle:{fontSize:"13px",color:a.get("subText",t),fontWeight:500},metricButton:{borderRadius:"10px",background:"transparent",fontSize:"12px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"4px",whiteSpace:"nowrap",border:"1px solid"},sectionHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",marginBottom:"15px",paddingLeft:"5px"},sectionTitle:{fontSize:"20px",fontWeight:"800",color:a.get("mainText",t),background:t==="light"?"linear-gradient(90deg, #0f172a, #1e293b)":"linear-gradient(90deg, #cbd5e1, #94a3b8)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},metricCard:{borderRadius:"16px",padding:"14px",boxShadow:t==="light"?"0 4px 12px rgba(0, 0, 0, 0.04)":"0 6px 20px rgba(0, 0, 0, 0.2)",border:`1px solid ${a.get("border",t)}`,transition:"all 0.3s ease"},sessionCard:{backgroundColor:a.get("cardBackground",t),borderRadius:"16px",padding:"14px",marginBottom:"10px",boxShadow:t==="light"?"0 3px 12px rgba(0, 0, 0, 0.03)":"0 5px 18px rgba(0, 0, 0, 0.2)",border:`1px solid ${a.get("border",t)}`,transition:"all 0.3s ease",backdropFilter:"blur(8px)"},sessionLabelSmall:{fontSize:"11px",color:a.get("subText",t),marginBottom:"3px",fontWeight:500,display:"flex",alignItems:"center",gap:"4px"},sessionValueSmall:{fontSize:"16px",fontWeight:"bold",color:a.get("mainText",t)}});if(typeof document<"u"){const t=document.createElement("style");t.textContent=`
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  `,document.head.appendChild(t)}export{he as default};
