import{A as $,t as ve,l as Ce,f as Ie,C as r,j as t,bj as te,bk as ye,bu as be,bl as Qe,bv as Xe,bw as Ze,bq as E,bx as et,U as tt,p as nt,s as st,bp as ot,by as rt,w as it}from"./index-Dy3PYuuD.js";import{r as c,R as lt}from"./recharts-Bg6K2Pzo.js";import{G as at,a as ct}from"./index-CH7lV8LJ.js";import{s as dt,l as T}from"./MentalHelper-EA89zqWS.js";import{B as ut}from"./BreathAudio-BrJNN4AB.js";import{M as pt}from"./MentalInput-C2XLYppE.js";const L=[{id:"easy",level:["–ª–µ–≥–∫–æ","easy"],title:["–Ω–∞–π–¥–∏ –ª–∏—à–Ω–∏–π","find the odd one"],itemsCountRange:[4,5],rules:["–í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞, –∫—Ä–æ–º–µ –æ–¥–Ω–æ–≥–æ (—Ñ–æ—Ä–º–∞/—Ü–≤–µ—Ç/—á–∏—Å–ª–æ).","All items share one feature except a single odd one."],timeLimitSec:20,description:["–ü—Ä–æ—Å—Ç—ã–µ —Ä—è–¥—ã: –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è —Ü–≤–µ—Ç–æ–º, —Ñ–æ—Ä–º–æ–π –∏–ª–∏ —á–∏—Å–ª–æ–º.","Simple rows: one item differs by color, shape or number."]},{id:"medium",level:["—Å—Ä–µ–¥–Ω–∏–π","medium"],title:["–ª–æ–≤–ª—é –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—å","spot the pattern"],itemsCountRange:[5,6],rules:["–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ –ø—Ä–∞–≤–∏–ª—É (—Ä–æ—Å—Ç/—É–±—ã–≤–∞–Ω–∏–µ, +2, √ó3), –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–æ.","Sequence follows a rule (+2, √ó3, ascending/descending), one item breaks it."],timeLimitSec:25,description:["–ß–∏—Å–ª–æ–≤—ã–µ –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å –æ–¥–Ω–∏–º –Ω–∞—Ä—É—à–∏—Ç–µ–ª–µ–º –ø—Ä–∞–≤–∏–ª–∞.","Number and visual patterns with one rule-breaking element."]},{id:"hard",level:["—Å–ª–æ–∂–Ω–æ","hard"],title:["—Å–ª–æ–∂–Ω—ã–µ –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏","complex patterns"],itemsCountRange:[6,7],rules:["–¶–≤–µ—Ç –∏ —á–∏—Å–ª–æ —Å–≤—è–∑–∞–Ω—ã –ø—Ä–∞–≤–∏–ª–æ–º: —á—ë—Ç–Ω–æ—Å—Ç—å, —á–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ, —à–∞–≥. –ù–∞–π–¥–∏ –Ω–∞—Ä—É—à–∏—Ç–µ–ª—è.","Color and number follow a joint rule: parity, alternation, or step. Find the outlier."],timeLimitSec:25,description:["–¶–≤–µ—Ç –∏ —á–∏—Å–ª–æ —Å–≤—è–∑–∞–Ω—ã –ø—Ä–∞–≤–∏–ª–æ–º: —á—ë—Ç–Ω–æ—Å—Ç—å, —á–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ, —à–∞–≥. –ù–∞–π–¥–∏ –Ω–∞—Ä—É—à–∏—Ç–µ–ª—è.","Color and number follow a joint rule: parity, alternation, or step. Find the outlier."]},{id:"max",level:["–ø—Ä–æ-—Ä–µ–∂–∏–º","max pro"],title:["–ª–æ–≥–∏—á–µ—Å–∫–∏–π –≤—ã–∑–æ–≤","logic challenge"],itemsCountRange:[7,9],rules:["–°–∫—Ä—ã—Ç—ã–µ –∏–ª–∏ –º–µ–Ω—è—é—â–∏–µ—Å—è –ø—Ä–∞–≤–∏–ª–∞, –≤–æ–∑–º–æ–∂–µ–Ω —Ä–µ–≤–µ—Ä—Å –∏–ª–∏ —Å–º–µ–Ω–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –ø–æ—Å–µ—Ä–µ–¥–∏–Ω–µ.","Hidden or shifting rules; pattern may reverse or change midway."],timeLimitSec:30,description:["–°–∞–º—ã–µ —Å–ª–æ–∂–Ω—ã–µ —Ä—è–¥—ã —Å –º–µ–Ω—è—é—â–∏–º–∏—Å—è –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∏ –æ–¥–Ω–∏–º –Ω–µ–≤–µ—Ä–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º.","The toughest rows with changing rules and a single incorrect item."]}],u=(o,s)=>Math.floor(Math.random()*(s-o+1))+o,W=["circle","square","triangle","hexagon"],ne={reds:["#e63946","#d90429","#f15a5a","#c1121f"],blues:["#1d3557","#3a5ea5","#4a7bb7","#6c9bcf"],greens:["#2a9d8f","#264653","#2d6a4f","#4c956c"],purples:["#7b2cbf","#5a189a","#9d4edd","#c77dff"],oranges:["#e76f51","#f4a261","#e9c46a","#f28482"],cyans:["#00b4d8","#0096c7","#0077b6","#023e8a"]},xt=()=>{const o=Object.values(ne),s=o[u(0,o.length-1)];return s[u(0,s.length-1)]},ft=o=>{const s=u(...L[0].itemsCountRange),n=u(0,s-1),p=["color","shape","value"][u(0,2)];if(p==="value"){const e=u(8+o,18+o),l=u(2,4)*(Math.random()>.5?1:-1),i=e+l;return[Array(s).fill().map((h,x)=>x===n?i:e),String(n+1)]}else if(p==="shape"){const e=W[u(0,W.length-1)],l=W.filter(x=>x!==e),i=l[Math.floor(Math.random()*l.length)],a=xt();return[Array(s).fill().map((x,m)=>({shape:m===n?i:e,color:a})),String(n+1)]}else{const e=Object.keys(ne),l=e[u(0,e.length-1)],i=ne[l],a=u(0,i.length-1);let h;do h=u(0,i.length-1);while(h===a&&i.length>1);const x=i[a],m=i[h],y=W[u(0,W.length-1)];return[Array(s).fill().map((S,v)=>({shape:y,color:v===n?m:x})),String(n+1)]}},mt=o=>{const s=u(...L[1].itemsCountRange),n=u(1,s-2),p=["add","mult","asc"][u(0,2)];let e=[],l,i;p==="add"?(l=u(2+o,8+o),i=u(2,5),e=Array(s).fill().map((x,m)=>l+m*i)):p==="mult"?(l=u(2,4),i=u(2,4),e=Array(s).fill().map((x,m)=>l*Math.pow(i,m))):(l=u(1+o,5+o),e=Array(s).fill().map((x,m)=>l+m+u(0,1)),e.sort((x,m)=>x-m));const a=e[n],h=u(3,10)*(Math.random()>.5?1:-1);return e[n]=a+h,[e,String(n+1)]},gt=o=>{const s=u(...L[2].itemsCountRange),n=u(1,s-2),p=u(0,2);let e=[],l,i;if(p===0){l=u(5+o,10+o),i=u(3,6);const a=["red","blue"];if(e=Array(s).fill().map((h,x)=>({value:l+x*i,color:a[x%2]})),Math.random()>.5)e[n].color=e[n].color==="red"?"blue":"red";else{const h=u(2,8)*(Math.random()>.5?1:-1);e[n].value+=h}}else p===1?(l=u(4+o,8+o),i=u(2,4),e=Array(s).fill().map((a,h)=>{const x=l+h*i,y=x%2===0?"red":"blue";return{value:x,color:y}}),e[n].color=e[n].color==="red"?"blue":"red"):(l=u(6+o,12+o)*2,i=u(2,5)*2,e=Array(s).fill().map((a,h)=>{const x=l+h*i,y=Math.floor(h/2)%2===0?"red":"blue";return{value:x,color:y}}),Math.random()>.5?e[n].color=e[n].color==="red"?"blue":"red":e[n].value+=1);return[e,String(n+1)]},ht=o=>{const s=u(...L[3].itemsCountRange),n=u(2,s-3),p=Math.floor(s/2),e=u(2+o,6+o),l=[];for(let a=0;a<p;a++)l.push(e+a*3);let i=l[l.length-1]*2;for(let a=p;a<s;a++)l.push(i),i*=2;if(n>=p){const a=l[n];l[n]=a+u(5,20)*(Math.random()>.5?1:-1)}else{const a=l[n];l[n]=a+u(2,6)*(Math.random()>.5?1:-1)}return[l,String(n+1)]};function yt(o,s,n){if(o!==2)return[[],"0"];switch(s){case 0:return ft(n)||[[],"0"];case 1:return mt(n)||[[],"0"];case 2:return gt(n)||[[],"0"];case 3:return ht(n)||[[],"0"];default:return[[],"0"]}}function bt(o,s,n,p,e,l,i){const h=[100,200,300,400][s]||100,x=o===2&&l===e?1:0,m=Math.min(1+n*.02,1.3),y=p/1e3,g=L[s]?.timeLimitSec||20,S=Math.min(y/g,2),v=x===1?Math.max(1.3-(S-1)*.3,1):1,C=x===1&&i>=5?Math.min(1+.1*Math.min(i/10,4),1.5):1;return Math.round(h*x*m*v*C)}function St(o,s,n){return o===2&&n===s}function jt(o,s,n){return o===2?n===s?0:1:0}const Se=3e3,vt=({show:o,type:s,difficulty:n,setShow:p})=>{const[e,l]=c.useState("dark"),[i,a]=c.useState($.prefs[0]),[h,x]=c.useState($.prefs[4]),[m,y]=c.useState(""),[g,S]=c.useState(""),[v,C]=c.useState(!1),[M,Y]=c.useState(!1),[A,se]=c.useState(!1),[j,oe]=c.useState(!1),[Te,q]=c.useState(!1),[Me,re]=c.useState(0),[ie,le]=c.useState(!1),[N,ke]=c.useState(1),[ze,$e]=c.useState(0),[V,Pe]=c.useState(null),[Re,ae]=c.useState(0),[U,De]=c.useState(!1),{initAudio:Ae,playRight:Fe,playWrong:We}=ut($.prefs[2]===0),[kt,ce]=c.useState(0),[I,de]=c.useState(!1),[k,O]=c.useState(0),[_,B]=c.useState(1),[ue,K]=c.useState(0),[Ee,Le]=c.useState(""),[pe,F]=c.useState(""),[Ve,Oe]=c.useState(""),[z,xe]=c.useState(0),[J,G]=c.useState(0),[P,zt]=c.useState($.mentalRecords[s]?.[n]||0),[fe,me]=c.useState(0),[_e,Q]=c.useState(0);c.useEffect(()=>{if(!M||j||I){y("");return}m==="CC"?S(d=>d.length>0?d.slice(0,-1):""):m===">>>"?Ge():/^\d+$/.test(m)&&S(m),y("")},[m,M,j,I]),c.useEffect(()=>{let d=null;return v&&(d=setInterval(()=>me(f=>f+100),100)),()=>clearInterval(d)},[v]),c.useEffect(()=>{const d=ve.subscribe(l),f=Ce.subscribe(w=>a(w==="ru"?0:1)),b=Ie.subscribe(x);return()=>{d.unsubscribe(),f.unsubscribe(),b.unsubscribe()}},[]),c.useEffect(()=>{if(!A){Q(0);return}const d=Math.ceil(Se/1e3);Q(d);const f=setInterval(()=>{Q(b=>b<=1?(clearInterval(f),Be(),se(!1),0):b-1)},1e3);return()=>clearInterval(f)},[A,Se]),c.useEffect(()=>{if(!I)return;const d=setInterval(()=>{ce(f=>{if(f>=900){clearInterval(d),de(!1),ce(0);const b=k+z;return O(b),xe(0),S(""),ie?qe(b):(B(N),X(N)),0}return f+100})},100);return()=>clearInterval(d)},[I,k,z,ie,N]),c.useEffect(()=>{if(!U||j||I)return;const d=setInterval(()=>{ae(f=>f+100)},100);return()=>clearInterval(d)},[U,j,I]);const Be=()=>{Ae(),O(0),B(1),G(0),K(0),S(""),F(""),X(1),Y(!0),C(!0),q(!1),me(0),re(Date.now())},X=(d=_)=>{const[f,b]=yt(s,n,d),w=String(b).trim();Pe({items:f,correctIndex:parseInt(b,10)}),Le(w),S(""),F(""),ke(d+1),le(!1),$e(Date.now()),ae(0),De(!0)},Ge=()=>{if(!V)return;const d=String(g).trim(),f=String(Ee).trim(),b=Date.now()-ze,w=bt(s,n,_,b,f,d,ue),R=jt(s,f,d);let Z="";R===0?(Z=wt(i),G(ee=>ee+1)):Z=(i===0?"–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ":"Correct answer: ")+f;const Je=R===0?r.get("maxValColor",e):r.get("minValColor",e);Oe(Je),F(Z),xe(w),K(ee=>St(s,f,d)?ee+1:0),R===0?Fe():We(),le(_>=20),de(!0)},He=()=>{C(!1),q(!0)},Ye=()=>{C(!0),q(!1)},ge=()=>{O(0),B(1),G(0),K(0),S(""),F(""),X(),re(Date.now())},qe=d=>{const f=Date.now(),b=Math.round((f-Me)/1e3);dt(b,k>P,s,n,k+z);const w=d>P,R=It(!1,i,d,J,20,w,!1);C(!1),F(R),oe(!0),Y(!1)},he=()=>{O(0),B(1),G(0),oe(!1),p(!1)},Ne=d=>{if(d[0]!=="#")return"white";const f=parseInt(d.slice(1,3),16),b=parseInt(d.slice(3,5),16),w=parseInt(d.slice(5,7),16);return(f*299+b*587+w*114)/1e3>128?"black":"white"},Ue=()=>{if(!V||!V.items)return null;const{items:d}=V;if(Array.isArray(d)&&d.length>0){if(typeof d[0]=="number")return t.jsx("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",justifyContent:"center",marginTop:"20px"},children:d.map((f,b)=>t.jsx("div",{style:{padding:"12px 18px",backgroundColor:r.get("bottomPanel",e),borderRadius:"12px",fontWeight:"bold",fontSize:"20px",color:r.get("mainText",e),border:`2px solid ${r.get("border",e)}`},children:f},b))});if(typeof d[0]=="object"&&(d[0].shape||d[0].color||typeof d[0].value=="number"))return t.jsx("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",justifyContent:"center",marginTop:"20px"},children:d.map((f,b)=>t.jsx("div",{style:{width:"50px",height:"50px",backgroundColor:f.color||"gray",clipPath:Ke(f.shape||"circle"),border:`2px solid ${r.get("border",e)}`,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",fontSize:"16px",fontWeight:"bold",color:Ne(f.color||"gray")},children:typeof f.value=="number"&&t.jsx("span",{style:{pointerEvents:"none"},children:f.value})},b))})}return t.jsx("div",{children:"?"})},Ke=d=>{switch(d){case"circle":return"circle(50% at 50% 50%)";case"square":return"polygon(0 0, 100% 0, 100% 100%, 0 100%)";case"triangle":return"polygon(50% 0%, 0% 100%, 100% 100%)";case"hexagon":return"polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%)";default:return"circle(50% at 50% 50%)"}};return t.jsxs("div",{style:H(e,o).container,children:[!M&&!A&&!j&&t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",width:"100%",height:"80%"},children:[t.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:r.get("mainText",e)},children:T[n].level[i]}),t.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"12px",justifyContent:"center",fontSize:"15px",color:r.get("subText",e)},children:T[n].title[i]}),t.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"12px",justifyContent:"center",fontSize:"15px",color:r.get("subText",e)},children:T[n].description[i]}),t.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"12px",justifyContent:"center",fontSize:"15px",color:r.get("mainText",e)},children:(i===0?"–≠–ª–µ–º–µ–Ω—Ç–æ–≤: ":"Items: ")+T[n].itemsCountRange[0]+"‚Äì"+T[n].itemsCountRange[1]}),t.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"12px",justifyContent:"center",fontSize:"15px",color:r.get("subText",e)},children:i===0?`–í—Ä–µ–º—è –Ω–∞ –æ—Ç–≤–µ—Ç: ${T[n].timeLimitSec} —Å–µ–∫`:`Time limit: ${T[n].timeLimitSec} sec`}),t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"50px",fontSize:"12px",color:r.get("subText",e)},children:Ct(i)})]}),!M&&!A&&!j&&t.jsxs("div",{style:H(e,o).controls,children:[t.jsx(te,{onClick:()=>he(),style:{fontSize:"60px",color:r.get("close",e)}}),t.jsx(ye,{onClick:()=>se(!0),style:{fontSize:"60px",color:r.get("play",e)}}),t.jsx(be,{onClick:ge,style:{fontSize:"60px",color:r.get("reload",e)}})]}),!j&&A&&t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",width:"90%",height:"80%"},children:[t.jsx("div",{style:{fontSize:"10rem",marginTop:"180px",color:r.get("icons",e),fontWeight:"bold",lineHeight:1},children:_e}),t.jsx("div",{style:{fontSize:"2rem",marginBottom:"80px",textAlign:"center"},children:t.jsx("div",{style:{color:r.get("icons",e),marginBottom:"80px"},children:i===0?"–ü—Ä–∏–≥–æ—Ç–æ–≤—å—Ç–µ—Å—å!":"Get ready!"})})]}),!j&&M&&t.jsxs("div",{style:H(e).playContainer,children:[t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"86%",borderBottom:`1px solid ${r.get("border",e)}`},children:[t.jsxs("div",{style:{display:"flex",flexDirection:"row",marginTop:"6px",width:"60%",gap:"20px",marginRight:"auto"},children:[t.jsx(te,{onClick:()=>Y(!1),style:{fontSize:"25px",color:r.get("close",e)}}),Te?t.jsx(ye,{onClick:Ye,style:{fontSize:"25px",color:r.get("play",e)}}):t.jsx(Qe,{onClick:He,style:{fontSize:"25px",color:r.get("pause",e)}}),t.jsx(be,{onClick:ge,style:{fontSize:"25px",color:r.get("reload",e)}})]}),t.jsxs("div",{style:{display:"flex",marginLeft:"auto",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:r.get("subText",e)},children:[t.jsx(Xe,{}),we(fe)]})]}),t.jsxs("div",{style:{display:"flex",width:"86%",flexDirection:"row",marginTop:"20px",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:r.get("minValColor",e)},children:[t.jsx(Ze,{}),ue]}),t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:r.get("difficulty",e)},children:_+"/ 20"}),t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:r.get("maxValColor",e)},children:[t.jsx(E,{}),k]})]}),M&&U&&t.jsx("div",{style:{width:"48px",height:"48px",marginTop:"35px"},children:t.jsxs("svg",{viewBox:"0 0 28 28",style:{width:"100%",height:"100%"},children:[t.jsx("circle",{cx:"14",cy:"14",r:"12",fill:r.get("background",e),stroke:r.get("border",e),strokeWidth:"1"}),t.jsx("text",{x:"14",y:"18",textAnchor:"middle",fill:r.get("mainText",e),fontSize:"8",fontWeight:"bold",children:(Re/1e3).toFixed(1)})]})}),t.jsxs("div",{style:{marginTop:"20px",width:"95%",display:"flex"},children:[!I&&M&&t.jsxs("div",{style:je(e,!1),children:[t.jsx("div",{style:{fontSize:"16px",marginBottom:"12px",color:r.get("subText",e)},children:T[n].rules[i]}),Ue(),t.jsx("div",{style:{marginTop:"16px",fontSize:"16px",color:r.get("subText",e)},children:i===0?"–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –ª–∏—à–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ (1, 2...)":"Enter index of odd one out (1, 2...)"})]}),I&&t.jsxs("div",{style:je(e,!0,Ve),children:[t.jsxs("p",{style:{fontSize:"22px",fontWeight:"bold",color:z>0?r.get("maxValColor",e):r.get("minValColor",e)},children:[z>0&&t.jsx(E,{})," ",z>0?z:i===0?"–Ω–µ –≤–µ—Ä–Ω–æ":"wrong answer"]}),t.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",color:r.get("mainText",e)},children:pe})]})]}),t.jsx("div",{style:{fontSize:"34px",fontWeight:"bold",color:r.get("subText",e),marginTop:"auto"},children:g})]}),!j&&M&&!I&&t.jsx(pt,{setInput:y,type:s}),j&&t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",width:"100%",height:"80%"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:r.get("maxValColor",e)},children:[t.jsx(E,{}),k]}),t.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:r.get("medium",e)},children:Tt(i,fe)}),k>P&&t.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:r.get("medium",e)},children:[t.jsx(et,{}),i===0?"–ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥!":"New record!"]}),k<=P&&t.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:r.get("subText",e)},children:i===0?"—Ä–µ–∫–æ—Ä–¥: "+P:"record: "+P}),t.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"22px",fontWeight:"bold",color:r.get("mainText",e)},children:n<4?J+" / 20":J}),t.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:r.get("mainText",e)},children:pe})]}),j&&t.jsx("div",{style:H(e,o).controls,children:t.jsx(te,{onClick:()=>he(),style:{fontSize:"60px",color:r.get("close",e)}})})]})},je=(o,s,n)=>({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"95%",minHeight:"16vh",marginTop:"20px",backgroundColor:r.get("bottomPanel",o),boxShadow:s?"0px 0px 9px 9px"+n:"2px 2px"+r.get("shadow",o),borderRadius:"24px",fontSize:"39px",fontWeight:"bold",color:r.get("mainText",o),alignContent:"center",padding:"16px"}),H=(o,s)=>({container:{backgroundColor:r.get("background",o),display:"flex",position:"fixed",flexDirection:"column",alignItems:"center",height:"86vh",transform:s?"translateY(0)":"translateY(100%)",bottom:"0",transition:"transform 0.2s ease-in-out",width:"100vw",fontFamily:"Segoe UI",borderTop:`2px solid ${r.get("border",o)}`,borderTopLeftRadius:"12px",borderTopRightRadius:"12px",zIndex:2e3},controls:{display:"flex",marginTop:"30px",gap:"50px"},playContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",height:"50vh",bottom:"0",width:"100vw"}}),Ct=o=>o===0?"–ù–∞–π–¥–∏ –ª–∏—à–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –≤ —Ä—è–¥—É. –û—Ç–≤–µ—á–∞–π –±—ã—Å—Ç—Ä–æ ‚Äî –∑–∞ —Å–∫–æ—Ä–æ—Å—Ç—å –¥–∞—é—Ç—Å—è –±–æ–Ω—É—Å—ã! –ö–∞–∂–¥–∞—è –æ—à–∏–±–∫–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å–µ—Ä–∏—é. –ó–∞ 5 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–æ–¥—Ä—è–¥ ‚Äî –º–Ω–æ–∂–∏—Ç–µ–ª—å –æ—á–∫–æ–≤ (–º–∞–∫—Å. √ó1.5).":"Find the odd one out. Answer quickly ‚Äî speed bonuses apply! Every mistake resets your streak. 5 correct in a row ‚Üí score multiplier (up to √ó1.5).",It=(o,s,n,p,e,l,i=!1)=>{const a=Math.round(p/e*100),h=a>=80,x=a>=50&&!h,m={ru:{high:[`üéâ –û—Ç–ª–∏—á–Ω–æ! ${p}/${e} (${a}%) ‚Äî –º–æ–ª–æ–¥–µ—Ü!`,`‚ú® –ü–æ—Ç—Ä—è—Å–∞—é—â–µ! –¢—ã —Å–ø—Ä–∞–≤–∏–ª—Å—è –Ω–∞ ${a}%.`,`üî• ${n} –æ—á–∫–æ–≤ ‚Äî –≤–ø–µ—á–∞—Ç–ª—è–µ—Ç!`],moderate:[`üôÇ –•–æ—Ä–æ—à–∞—è –ø–æ–ø—ã—Ç–∫–∞! ${p}/${e} (${a}%)`,"üå± –¢—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏!","üìà –£–∂–µ –ª—É—á—à–µ!"],low:["ü§ó –¢—ã —Å—Ç–∞—Ä–∞–ª—Å—è ‚Äî —ç—Ç–æ –≥–ª–∞–≤–Ω–æ–µ.","üå± –ù–µ —Å–¥–∞–≤–∞–π—Å—è!","üå§Ô∏è –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë!"],record:[`üèÜüî• –ù–û–í–´–ô –†–ï–ö–û–†–î! ${n} –æ—á–∫–æ–≤!`,`üéâ‚ú® –õ–∏—á–Ω—ã–π —Ä–µ–∫–æ—Ä–¥: ${p}/${e}!`]},en:{high:[`üéâ Awesome! ${p}/${e} (${a}%)!`,`‚ú® Outstanding! ${a}% correct.`,`üî• ${n} points ‚Äî impressive!`],moderate:[`üôÇ Good effort! ${p}/${e} (${a}%)`,"üå± You're making progress!","üìà Getting better!"],low:["ü§ó You gave it your best!","üå± Don‚Äôt give up!","üå§Ô∏è Try again!"],record:[`üèÜüî• NEW RECORD! ${n} points!`,`üéâ‚ú® Personal best: ${p}/${e}!`]}},y=s===0?m.ru:m.en;let g=[];return l?g=[...y.record]:h?g=[...y.high]:x?g=[...y.moderate]:g=[...y.low],g.length===0?s===0?"–•–æ—Ä–æ—à–æ! üòä":"Good job! üòä":g[Math.floor(Math.random()*g.length)]};function wt(o){const p=o===0?["–û—Ç–ª–∏—á–Ω–æ!","–ü—Ä–µ–∫—Ä–∞—Å–Ω–æ!","–í–µ—Ä–Ω–æ!","–¢–æ—á–Ω–æ!","–ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ!"]:["Great!","Perfect!","Yes!","Exactly!","Awesome!"];return p[Math.floor(Math.random()*p.length)]}function we(o){const s=Math.floor(o/1e3),n=Math.floor(s/60),p=s%60;return`${String(n).padStart(2,"0")}:${String(p).padStart(2,"0")}`}function Tt(o,s){const n=we(s);return o===0?`–í–∞—à–µ –≤—Ä–µ–º—è: ${n}`:`Your time is: ${n}`}const Wt=()=>{const[o,s]=lt.useState("dark"),[n,p]=c.useState($.prefs[0]),[e,l]=c.useState($.prefs[4]),[i,a]=c.useState(!1),[h,x]=c.useState(0),[m,y]=c.useState(tt.hasPremium);return c.useEffect(()=>{const g=nt.subscribe(y);return()=>g.unsubscribe()},[]),c.useEffect(()=>{const g=ve.subscribe(s),S=Ce.subscribe(C=>{p(C==="ru"?0:1)}),v=Ie.subscribe(C=>{l(C)});return()=>{g.unsubscribe(),S.unsubscribe(),v.unsubscribe()}},[]),t.jsxs("div",{style:D(o).container,children:[t.jsx("div",{style:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyItems:"center"},children:t.jsx("div",{style:{width:"100%",display:"grid",gridTemplateColumns:"1fr 1fr",alignItems:"center",justifyItems:"center"},children:T.map((g,S)=>{const v="difficulty"+S;return t.jsx(Mt,{width:"46vw",difficulty:S,protocol:g,setLevel:x,color:r.get(v,o),theme:o,lang:n,click:()=>{x(S),a(!0)},fSize:e,hasPremium:m,needBlur:S>1},S)})})}),t.jsx(vt,{type:2,difficulty:h,show:i,setShow:a})]})},D=(o,s)=>({container:{backgroundColor:r.get("background",o),display:"flex",flexDirection:"column",overflowY:"scroll",justifyItems:"center",alignItems:"center",height:"78vh",paddingTop:"5vh",width:"100vw",fontFamily:"Segoe UI"},scrollView:{height:"95%",width:"100%",overflowY:"scroll",display:"flex",flexDirection:"column"},mainText:{textAlign:"left",fontSize:s===0?"15px":"17px",color:r.get("mainText",o)},subtext:{textAlign:"center",fontSize:s===0?"12px":"14px",color:r.get("mainText",o),margin:"2px"},icon:{fontSize:"32px",color:r.get("mainText",o)},simplePanelRow:{width:"75vw",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},cardText:{textAlign:"left",marginBottom:"5px",fontSize:s===0?"14px":"16px",color:r.get("mainText",o),marginLeft:"30px"},text:{textAlign:"left",fontSize:s===0?"10px":"12px",color:r.get("subText",o),marginLeft:"30px"},btn:{width:"70%",height:"40px",borderRadius:"12px",fontSize:s===0?"13px":"14px",color:r.get("mainText",o),backgroundColor:r.get("simplePanel",o)}});function Mt({protocol:o,difficulty:s,click:n,width:p,color:e,theme:l,lang:i,fSize:a,hasPremium:h=!1,needBlur:x=!1}){const m=()=>s===0?t.jsx(ot,{style:g}):s===1?t.jsx(E,{style:g}):s===2?t.jsx(at,{style:g}):s===3?t.jsx(ct,{style:g}):s===4?t.jsx(rt,{style:g}):t.jsx(it,{style:g}),y={alignItems:"center",justifyContent:"center",display:"flex",width:p,flexDirection:"row",height:"12vh",marginTop:"15px",borderRadius:"24px",backgroundColor:e,overflow:"hidden",position:"relative",boxShadow:"3px 3px 2px rgba(0,0,0,0.3)"},g={fontSize:"86px",rotate:"-20deg",position:"absolute",right:"-10px",top:"30%",color:r.get("svgColor",l)};return t.jsxs("div",{style:y,onClick:n,children:[!h&&x&&t.jsxs("div",{onClick:S=>{S.stopPropagation()},style:{position:"absolute",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",width:"100%",height:"100%",left:"0",top:"0",backdropFilter:"blur(8px)",zIndex:2},children:[t.jsxs("div",{style:{...D(l,a).mainText},children:[" ",i===0?"–ü—Ä–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è":"Pro category"," "]}),t.jsxs("div",{style:{...D(l,a).mainText},children:[" ",i===0?"üëë–ø—Ä–µ–º–∏—É–ºüëë":"üëëpremiumüëë"," "]}),t.jsx("button",{onClick:()=>{st("premium")},style:{...D(l,a).btn},children:i===0?"–°—Ç–∞—Ç—å –ø—Ä–µ–º–∏—É–º":"Get premium"})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"65%",height:"22%",alignItems:"center",justifyContent:"flex-end",position:"absolute",top:"5%",left:"30%",fontWeight:"bold",fontSize:"16px",color:r.get("maxValColor",l)},children:[t.jsx(E,{})," ",$.mentalRecords[1][s]]}),t.jsxs("div",{style:{width:"90%",height:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},children:[t.jsx("h2",{style:D(l,a).cardText,children:o.level[i]}),t.jsx("p",{style:D(l,a).text,children:o.title[i]})]}),m()]})}export{Wt as default};
