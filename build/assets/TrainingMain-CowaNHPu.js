import{R as h,r as c,A as p,t as A,l as I,j as n,C as s}from"./index-1gwYXWtw.js";const W=e=>(e.getDay()+6)%7,f=new Audio("Audio/Click.wav"),B=()=>{const[e,a]=h.useState("dark"),[d,m]=c.useState(p.prefs[0]),[r,b]=c.useState(new Date),[l,j]=c.useState(r),[D,O]=c.useState(0);h.useEffect(()=>{const t=A.subscribe(a);return()=>t.unsubscribe()},[]),h.useEffect(()=>{const t=I.subscribe(g=>{m(g==="ru"?0:1)});return()=>t.unsubscribe()},[]);const w=new Date(r.getFullYear(),r.getMonth(),1),S=new Date(r.getFullYear(),r.getMonth()+1,0).getDate(),M=(w.getDay()+6)%7,v=[["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]],k=[["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]],o=[],y=[];for(let t=0;t<M;t++)o.push(null);for(let t=1;t<=S;t++)o.push(t);for(let t=0;t<o.length;t+=7)y.push(o.slice(t,t+7));const T=()=>{b(new Date(r.getFullYear(),r.getMonth()-1)),x(f)},C=()=>{b(new Date(r.getFullYear(),r.getMonth()+1)),x(f)};return n.jsxs("div",{style:i(e).container,children:[n.jsxs("div",{style:i(e).panel,children:[n.jsxs("div",{style:i(e).calendarHead,children:[n.jsx("h1",{style:i(e).header,children:r.getFullYear()+"/"+(r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1)}),n.jsx("div",{onClick:T,children:n.jsx("h1",{style:i(e).header,children:"<"})}),n.jsx("div",{onClick:C,children:n.jsx("h1",{style:i(e).header,children:">"})})]}),n.jsxs("table",{style:i(e).table,children:[n.jsx("thead",{children:n.jsx("tr",{children:v[d].map(t=>n.jsx("th",{children:n.jsx("p",{style:{textAlign:"center",fontSize:"12px",color:t==="Вс"||t==="Sun"?"#873535ff":s.get("subText",e)},children:t})},t))})}),n.jsx("tbody",{children:y.map((t,g)=>n.jsx("tr",{children:t.map((u,F)=>{const Y=u===l.getDate()&&r.getMonth()===l.getMonth()&&r.getFullYear()===l.getFullYear();return n.jsx("td",{children:n.jsx("div",{style:{...i(e).cell,border:`3px solid ${Y?s.get("currentDateBorder",e):s.get("background",e)}`,backgroundColor:s.get("background",e)},onClick:()=>{j(new Date(r.getFullYear(),r.getMonth(),u)),x(f)},children:u})},F)})},g))})]})]}),n.jsx("div",{style:{height:"15vh"},children:n.jsx("h1",{style:{...i(e).subtext,fontSize:"16px"},children:l.getDate()+"/"+(l.getMonth()+1)+"/"+l.getFullYear()+" "+k[d][W(l)]+" / "+z(D,d)})})]})},i=e=>({container:{backgroundColor:s.get("background",e),display:"flex",flexDirection:"column",overflowY:"scroll",justifyContent:"start",alignItems:"center",height:"78vh",paddingTop:"5vh",width:"100vw",fontFamily:"Segoe UI"},panel:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyContent:"start",borderBottom:`1px solid ${s.get("border",e)}`},mainText:{textAlign:"left",fontSize:"10px",color:s.get("mainText",e),marginLeft:"30px",marginBottom:"12px"},subtext:{textAlign:"left",fontSize:"8px",color:s.get("subText",e),marginLeft:"30px",marginBottom:"12px"},calendarHead:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",height:"10%",background:s.get("headGradient",e)},header:{fontFamily:"Segoe UI",padding:"2vw",marginLeft:"6vw",marginRight:"6vw",fontSize:"36px",fontWeight:"bold",color:s.get("subText",e)},table:{border:"5",cellPadding:"5",borderCollapse:"collapse",width:"90%",textAlign:"center"},cell:{boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"13vw",height:"13vw",borderRadius:"12px",fontSize:"14px",fontWeight:"bold",color:s.get("mainText",e),fontFamily:"Segoe UI"}});function x(e){p.prefs[2]==0&&e!==null&&(e.paused||(e.pause(),e.currentTime=0),e.volume=.5,e.play()),p.prefs[3]==0&&Telegram.WebApp.HapticFeedback&&Telegram.WebApp.HapticFeedback.impactOccurred("light")}const z=(e,a)=>e==0?a==0?"нет тренировок":"no trainings":e==1?a==0?"1 тренировка":"1 training":e>1&&e<5?a==0?"2 тренировки":"2 trainings":e+(a==0?" тренировок":" trainings");export{B as default};
