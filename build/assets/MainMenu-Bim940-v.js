import{R as l,A,t as F,l as P,f as W,o as U,p as $,j as t,N as B,C as I,s as O}from"./index-BS3PE0d2.js";/*! Grained.js 
* Author : Sarath Saleem  - https://github.com/sarathsaleem 
* MIT license: http://opensource.org/licenses/MIT 
* GitHub : https://github.com/sarathsaleem/grained 
* v0.0.1 
*/(function(n,e){function C(f,b){function p(s,x,y,i){var h="";h=x.length?x+"{"+y+"}":y,"insertRule"in s?s.insertRule(h,i):"addRule"in s&&s.addRule(x,y,i)}var c=null,u=null,v=null;if(typeof f=="string"&&(c=e.getElementById(f.split("#")[1])),!c)return void console.error("Grained: cannot find the element with id "+f);u=c.id,c.style.position!=="absolute"&&(c.style.position="relative"),c.style.overflow="hidden";var o=["","-moz-","-o-animation-","-webkit-","-ms-"],r={animate:!0,patternWidth:100,patternHeight:100,grainOpacity:.1,grainDensity:1,grainWidth:1,grainHeight:1,grainChaos:.5,grainSpeed:20};Object.keys(b).forEach(function(s){r[s]=b[s]});for(var M=function(){var s=e.createElement("canvas"),x=s.getContext("2d");s.width=r.patternWidth,s.height=r.patternHeight;for(var y=0;y<r.patternWidth;y+=r.grainDensity)for(var i=0;i<r.patternHeight;i+=r.grainDensity){var h=256*Math.random()|0;x.fillStyle="rgba("+[h,h,h,r.grainOpacity].join()+")",x.fillRect(y,i,r.grainWidth,r.grainHeight)}return s.toDataURL("image/png")},w=M(),a="",T=["0%:-10%,10%","10%:-25%,0%","20%:-30%,10%","30%:-30%,30%","40%::-20%,20%","50%:-15%,10%","60%:-20%,20%","70%:-5%,20%","80%:-25%,5%","90%:-30%,25%","100%:-10%,10%"],g=o.length;g--;){a+="@"+o[g]+"keyframes grained{";for(var S=0;S<T.length;S++){var k=T[S].split(":");a+=k[0]+"{",a+=o[g]+"transform:translate("+k[1]+");",a+="}"}a+="}"}var j=e.getElementById("grained-animation");j&&j.parentElement.removeChild(j);var d=e.createElement("style");d.type="text/css",d.id="grained-animation",d.innerHTML=a,e.body.appendChild(d);var D=e.getElementById("grained-animation-"+u);D&&D.parentElement.removeChild(D),d=e.createElement("style"),d.type="text/css",d.id="grained-animation-"+u,e.body.appendChild(d);var m="background-image: url("+w+");";if(m+='position: absolute;content: "";height: 300%;width: 300%;left: -100%;top: -100%;',g=o.length,r.animate)for(;g--;)m+=o[g]+"animation-name:grained;",m+=o[g]+"animation-iteration-count: infinite;",m+=o[g]+"animation-duration: "+r.grainChaos+"s;",m+=o[g]+"animation-timing-function: steps("+r.grainSpeed+", end);";v="#"+u+"::before",p(d.sheet,v,m)}n.grained=C})(window,document);const G=({onPageChange:n})=>{const[e,C]=l.useState("dark"),[f,b]=l.useState(A.prefs[0]),[p,c]=l.useState(0),[u,v]=l.useState(0),[o,r]=l.useState(0),[M,w]=l.useState(!1),[a,T]=l.useState(""),[g,S]=l.useState(""),[k,j]=l.useState(""),[d,D]=l.useState(!1),[m,s]=l.useState(!1);l.useEffect(()=>{const i=F.subscribe(C),h=P.subscribe(L=>{b(L==="ru"?0:1)}),H=W.subscribe(c);return()=>{i.unsubscribe(),h.unsubscribe(),H.unsubscribe()}},[]),l.useEffect(()=>{window.grained("#grain",{animate:!0,grainSize:.05,grainDensity:.2,grainOpacity:.01,grainWidth:.9,grainHeight:.9,grainColor:"#ffffffff"});const i=U.subscribe(T),h=$.subscribe(D);return()=>{i.unsubscribe(),h.unsubscribe()}},[]),l.useEffect(()=>{d&&(s(!1),w(!0))},[d]);const x=i=>{i?r(o+1):v(u+1),u===5&&o===5&&(s(!0),v(0),r(0))},y=i=>{i.length>5&&O(i)};return t.jsxs(t.Fragment,{children:[M&&t.jsxs("div",{style:{position:"absolute",display:"flex",alignItems:"center",flexDirection:"column",top:"10vh",left:"0",width:"100vw",height:"40vh",backgroundColor:"rgba(0,0,0,0.7)",zIndex:1e3},children:[t.jsx("div",{style:{display:"flex",overflowY:"scroll",borderRadius:"12px",width:"85vw",height:"15vh",fontSize:"12px",fontFamily:"Segoe UI",border:"2px solid white",color:"white"},children:a}),t.jsx("textarea",{style:{borderRadius:"12px",width:"85vw",height:"10vh",fontSize:"12px",fontFamily:"Segoe UI",border:"2px solid white",color:"white"},value:k,onChange:i=>j(i.target.value)}),t.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-around"},children:[t.jsx("input",{style:{borderRadius:"12px",width:"50vw",height:"3vh",fontSize:"12px",fontFamily:"Segoe UI",border:"2px solid white",color:"white"},type:"text",onChange:i=>S(i.target.value)}),t.jsx("button",{onClick:()=>B.sendMessage(g,k),children:"Submit"})]}),t.jsx("div",{style:{width:"90%",display:"flex",flexDirection:"row",justifyContent:"space-between"},children:t.jsx("button",{onClick:()=>w(!1),children:"Close console"})})]}),t.jsxs("div",{style:z(e).container,children:[t.jsx("div",{style:{height:"20vh"}}),t.jsx("h2",{style:z(e,p).mainText,onClick:()=>{x(!0)},children:f===0?"Выберите категорию":"Choose category"}),m&&t.jsx("input",{style:{width:"85vw",height:"2vh",fontSize:"12px",borderRadius:"12px",zIndex:1001},type:"password",onChange:i=>y(i.target.value)}),t.jsxs("div",{style:z(e).scrollView,children:[t.jsx(E,{text:["Привычки","Habits"],decr:["Приложение использует научно обоснованные методы формирования привычек, включая теорию петли привычки (Чарльз Дахигг) и 21-дневное правило формирования привычек (Максвелл Мальц).","This app utilizes evidence-based habit formation techniques, including the habit loop theory (Charles Duhigg) and the 21-day rule of habit formation (Maxwell Maltz)."],theme:e,lang:f,fontSize:p,onClick:()=>{n("HabitsMain"),R(null)}}),t.jsx(E,{text:["Тренировочная дневник","Training diary"],decr:["Отслеживайте свой тренировочный прогресс, ставьте цели и анализируйте результаты. Идеальный инструмент для системного подхода к физическому развитию.","Track your workout progress, set goals, and analyze results. The perfect tool for a systematic approach to physical development."],colorDark:"#143113ff",colorLight:"#98f9a0ff",colorSpecialDark:"#26352fff",colorSpecialLight:"#9de074ff",theme:e,lang:f,fontSize:p,onClick:()=>{n("TrainingMain"),R(null)}}),t.jsx(E,{text:["Список задач","Simple task manager"],decr:["Скоро будет доступно","Coming soon"],colorDark:"#4b3f1fff",colorLight:"#ebe58eff",colorSpecialDark:"#36341cff",colorSpecialLight:"#d0e074ff",theme:e,lang:f,fontSize:p,onClick:()=>{R(null)}}),t.jsx(E,{text:["Хорошие новости","Good news"],decr:["Скоро будет доступно","Coming soon"],colorDark:"#3a201bff",colorLight:"#ecae94ff",colorSpecialDark:"#4a2828ff",colorSpecialLight:"#e194c6ff",theme:e,lang:f,fontSize:p,onClick:()=>{R(null)}}),t.jsx("div",{style:{height:"5vh",width:"100%"},onClick:()=>{x(!1)}})]})]})]})};function E({text:n=["Категория","Category"],decr:e=["Скоро будет доступно","Coming soon"],colorDark:C="#122636ff",colorLight:f="#9cccf1ff",colorSpecialDark:b="#1d262dff",colorSpecialLight:p="#45dff4ff",theme:c,lang:u,onClick:v,fontSize:o}){const r=a=>a==="dark"?C:a==="specialdark"?b:a==="speciallight"?p:f,w={alignItems:"start",justifyContent:"start",height:"14vh",borderRadius:"24px",border:`2px solid ${(a=>a==="dark"?"#9099a0ff":a==="specialdark"?"#938b8bff":a==="speciallight"?"#e0b1b1ff":"#8a8e91ff")(c)}`,margin:"10px",backgroundColor:r(c),overflow:"hidden",position:"relative"};return t.jsxs("div",{id:"grain",style:w,onClick:v,children:[t.jsx("h2",{style:z(c,o).cardText,children:Array.isArray(n)?n[u]:n}),t.jsx("p",{style:z(c,o).text,children:Array.isArray(e)?e[u]:e})]})}const z=(n,e)=>({container:{backgroundColor:I.get("background",n),display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",height:"100vh",width:"100vw",fontFamily:"Segoe UI"},mainText:{textAlign:"left",marginBottom:"5px",fontSize:e===0?"14px":"16px",color:I.get("mainText",n)},cardText:{textAlign:"left",marginBottom:"5px",fontSize:e===0?"14px":"16px",color:I.get("mainText",n),marginLeft:"30px"},text:{textAlign:"left",fontSize:e===0?"10px":"12px",color:I.get("subText",n),marginLeft:"30px"},scrollView:{width:"95vw",maxHeight:"90vh",overflowY:"auto",justifyContent:"center",alignItems:"center"}});function R(n){A.prefs[2]==0&&n!==null&&(n.paused||(n.pause(),n.currentTime=0),n.volume=.5,n.play()),A.prefs[3]==0&&Telegram.WebApp.HapticFeedback&&Telegram.WebApp.HapticFeedback.impactOccurred("light")}export{G as default};
