import{R as o,A,t as H,l as L,f as F,i as P,j as e,N as W,C as z,s as U}from"./index-Ct2OsxXV.js";/*! Grained.js 
* Author : Sarath Saleem  - https://github.com/sarathsaleem 
* MIT license: http://opensource.org/licenses/MIT 
* GitHub : https://github.com/sarathsaleem/grained 
* v0.0.1 
*/(function(i,n){function k(d,v){function b(s,t,u,y){var C="";C=t.length?t+"{"+u+"}":u,"insertRule"in s?s.insertRule(C,y):"addRule"in s&&s.addRule(t,u,y)}var a=null,h=null,m=null;if(typeof d=="string"&&(a=n.getElementById(d.split("#")[1])),!a)return void console.error("Grained: cannot find the element with id "+d);h=a.id,a.style.position!=="absolute"&&(a.style.position="relative"),a.style.overflow="hidden";var l=["","-moz-","-o-animation-","-webkit-","-ms-"],r={animate:!0,patternWidth:100,patternHeight:100,grainOpacity:.1,grainDensity:1,grainWidth:1,grainHeight:1,grainChaos:.5,grainSpeed:20};Object.keys(v).forEach(function(s){r[s]=v[s]});for(var S=function(){var s=n.createElement("canvas"),t=s.getContext("2d");s.width=r.patternWidth,s.height=r.patternHeight;for(var u=0;u<r.patternWidth;u+=r.grainDensity)for(var y=0;y<r.patternHeight;y+=r.grainDensity){var C=256*Math.random()|0;t.fillStyle="rgba("+[C,C,C,r.grainOpacity].join()+")",t.fillRect(u,y,r.grainWidth,r.grainHeight)}return s.toDataURL("image/png")},f=S(),x="",I=["0%:-10%,10%","10%:-25%,0%","20%:-30%,10%","30%:-30%,30%","40%::-20%,20%","50%:-15%,10%","60%:-20%,20%","70%:-5%,20%","80%:-25%,5%","90%:-30%,25%","100%:-10%,10%"],c=l.length;c--;){x+="@"+l[c]+"keyframes grained{";for(var j=0;j<I.length;j++){var D=I[j].split(":");x+=D[0]+"{",x+=l[c]+"transform:translate("+D[1]+");",x+="}"}x+="}"}var M=n.getElementById("grained-animation");M&&M.parentElement.removeChild(M);var g=n.createElement("style");g.type="text/css",g.id="grained-animation",g.innerHTML=x,n.body.appendChild(g);var w=n.getElementById("grained-animation-"+h);w&&w.parentElement.removeChild(w),g=n.createElement("style"),g.type="text/css",g.id="grained-animation-"+h,n.body.appendChild(g);var p="background-image: url("+f+");";if(p+='position: absolute;content: "";height: 300%;width: 300%;left: -100%;top: -100%;',c=l.length,r.animate)for(;c--;)p+=l[c]+"animation-name:grained;",p+=l[c]+"animation-iteration-count: infinite;",p+=l[c]+"animation-duration: "+r.grainChaos+"s;",p+=l[c]+"animation-timing-function: steps("+r.grainSpeed+", end);";m="#"+h+"::before",b(g.sheet,m,p)}i.grained=k})(window,document);const O=({onPageChange:i})=>{const[n,k]=o.useState("dark"),[d,v]=o.useState(A.prefs[0]),[b,a]=o.useState(0),[h,m]=o.useState(0),[l,r]=o.useState(!1),[S,f]=o.useState(""),[x,I]=o.useState(""),[c,j]=o.useState(""),[D,M]=o.useState(!1),[g,w]=o.useState(!1);o.useEffect(()=>{const t=H.subscribe(k),u=L.subscribe(y=>{v(y==="ru"?0:1)});return()=>{t.unsubscribe(),u.unsubscribe()}},[]),o.useEffect(()=>{window.grained("#grain",{animate:!0,grainSize:.05,grainDensity:.2,grainOpacity:.01,grainWidth:.9,grainHeight:.9,grainColor:"#ffffffff"});const t=F.subscribe(f),u=P.subscribe(M);return()=>{t.unsubscribe(),u.unsubscribe()}},[]),o.useEffect(()=>{D&&(w(!1),r(!0))},[D]);const p=t=>{t?m(h+1):a(b+1),b===5&&h===5&&(w(!0),a(0),m(0))},s=t=>{t.length>5&&U(t)};return e.jsxs(e.Fragment,{children:[l&&e.jsxs("div",{style:{position:"absolute",display:"flex",alignItems:"center",flexDirection:"column",top:"10vh",left:"0",width:"100vw",height:"40vh",backgroundColor:"rgba(0,0,0,0.7)",zIndex:1e3},children:[e.jsx("div",{style:{display:"flex",overflowY:"scroll",borderRadius:"12px",width:"85vw",height:"15vh",fontSize:"12px",fontFamily:"Segoe UI",border:"2px solid white",color:"white"},children:S}),e.jsx("textarea",{style:{borderRadius:"12px",width:"85vw",height:"10vh",fontSize:"12px",fontFamily:"Segoe UI",border:"2px solid white",color:"white"},value:c,onChange:t=>j(t.target.value)}),e.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-around"},children:[e.jsx("input",{style:{borderRadius:"12px",width:"50vw",height:"3vh",fontSize:"12px",fontFamily:"Segoe UI",border:"2px solid white",color:"white"},type:"text",onChange:t=>I(t.target.value)}),e.jsx("button",{onClick:()=>W.sendMessage(x,c),children:"Submit"})]}),e.jsx("div",{style:{width:"90%",display:"flex",flexDirection:"row",justifyContent:"space-between"},children:e.jsx("button",{onClick:()=>r(!1),children:"Close console"})})]}),e.jsxs("div",{style:T(n).container,children:[e.jsx("div",{style:{height:"20vh"}}),e.jsx("h2",{style:T(n).mainText,onClick:()=>{p(!0)},children:d===0?"Выберите категорию":"Choose category"}),g&&e.jsx("input",{style:{width:"85vw",height:"2vh",fontSize:"12px",borderRadius:"12px",zIndex:1001},type:"password",onChange:t=>s(t.target.value)}),e.jsxs("div",{style:T(n).scrollView,children:[e.jsx(E,{text:["Привычки","Habits"],decr:["Приложение использует научно обоснованные методы формирования привычек, включая теорию петли привычки (Чарльз Дахигг), принципы подкрепления (Б.Ф. Скиннер) и 21-дневное правило формирования привычек (Максвелл Мальц).","This app utilizes evidence-based habit formation techniques, including the habit loop theory (Charles Duhigg), principles of reinforcement (B.F. Skinner), and the 21-day rule of habit formation (Maxwell Maltz)."],theme:n,lang:d,onClick:()=>{i("HabitsMain"),R(null)}}),e.jsx(E,{text:["Тренировочная дневник","Training diary"],decr:["Отслеживайте свой тренировочный прогресс, ставьте цели и анализируйте результаты. Идеальный инструмент для системного подхода к физическому развитию.","Track your workout progress, set goals, and analyze results. The perfect tool for a systematic approach to physical development."],colorDark:"#143113ff",colorLight:"#98f9a0ff",colorSpecialDark:"#26352fff",colorSpecialLight:"#9de074ff",theme:n,lang:d,onClick:()=>{i("TrainingMain"),R(null)}}),e.jsx(E,{text:["Список задач","Simple task manager"],decr:["Скоро будет доступно","Coming soon"],colorDark:"#4b3f1fff",colorLight:"#ebe58eff",colorSpecialDark:"#36341cff",colorSpecialLight:"#d0e074ff",theme:n,lang:d,onClick:()=>{R(null)}}),e.jsx(E,{text:["Хорошие новости","Good news"],decr:["Скоро будет доступно","Coming soon"],colorDark:"#3a201bff",colorLight:"#ecae94ff",colorSpecialDark:"#4a2828ff",colorSpecialLight:"#e194c6ff",theme:n,lang:d,onClick:()=>{R(null)}}),e.jsx("div",{style:{height:"5vh",width:"100%"},onClick:()=>{p(!1)}})]})]})]})};function E({text:i=["Категория","Category"],decr:n=["Скоро будет доступно","Coming soon"],colorDark:k="#122636ff",colorLight:d="#9cccf1ff",colorSpecialDark:v="#1d262dff",colorSpecialLight:b="#45dff4ff",theme:a,lang:h,onClick:m}){const l=f=>f==="dark"?k:f==="specialdark"?v:f==="speciallight"?b:d,S={alignItems:"start",justifyContent:"start",height:"14vh",borderRadius:"24px",border:`2px solid ${(f=>f==="dark"?"#9099a0ff":f==="specialdark"?"#938b8bff":f==="speciallight"?"#e0b1b1ff":"#8a8e91ff")(a)}`,margin:"10px",backgroundColor:l(a),overflow:"hidden",position:"relative"};return e.jsxs("div",{id:"grain",style:S,onClick:m,children:[e.jsx("h2",{style:T(a).cardText,children:Array.isArray(i)?i[h]:i}),e.jsx("p",{style:T(a).text,children:Array.isArray(n)?n[h]:n})]})}const T=i=>({container:{backgroundColor:z.get("background",i),display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",height:"100vh",width:"100vw",fontFamily:"Segoe UI"},mainText:{textAlign:"left",marginBottom:"5px",fontSize:"14px",color:z.get("mainText",i)},cardText:{textAlign:"left",marginBottom:"5px",fontSize:"14px",color:z.get("mainText",i),marginLeft:"30px"},text:{textAlign:"left",fontSize:"10px",color:z.get("subText",i),marginLeft:"30px"},scrollView:{width:"95vw",maxHeight:"90vh",overflowY:"auto",justifyContent:"center",alignItems:"center"}});function R(i){A.prefs[2]==0&&i!==null&&(i.paused||(i.pause(),i.currentTime=0),i.volume=.5,i.play()),A.prefs[3]==0&&Telegram.WebApp.HapticFeedback&&Telegram.WebApp.HapticFeedback.impactOccurred("light")}export{O as default};
