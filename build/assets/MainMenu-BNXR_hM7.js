import{R as o,A as p,t as U,l as E,f as $,o as q,q as B,j as e,N as P,C as u,u as N,v as O,w as V,x as W,y as Y,z as _}from"./index-BQ6JiPKx.js";import{getCurrentCycleAnalysis as G}from"./TrainingAnaliticsMain-DGtiW0v6.js";import"./CartesianChart-I64GiDZo.js";import"./BarChart-B5vHSQUE.js";import"./TrainingAnaliticsTabs-CxwU4Uoa.js";import"./getRadiusAndStrokeWidthFromDot-DaMfu9Jc.js";const se=({onPageChange:t})=>{const[s,C]=o.useState("dark"),[a,j]=o.useState(p.prefs[0]),[c,n]=o.useState(0),[x,v]=o.useState(0),[w,h]=o.useState(0),[k,g]=o.useState(!1),[M,f]=o.useState(""),[l,S]=o.useState(""),[r,d]=o.useState(""),[D,I]=o.useState(!1),[A,T]=o.useState(!1);o.useEffect(()=>{const i=U.subscribe(C),z=E.subscribe(H=>{j(H==="ru"?0:1)}),L=$.subscribe(n);return()=>{i.unsubscribe(),z.unsubscribe(),L.unsubscribe()}},[]),o.useEffect(()=>{const i=q.subscribe(f),z=B.subscribe(I);return()=>{i.unsubscribe(),z.unsubscribe()}},[]),o.useEffect(()=>{D&&(T(!1),g(!0))},[D]);const F=i=>{v(x+1),x===5&&w===5&&(T(!0),v(0),h(0))},R=i=>{i.length>5&&N(i)};return e.jsxs(e.Fragment,{children:[k&&e.jsxs("div",{style:{position:"absolute",display:"flex",alignItems:"center",flexDirection:"column",top:"10vh",left:"0",width:"100vw",height:"40vh",backgroundColor:"rgba(0,0,0,0.7)",zIndex:1e3},children:[e.jsx("div",{style:{display:"flex",overflowY:"scroll",borderRadius:"12px",width:"85vw",height:"15vh",fontSize:"12px",fontFamily:"Segoe UI",border:"2px solid white",color:"white"},children:M}),e.jsx("textarea",{style:{borderRadius:"12px",width:"85vw",height:"10vh",fontSize:"12px",fontFamily:"Segoe UI",border:"2px solid white",color:"white"},value:r,onChange:i=>d(i.target.value)}),e.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-around"},children:[e.jsx("input",{style:{borderRadius:"12px",width:"50vw",height:"3vh",fontSize:"12px",fontFamily:"Segoe UI",border:"2px solid white",color:"white"},type:"text",onChange:i=>S(i.target.value)}),e.jsx("button",{onClick:()=>{l==="TrainingMain"?t("TrainingMain"):P.sendMessage(l,r)},children:"Submit"})]}),e.jsx("div",{style:{width:"90%",display:"flex",flexDirection:"row",justifyContent:"space-between"},children:e.jsx("button",{onClick:()=>g(!1),children:"Close console"})})]}),e.jsxs("div",{style:m(s).container,children:[e.jsx("div",{style:{height:"16vh"}}),A&&e.jsx("input",{style:{width:"85vw",height:"2vh",fontSize:"12px",borderRadius:"12px",zIndex:1001},type:"password",onChange:i=>R(i.target.value)}),e.jsxs("div",{style:m(s).scrollView,children:[e.jsx(b,{text:["Привычки","Habits"],decr:["Приложение использует научно обоснованные методы формирования привычек, включая теорию петли привычки (Чарльз Дахигг) и 21-дневное правило формирования привычек (Максвелл Мальц).","This app utilizes evidence-based habit formation techniques, including the habit loop theory (Charles Duhigg) and the 21-day rule of habit formation (Maxwell Maltz)."],theme:s,lang:a,fontSize:c,onClick:()=>{t("HabitsMain"),y(null)},index:0}),e.jsx(b,{text:["Тренировочный дневник","Training log"],decr:["Отслеживайте свой тренировочный прогресс, ставьте цели и анализируйте результаты. Идеальный инструмент для системного подхода к физическому развитию.","Track your workout progress, set goals, and analyze results. The perfect tool for a systematic approach to physical development."],colorDark:"#44281eff",colorLight:"#f998c375",colorSpecialDark:"#352628ff",colorSpecialLight:"#93292950",theme:s,lang:a,fontSize:c,onClick:()=>{t("TrainingMain"),y(null)},index:1}),e.jsx(b,{text:["Дыхание, медитация и закаливание","Breathing, meditation & cold"],decr:["Дыхательные практики, медитация и закаливание помогают улучшить качество сна и общее самочувствие.","Breathing exercises, meditation, and calming techniques help improve sleep quality and overall well-being."],colorDark:"#355257ff",colorLight:"#8eebd785",colorSpecialDark:"#1c3136ff",colorSpecialLight:"#4573766d",theme:s,lang:a,fontSize:c,onClick:()=>{t("RecoveryMain"),y(null)},index:2}),e.jsx(b,{text:["Ментальный фитнесс","Mental fitness"],decr:["Улучшайте память, внимание и скорость мышления с помощью коротких научно обоснованных тренировок.","Boost memory, focus and thinking speed with short, science-based brain workouts."],colorDark:"#222121ff",colorLight:"#7c7a7966",colorSpecialDark:"#353232ff",colorSpecialLight:"#4a3e3e4b",theme:s,lang:a,fontSize:c,onClick:()=>{t("MentalMain"),y(null)},index:3}),e.jsx(b,{text:["Сон и восстановление","Sleep & Recovery"],decr:["Помогает подобрать нагрузку и время отдыха","Helps balance training load and rest"],colorDark:"#37293eff",colorLight:"#cba1d790",colorSpecialDark:"#382537ff",colorSpecialLight:"#83064550",theme:s,lang:a,fontSize:c,onClick:()=>{t("SleepMain"),y(null)},index:4}),e.jsx("div",{style:{height:"5vh",width:"100%"},onClick:()=>{F()}})]})]})]})};function b({text:t=["Категория","Category"],decr:s=["Скоро будет доступно","Coming soon"],colorDark:C="#294128ff",colorLight:a="#7eff7065",colorSpecialDark:j="#1d2d1dff",colorSpecialLight:c="#2790145c",theme:n,lang:x,onClick:v,fontSize:w,index:h}){const k=r=>r==="dark"?C:r==="specialdark"?j:r==="speciallight"?c:a,g=(r,d)=>{if(r===0)return e.jsx(O,{style:d?l:f});if(r===1)return e.jsx(V,{style:d?l:f});if(r===2)return e.jsx(W,{style:d?l:f});if(r===3)return e.jsx(Y,{style:d?l:f});if(r===4)return e.jsx(_,{style:d?l:f})},M={alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"row",height:"13vh",borderRadius:"28px",margin:"10px",marginBottom:"20px",backgroundColor:k(n),overflow:"hidden",position:"relative",boxShadow:"3px 3px 2px rgba(0,0,0,0.3)"},f={fontSize:"28px",color:u.get("mainText",n)},l={fontSize:"86px",rotate:"-20deg",position:"absolute",right:"-10px",top:"30%",color:u.get("svgColor",n)},S=J(h);return e.jsxs("div",{style:M,onClick:v,children:[S!==""&&e.jsx("div",{style:{display:"flex",flexDirection:"row",width:"15%",height:"22%",backgroundColor:"rgba(50, 50, 50, 0.35)",alignItems:"center",justifyContent:"center",position:"absolute",top:"10%",left:"80%",borderRadius:"12px",fontSize:"16px",color:u.get("mainText",n)},children:S}),g(h,!1),e.jsxs("div",{style:{width:"70%",height:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},children:[e.jsx("h2",{style:m(n,w).cardText,children:Array.isArray(t)?t[x]:t}),e.jsx("p",{style:m(n,w).text,children:Array.isArray(s)?s[x]:s})]}),g(h,!0)]})}const m=(t,s)=>({container:{backgroundColor:u.get("background",t),display:"flex",flexDirection:"column",justifyContent:"start",overflow:"hidden",alignItems:"center",height:"100vh",width:"100vw",fontFamily:"Segoe UI"},mainText:{textAlign:"left",marginBottom:"5px",fontSize:s===0?"14px":"16px",color:u.get("mainText",t)},cardText:{textAlign:"left",marginBottom:"5px",fontSize:s===0?"14px":"16px",color:u.get("mainText",t),marginLeft:"30px"},text:{textAlign:"left",fontSize:s===0?"10px":"12px",color:u.get("subText",t),marginLeft:"30px"},scrollView:{width:"95vw",maxHeight:"90vh",overflowY:"scroll",justifyContent:"center",alignItems:"center"}});function y(t){p.prefs[2]==0,p.prefs[3]==0&&Telegram.WebApp.HapticFeedback&&Telegram.WebApp.HapticFeedback.impactOccurred("light")}function J(t){if(t===0)return p.choosenHabits.length>0?p.choosenHabits.length:"";if(t===1){const s=G().currentTonnage;return s>0?(s/1e3).toFixed(1)+(p.prefs[0]===0?"т":"t"):""}else{if(t===2)return"";if(t===3)return"";if(t===4)return""}}export{se as default};
