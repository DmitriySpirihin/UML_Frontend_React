import{A as R,t as Ce,l as Te,f as Ie,C as r,j as e,bl as ne,bm as He,bB as _e,bC as Oe,bD as Ke,bs as N,bE as Ue,U as Je,p as Qe,s as Xe,br as Ze,bF as et,y as tt}from"./index-CTGIyoo4.js";import{r as i,R as nt}from"./recharts-Bg6K2Pzo.js";import{G as st,a as ot}from"./index-Ct51vCYW.js";import{m as y,s as rt}from"./MentalHelper-2VV67TlC.js";import{B as it}from"./BreathAudio-BrJNN4AB.js";import{M as lt}from"./MentalInput-jPaiV4XI.js";function at(t,o,s){if(t!==1)return["","",!1];const a=y[o]||y[0],{sequence:n}=pt(o,s),x=mt(n),l=n.join(""),c=!!(a.reverseEnabled&&s>=11);return[x,l,c]}const we=["1","2","3","4","5","6","7","8","9","0"],ct=["‚Üê","‚Üë","‚Üí","‚Üì"],dt=[...ct,...we],ut=(t,o)=>(t=Math.ceil(t),o=Math.floor(o),Math.floor(Math.random()*(o-t+1))+t),xt=(t,o,s)=>Math.max(o,Math.min(s,t)),ft=(t,o,s)=>t+(o-t)*s;function gt(t,o){const s=Math.max(0,Math.min(3,t??0)),a=y[s],n=xt((o-1)/19,0,1),x=a.elementsRange[0],l=a.elementsRange[1],c=Math.round(ft(x,l,n)),m=a.charShowMs||600,I=a.retentionDelayMs||2e3;return{sequenceLength:c,charShowMs:m,retentionDelayMs:I,memorizeTimeMs:Math.max(1e3,(a.memorizeTimeSecRange?.[0]||5)*1e3)}}function pt(t,o){const{sequenceLength:s,charShowMs:a,retentionDelayMs:n}=gt(t,o),x=t===0?we:dt,l=[];for(let c=0;c<s;c++){let m;do m=x[ut(0,x.length-1)];while(c>0&&m===l[c-1]);l.push(m)}return{sequence:l,charShowMs:a,retentionDelayMs:n}}function mt(t){return Array.isArray(t)?t.join(" "):""}const Me=(t,o)=>{if(!t)return 1;const s=String(t),a=String(o||""),n=s.length;let x=0;for(let l=0;l<n;l++)a[l]===s[l]&&(x+=1);return 1-x/n};function ht(t,o,s,a,n,x,l){if(t!==1)return 0;const m=[140,200,260,330][o]||140,j=1-Me(n,x),S=Math.min(1+s*.02,1.3),u=Math.min(a/6e3,2),h=j===1?Math.max(1.3-(u-1)*.3,1):1,w=l>=5&&j===1?Math.min(1+.1*Math.min(l/10,4),1.5):1;return Math.round(m*j*S*h*w)}function yt(t,o,s){return t!==1?!1:String(s||"")===String(o||"")}function St(t,o,s){return t!==1?1:Me(o,s)}const ve=3e3,bt=({show:t,type:o,difficulty:s,setShow:a})=>{const[n,x]=i.useState("dark"),[l,c]=i.useState(R.prefs[0]),[m,I]=i.useState(R.prefs[4]),[j,S]=i.useState(600),[u,h]=i.useState(2e3),[w,D]=i.useState(""),[F,E]=i.useState(""),[oe,re]=i.useState(!1),[z,ie]=i.useState(!1),[L,le]=i.useState(!1),[v,q]=i.useState("memorize"),[ae,ce]=i.useState(0),[M,O]=i.useState(!1),[$t,Re]=i.useState(!1),[ze,de]=i.useState(0),[ue,xe]=i.useState(!1),[K,De]=i.useState(1),{initAudio:ke,playRight:Fe,playWrong:Ee}=it(R.prefs[2]===0),[Rt,fe]=i.useState(0),[P,ge]=i.useState(!1),[C,A]=i.useState(0),[B,V]=i.useState(1),[pe,U]=i.useState(0),[p,Pe]=i.useState(""),[me,We]=i.useState(!1),[W,J]=i.useState(0),[he,G]=i.useState(""),[Ye,Le]=i.useState(""),[T,Q]=i.useState(0),[X,H]=i.useState(0),[k,Ge]=i.useState(R.mentalRecords[o]?.[s]||0),[ye,Se]=i.useState(0),[Ne,Z]=i.useState(0);i.useEffect(()=>{if(!z||M||v!=="recall"){D("");return}w==="CC"?E(d=>d.length>0?d.slice(0,-1):""):w===">>>"?be():w.length===1&&E(d=>d.length<p.length?d+w:d),D("")},[w,z,M,v,p.length]),i.useEffect(()=>{!z||M||P||v!=="recall"||F.length===p.length&&be()},[F,p.length,v,z,M,P]),i.useEffect(()=>{let d=null;return oe&&(d=setInterval(()=>Se(f=>f+100),100)),()=>clearInterval(d)},[oe]),i.useEffect(()=>{if(v!=="memorize"||!p||p.length===0)return;const d=p.length,f=j,g=u;if(W<d){const b=setTimeout(()=>J($=>$+1),f);return()=>clearTimeout(b)}else{const b=setTimeout(()=>{q("recall"),ce(Date.now())},g);return()=>clearTimeout(b)}},[v,p,W,j,u]),i.useEffect(()=>{const d=Ce.subscribe(x),f=Te.subscribe(b=>c(b==="ru"?0:1)),g=Ie.subscribe(I);return()=>{d.unsubscribe(),f.unsubscribe(),g.unsubscribe()}},[]),i.useEffect(()=>{if(!L){Z(0);return}const d=Math.ceil(ve/1e3);Z(d);const f=setInterval(()=>{Z(g=>g<=1?(clearInterval(f),qe(),le(!1),0):g-1)},1e3);return()=>clearInterval(f)},[L,ve]),i.useEffect(()=>{if(!P)return;const d=setInterval(()=>{fe(f=>{if(f>=900){clearInterval(d),ge(!1),fe(0);const g=C+T;return A(g),Q(0),E(""),ue?je(g):(V(K),ee(K)),0}return f+100})},100);return()=>clearInterval(d)},[P,C,T,ue,K]),i.useEffect(()=>{if(v!=="memorize"||!p||p.length===0)return;const d=p.length;if(W<d){const f=setTimeout(()=>{J(g=>g+1)},600);return()=>clearTimeout(f)}else{const f=setTimeout(()=>{q("recall"),ce(Date.now())},2e3);return()=>clearTimeout(f)}},[v,p,W]);const qe=()=>{ke(),A(0),V(1),H(0),U(0),E(""),G(""),ee(1),ie(!0),re(!0),Re(!1),Se(0),de(Date.now())},ee=(d=B)=>{const[f,g,b]=at(o,s,d),$=y[s];Pe(g||""),We(b),J(0),q("memorize"),S($.charShowMs),h($.retentionDelayMs),E(""),G(""),De(d+1),xe(!1)},be=()=>{if(v!=="recall")return;const d=me?p.split("").reverse().join(""):p,f=ae>0?Date.now()-ae:0,g=ht(o,s,B,f,d,F,pe),b=St(o,d,F);Ct(b===0?"light":"medium");let $="";b===0?($=Tt(l),H(te=>te+1)):b<.15?$=It(l):$=(l===0?"–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ":"Correct answer: ")+d;const Ve=b===0?r.get("maxValColor",n):b<.15?r.get("difficulty2",n):r.get("minValColor",n);Le(Ve),G($),Q(g),U(te=>yt(o,d,F)?te+1:0),b===0?Fe():Ee(),xe(B>=20),q("feedback"),ge(!0)},Ae=()=>{A(0),V(1),H(0),U(0),E(""),G(""),ee(),de(Date.now())},je=d=>{Be();const f=d>k,g=vt(!1,l,d,X,20,f,!1);re(!1),G(g),O(!0),ie(!1)},Be=()=>{C+T>k&&(Ge(C+T),R.mentalRecords[o][s]=C+T);const d=Date.now(),f=Math.round((d-ze)/1e3);rt(f,C+T>k,o,s,C+T),A(0),Q(0),V(1),H(0)};return e.jsxs("div",{style:_(n,t).container,children:[!z&&!L&&!M&&e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",width:"100%",height:"80%"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:r.get("mainText",n)},children:y[s].level[l]}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"12px",justifyContent:"center",fontSize:"15px",color:r.get("subText",n)},children:y[s].title[l]}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"12px",justifyContent:"center",fontSize:"15px",color:r.get("subText",n)},children:y[s].description[l]}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"12px",justifyContent:"center",fontSize:"15px",color:r.get("mainText",n)},children:(l===0?"–î–ª–∏–Ω–∞: ":"Length: ")+y[s].elementsRange[0]+"‚Äì"+y[s].elementsRange[1]}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"12px",justifyContent:"center",fontSize:"15px",color:r.get("subText",n)},children:l===0?`–ü–æ–∫–∞–∑: ${y[s].charShowMs} –º—Å/—Å–∏–º–≤–æ–ª`:`Flash: ${y[s].charShowMs} ms/char`}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"8px",justifyContent:"center",fontSize:"15px",color:r.get("subText",n)},children:l===0?`–ü–∞—É–∑–∞ –ø–µ—Ä–µ–¥ –æ—Ç–≤–µ—Ç–æ–º: ${y[s].retentionDelayMs} –º—Å`:`Recall delay: ${y[s].retentionDelayMs} ms`}),y[s].reverse&&e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"8px",justifyContent:"center",fontSize:"15px",color:r.get("maxValColor",n),fontStyle:"italic"},children:l===0?"–û–±—Ä–∞—Ç–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫":"Reverse order"}),e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"50px",fontSize:"12px",color:r.get("subText",n)},children:jt(l)})]}),!z&&!L&&!M&&e.jsxs("div",{style:_(n,t).controls,children:[e.jsx(ne,{onClick:()=>{a(!1),O(!1)},style:{fontSize:"60px",color:r.get("close",n)}}),e.jsx(He,{onClick:()=>le(!0),style:{fontSize:"60px",color:r.get("play",n)}}),e.jsx(_e,{onClick:Ae,style:{fontSize:"60px",color:r.get("reload",n)}})]}),!M&&L&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",width:"90%",height:"80%"},children:[e.jsx("div",{style:{fontSize:"10rem",marginTop:"180px",color:r.get("icons",n),fontWeight:"bold",lineHeight:1},children:Ne}),e.jsx("div",{style:{fontSize:"2rem",marginBottom:"80px",textAlign:"center"},children:e.jsx("div",{style:{color:r.get("icons",n),marginBottom:"80px"},children:l===0?"–ü—Ä–∏–≥–æ—Ç–æ–≤—å—Ç–µ—Å—å!":"Get ready!"})})]}),!M&&z&&e.jsxs("div",{style:_(n).playContainer,children:[e.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"86%",borderBottom:`1px solid ${r.get("border",n)}`},children:[e.jsx("div",{style:{display:"flex",flexDirection:"row",marginTop:"6px",width:"60%",gap:"20px",marginRight:"auto"},children:e.jsx(ne,{onClick:()=>je(C+T),style:{fontSize:"25px",color:r.get("close",n)}})}),e.jsxs("div",{style:{display:"flex",marginLeft:"auto",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:r.get("subText",n)},children:[e.jsx(Oe,{}),$e(ye)]})]}),e.jsxs("div",{style:{display:"flex",width:"86%",flexDirection:"row",marginTop:"20px",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:r.get("minValColor",n)},children:[e.jsx(Ke,{}),pe]}),e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:r.get("difficulty",n)},children:B+"/ 20"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:r.get("maxValColor",n)},children:[e.jsx(N,{}),C]})]}),e.jsxs("div",{children:[v==="recall"&&!P&&e.jsx("div",{style:{...se(n,!1),fontSize:"16px"},children:me?l===0?"–ü–æ–≤—Ç–æ—Ä–∏ –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ":"Repeat in reverse":l===0?"–ü–æ–≤—Ç–æ—Ä–∏":"Repeat"}),v==="memorize"&&e.jsxs("div",{style:se(n,!1),children:[W<p.length?p[W]:"‚è≥"," "]}),P&&e.jsxs("div",{style:se(n,!0,Ye),children:[e.jsxs("p",{style:{fontSize:"22px",fontWeight:"bold",color:T>0?r.get("maxValColor",n):r.get("minValColor",n)},children:[T>0&&e.jsx(N,{}),T>0?T:l===0?"–Ω–µ –≤–µ—Ä–Ω–æ":"wrong answer"]}),e.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",color:r.get("mainText",n)},children:he})]})]}),e.jsx("div",{style:{fontSize:"34px",fontWeight:"bold",color:r.get("subText",n),marginTop:"auto"},children:F})]}),!M&&z&&v==="recall"&&e.jsx(lt,{setInput:D,type:o}),M&&e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",width:"100%",height:"80%"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:r.get("maxValColor",n)},children:[e.jsx(N,{}),C]}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:r.get("medium",n)},children:wt(l,ye)}),C>k&&e.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:r.get("medium",n)},children:[e.jsx(Ue,{}),l===0?"–ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥!":"New record!"]}),C<=k&&e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:r.get("subText",n)},children:l===0?"—Ä–µ–∫–æ—Ä–¥: "+k:"record: "+k}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"22px",fontWeight:"bold",color:r.get("mainText",n)},children:s<4?X+" / 20":X}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:r.get("mainText",n)},children:he})]}),M&&e.jsx("div",{style:_(n,t).controls,children:e.jsx(ne,{onClick:()=>{a(!1),O(!1)},style:{fontSize:"60px",color:r.get("close",n)}})})]})},se=(t,o,s)=>({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"95vw",height:"16vh",marginTop:"20px",backgroundColor:r.get("bottomPanel",t),boxShadow:o?"0px 0px 9px 9px"+s:"2px 2px"+r.get("shadow",t),borderRadius:"24px",fontSize:"39px",fontWeight:"bold",color:r.get("mainText",t),alignContent:"center"}),_=(t,o)=>({container:{backgroundColor:r.get("background",t),display:"flex",position:"fixed",flexDirection:"column",alignItems:"center",height:"86vh",transform:o?"translateY(0)":"translateY(100%)",bottom:"0",transition:"transform 0.2s ease-in-out",width:"100vw",fontFamily:"Segoe UI",borderTop:`2px solid ${r.get("border",t)}`,borderTopLeftRadius:"12px",borderTopRightRadius:"12px",zIndex:2e3},controls:{display:"flex",marginTop:"30px",gap:"50px"},playContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",height:"50vh",bottom:"0",width:"100vw"}}),jt=t=>t===0?"–û—Ç–≤–µ—á–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ –±—ã—Å—Ç—Ä–æ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –º–∞–∫—Å–∏–º—É–º –æ—á–∫–æ–≤. –ö–∞–∂–¥–∞—è –æ—à–∏–±–∫–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –º–Ω–æ–∂–∏—Ç–µ–ª—å –ø–æ–¥—Ä—è–¥ –∏–¥—É—â–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤. –ó–∞ –∫–∞–∂–¥—ã–µ 5 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–¥—Ä—è–¥ –º–Ω–æ–∂–∏—Ç–µ–ª—å —Ä–∞—Å—Ç—ë—Ç (–º–∞–∫—Å. √ó1.5). –ù–∞ —Å–ª–æ–∂–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω—É–∂–Ω–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ ‚Äî —Ç—Ä–µ–Ω–∏—Ä—É–π—Ç–µ —Ä–∞–±–æ—á—É—é –ø–∞–º—è—Ç—å!":"Answer correctly and quickly to maximize your score. Every mistake resets your streak multiplier. For every 5 correct answers in a row, the multiplier increases (up to √ó1.5). On harder levels, repeat the sequence in reverse ‚Äî train your working memory under pressure!",vt=(t,o,s,a,n,x,l=!1)=>{const c=Math.round(a/n*100),m=c>=80,I=c>=50&&!m,j={ru:{high:[`üéâ –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! ${a}/${n} (${c}%) ‚Äî –º–æ–ª–æ–¥–µ—Ü!`,`‚ú® –ü–æ—Ç—Ä—è—Å–∞—é—â–µ! –¢—ã —Å–ø—Ä–∞–≤–∏–ª—Å—è –Ω–∞ ${c}%.`,`üî• –¢—ã –Ω–∞–±—Ä–∞–ª(–∞) ${s} –æ—á–∫–æ–≤ ‚Äî —ç—Ç–æ –≤–ø–µ—á–∞—Ç–ª—è–µ—Ç!`,`üöÄ –í–∞—É! ${a}/${n} ‚Äî —Ç—ã –≤ —É–¥–∞—Ä–µ!`,`üíØ –ò–¥–µ–∞–ª—å–Ω–æ! –¢–∞–∫ –¥–µ—Ä–∂–∞—Ç—å! (${c}%)`],moderate:[`üôÇ –•–æ—Ä–æ—à–∞—è –ø–æ–ø—ã—Ç–∫–∞! ${a}/${n} (${c}%).`,"üå± –¢—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏! –ü—Ä–æ–¥–æ–ª–∂–∞–π –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ.",`üìà –ù–∞–±—Ä–∞–Ω–æ ${s} –æ—á–∫–æ–≤. –£–∂–µ –ª—É—á—à–µ!`,`üëç –ü–æ–ª–æ–≤–∏–Ω–∞ –∏ –±–æ–ª—å—à–µ ‚Äî —ç—Ç–æ –ø—Ä–æ–≥—Ä–µ—Å—Å! (${c}%)`,"üí™ –ù–µ–ø–ª–æ—Ö–æ! –° –∫–∞–∂–¥—ã–º —Ä–∞–∑–æ–º –±—É–¥–µ—Ç –ª—É—á—à–µ."],low:["ü§ó –¢—ã —Å—Ç–∞—Ä–∞–ª—Å—è(–ª–∞—Å—å) ‚Äî —ç—Ç–æ –≥–ª–∞–≤–Ω–æ–µ. –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë!","üå± –ù–µ —Å–¥–∞–≤–∞–π—Å—è! –ö–∞–∂–¥–∞—è –ø–æ–ø—ã—Ç–∫–∞ ‚Äî —à–∞–≥ –≤–ø–µ—Ä—ë–¥.","üå§Ô∏è –°–µ–≥–æ–¥–Ω—è –Ω–µ —Ç–≤–æ–π –¥–µ–Ω—å, –Ω–æ –∑–∞–≤—Ç—Ä–∞ –±—É–¥–µ—Ç –ª—É—á—à–µ!",`üéØ –¢—ã –Ω–∞–±—Ä–∞–ª(–∞) ${s} –æ—á–∫–æ–≤. –ü—Ä–æ–¥–æ–ª–∂–∞–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è!`,`üå± –î–∞–∂–µ ${a} –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ ‚Äî —ç—Ç–æ –Ω–∞—á–∞–ª–æ!`],record:[`üèÜüî• –ù–û–í–´–ô –†–ï–ö–û–†–î! ${s} –æ—á–∫–æ–≤ ‚Äî –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!`,`üéâ‚ú® –¢—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª(–∞) –ª–∏—á–Ω—ã–π —Ä–µ–∫–æ—Ä–¥: ${a}/${n} (${c}%)!`,"üåüüí• –î–∞–∂–µ –µ—Å–ª–∏ –±—ã–ª–æ —Ç—Ä—É–¥–Ω–æ ‚Äî —Ç—ã –ø–æ–±–∏–ª(–∞) —Ä–µ–∫–æ—Ä–¥! –ú–æ–ª–æ–¥–µ—Ü!"],relax_any:["üßò‚Äç‚ôÄÔ∏è –û—Ç–ª–∏—á–Ω–æ –ø–æ—Ä–∞–±–æ—Ç–∞–ª(–∞) –≤ —Å–ø–æ–∫–æ–π–Ω–æ–º —Ä–µ–∂–∏–º–µ!",`üåº –¢—ã —Ä–µ—à–∏–ª(–∞) ${n} –∑–∞–¥–∞—á ‚Äî –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞!`,"‚ú® –°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ –∏ –≤–Ω–∏–º–∞–Ω–∏–µ ‚Äî –∑–∞–ª–æ–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞. –ú–æ–ª–æ–¥–µ—Ü!",`üå± ${a} –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ ‚Äî —Ä–æ—Å—Ç –Ω–∞–ª–∏—Ü–æ!`,"üå§Ô∏è –•–æ—Ä–æ—à–∏–π —Ç–µ–º–ø, –±–µ–∑ —Å–ø–µ—à–∫–∏. –¢–∞–∫ –¥–µ—Ä–∂–∞—Ç—å!"],relax_record:["üåü –ù–æ–≤—ã–π –ª–∏—á–Ω—ã–π –º–∞–∫—Å–∏–º—É–º ‚Äî –¥–∞–∂–µ –≤ —Å–ø–æ–∫–æ–π–Ω–æ–º —Ä–µ–∂–∏–º–µ!",`üßò‚Äç‚ôÇÔ∏èüèÜ –¢—ã –Ω–∞–±—Ä–∞–ª(–∞) ${s} –æ—á–∫–æ–≤ –≤ Relax-—Ä–µ–∂–∏–º–µ ‚Äî –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!`,"üí´ –î–∞–∂–µ –±–µ–∑ —Ç–∞–π–º–µ—Ä–∞ ‚Äî —Ç—ã —É–ª—É—á—à–∏–ª(–∞) —Å–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –†–µ—Å–ø–µ–∫—Ç!"]},en:{high:[`üéâ Awesome! ${a}/${n} (${c}%) ‚Äî well done!`,`‚ú® Outstanding! You scored ${c}%.`,`üî• You got ${s} points ‚Äî impressive!`,`üöÄ Wow! ${a}/${n} ‚Äî you‚Äôre on fire!`,`üíØ Perfect! Keep it up! (${c}%)`],moderate:[`üôÇ Good effort! ${a}/${n} (${c}%).`,"üå± You're making progress! Keep going.",`üìà You scored ${s} points. Getting better!`,`üëç More than half right ‚Äî that‚Äôs growth! (${c}%)`,"üí™ Nice try! You‚Äôll do even better next time."],low:["ü§ó You gave it your best ‚Äî that matters most. Try again!","üå± Don‚Äôt give up! Every attempt brings you closer.","üå§Ô∏è Not your best round, but tomorrow‚Äôs a new chance!",`üéØ You earned ${s} points. Keep practicing!`,`üå± Even ${a} correct answers is a start!`],record:[`üèÜüî• NEW RECORD! ${s} points ‚Äî congratulations!`,`üéâ‚ú® You set a personal best: ${a}/${n} (${c}%)!`,"üåüüí• Even on a tough day ‚Äî you broke your record! Amazing!"],relax_any:["üßò‚Äç‚ôÄÔ∏è Great job practicing in Relax Mode!",`üåº You solved ${n} problems ‚Äî wonderful focus!`,"‚ú® Calm and steady wins the race. Well done!",`üå± ${a} correct answers ‚Äî you're growing!`,"üå§Ô∏è A peaceful pace, great accuracy. Keep it up!"],relax_record:["üåü New personal best ‚Äî even in Relax Mode!",`üßò‚Äç‚ôÇÔ∏èüèÜ You scored ${s} points in Relax Mode ‚Äî congrats!`,"üí´ No timer, no stress ‚Äî and still a new record! Amazing!"]}},S=o===0?j.ru:j.en;let u=[];if(l?x?u=[...S.relax_record]:u=[...S.relax_any]:x?u=[...S.record]:m?u=[...S.high]:I?u=[...S.moderate]:u=[...S.low],u.length===0)return o===0?"–•–æ—Ä–æ—à–æ! üòä":"Good job! üòä";const h=Math.floor(Math.random()*u.length);return u[h]};function Ct(t){R.prefs[3]==0&&Telegram.WebApp.HapticFeedback&&Telegram.WebApp.HapticFeedback.impactOccurred(t)}function Tt(t){const a=t===0?["–û—Ç–ª–∏—á–Ω–æ!","–ü—Ä–µ–∫—Ä–∞—Å–Ω–æ!","–í–µ—Ä–Ω–æ!","–¢–æ—á–Ω–æ!","–ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ!","–ò–¥–µ–∞–ª—å–Ω–æ!","–ü—Ä–∞–≤–∏–ª—å–Ω–æ!","–ú–æ–ª–æ–¥–µ—Ü!","–¢–æ—á–Ω–æ –≤ —Ü–µ–ª—å!","–ë–µ–∑ –æ—à–∏–±–æ–∫!"]:["Great!","Perfect!","Yes!","Exactly!","Awesome!","Brilliant!","Spot on!","Well done!","Nailed it!","Correct!"];return a[Math.floor(Math.random()*a.length)]}function It(t){const a=t===0?["–†—è–¥–æ–º!","–ü–æ—á—Ç–∏!","–ï—â–µ —á—É—Ç—å-—á—É—Ç—å!","–ü—Ä–æ–¥–æ–ª–∂–∞–π!","–ü–æ–ø—Ä–æ–±—É–π –µ—â–µ!","–û—á–µ–Ω—å –±–ª–∏–∑–∫–æ!","–•–æ—Ä–æ—à–∞—è –ø–æ–ø—ã—Ç–∫–∞!","–ù–µ —Å–æ–≤—Å–µ–º‚Ä¶","–ü–æ—á—Ç–∏ –ø–æ–ª—É—á–∏–ª–æ—Å—å!","–¢—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏!"]:["Close!","Almost!","Nearly!","Keep going!","Try again!","So close!","Good attempt!","Not quite!","One more try!","You're getting there!"];return a[Math.floor(Math.random()*a.length)]}function $e(t){const o=Math.floor(t/1e3),s=Math.floor(o/60),a=o%60;return`${String(s).padStart(2,"0")}:${String(a).padStart(2,"0")}`}function wt(t,o){const s=$e(o);return t===0?`–í–∞—à–µ –≤—Ä–µ–º—è: ${s}`:`Your time is: ${s}`}const Wt=()=>{const[t,o]=nt.useState("dark"),[s,a]=i.useState(R.prefs[0]),[n,x]=i.useState(R.prefs[4]),[l,c]=i.useState(!1),[m,I]=i.useState(0),[j,S]=i.useState(Je.hasPremium);return i.useEffect(()=>{const u=Qe.subscribe(S);return()=>u.unsubscribe()},[]),i.useEffect(()=>{const u=Ce.subscribe(o),h=Te.subscribe(D=>{a(D==="ru"?0:1)}),w=Ie.subscribe(D=>{x(D)});return()=>{u.unsubscribe(),h.unsubscribe(),w.unsubscribe()}},[]),e.jsxs("div",{style:Y(t).container,children:[e.jsx("div",{style:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyItems:"center"},children:e.jsx("div",{style:{width:"100%",display:"grid",gridTemplateColumns:"1fr 1fr",alignItems:"center",justifyItems:"center"},children:y.map((u,h)=>{const w="difficulty"+h;return e.jsx(Mt,{width:"46vw",difficulty:h,protocol:u,setLevel:I,color:r.get(w,t),theme:t,lang:s,click:()=>{I(h),c(!0)},fSize:n,hasPremium:j,needBlur:h>1},h)})})}),e.jsx(bt,{type:1,difficulty:m,show:l,setShow:c})]})},Y=(t,o)=>({container:{backgroundColor:r.get("background",t),display:"flex",flexDirection:"column",overflowY:"scroll",justifyItems:"center",alignItems:"center",height:"78vh",paddingTop:"5vh",width:"100vw",fontFamily:"Segoe UI"},scrollView:{height:"95%",width:"100%",overflowY:"scroll",display:"flex",flexDirection:"column"},mainText:{textAlign:"left",fontSize:o===0?"15px":"17px",color:r.get("mainText",t)},subtext:{textAlign:"center",fontSize:o===0?"12px":"14px",color:r.get("mainText",t),margin:"2px"},icon:{fontSize:"32px",color:r.get("mainText",t)},simplePanelRow:{width:"75vw",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},cardText:{textAlign:"left",marginBottom:"5px",fontSize:o===0?"14px":"16px",color:r.get("mainText",t),marginLeft:"30px"},text:{textAlign:"left",fontSize:o===0?"10px":"12px",color:r.get("subText",t),marginLeft:"30px"},btn:{width:"70%",height:"40px",borderRadius:"12px",fontSize:o===0?"13px":"14px",color:r.get("mainText",t),backgroundColor:r.get("simplePanel",t)}});function Mt({protocol:t,difficulty:o,click:s,width:a,color:n,theme:x,lang:l,fSize:c,hasPremium:m=!1,needBlur:I=!1}){const j=()=>o===0?e.jsx(Ze,{style:u}):o===1?e.jsx(N,{style:u}):o===2?e.jsx(st,{style:u}):o===3?e.jsx(ot,{style:u}):o===4?e.jsx(et,{style:u}):e.jsx(tt,{style:u}),S={alignItems:"center",justifyContent:"center",display:"flex",width:a,flexDirection:"row",height:"12vh",marginTop:"15px",borderRadius:"24px",backgroundColor:n,overflow:"hidden",position:"relative",boxShadow:"3px 3px 2px rgba(0,0,0,0.3)"},u={fontSize:"86px",rotate:"-20deg",position:"absolute",right:"-10px",top:"30%",color:r.get("svgColor",x)};return e.jsxs("div",{style:S,onClick:s,children:[!m&&I&&e.jsxs("div",{onClick:h=>{h.stopPropagation()},style:{position:"absolute",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",width:"100%",height:"100%",left:"0",top:"0",backdropFilter:"blur(8px)",zIndex:2},children:[e.jsxs("div",{style:{...Y(x,c).mainText},children:[" ",l===0?"–ü—Ä–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è":"Pro category"," "]}),e.jsxs("div",{style:{...Y(x,c).mainText},children:[" ",l===0?"üëë–ø—Ä–µ–º–∏—É–ºüëë":"üëëpremiumüëë"," "]}),e.jsx("button",{onClick:()=>{Xe("premium")},style:{...Y(x,c).btn},children:l===0?"–°—Ç–∞—Ç—å –ø—Ä–µ–º–∏—É–º":"Get premium"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"65%",height:"22%",alignItems:"center",justifyContent:"flex-end",position:"absolute",top:"5%",left:"30%",fontWeight:"bold",fontSize:"16px",color:r.get("maxValColor",x)},children:[e.jsx(N,{})," ",R.mentalRecords[1][o]]}),e.jsxs("div",{style:{width:"90%",height:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},children:[e.jsx("h2",{style:Y(x,c).cardText,children:t.level[l]}),e.jsx("p",{style:Y(x,c).text,children:t.title[l]})]}),j()]})}export{Wt as default};
