import{R as h,r as c,A as b,t as Y,l as A,j as n,C as s}from"./index-X4SQyl1Z.js";const I=e=>(e.getDay()+6)%7;new Audio("Audio/Click.wav");const R=()=>{const[e,a]=h.useState("dark"),[d,y]=c.useState(b.prefs[0]),[r,f]=c.useState(new Date),[i,m]=c.useState(r),[j,z]=c.useState(0);h.useEffect(()=>{const t=Y.subscribe(a);return()=>t.unsubscribe()},[]),h.useEffect(()=>{const t=A.subscribe(g=>{y(g==="ru"?0:1)});return()=>t.unsubscribe()},[]);const D=new Date(r.getFullYear(),r.getMonth(),1),w=new Date(r.getFullYear(),r.getMonth()+1,0).getDate(),M=(D.getDay()+6)%7,S=[["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]],v=[["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]],l=[],p=[];for(let t=0;t<M;t++)l.push(null);for(let t=1;t<=w;t++)l.push(t);for(let t=0;t<l.length;t+=7)p.push(l.slice(t,t+7));const k=()=>{f(new Date(r.getFullYear(),r.getMonth()-1)),x()},C=()=>{f(new Date(r.getFullYear(),r.getMonth()+1)),x()};return n.jsxs("div",{style:o(e).container,children:[n.jsxs("div",{style:o(e).panel,children:[n.jsxs("div",{style:o(e).calendarHead,children:[n.jsx("h1",{style:o(e).header,children:r.getFullYear()+"/"+(r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1)}),n.jsx("div",{onClick:k,children:n.jsx("h1",{style:o(e).header,children:"<"})}),n.jsx("div",{onClick:C,children:n.jsx("h1",{style:o(e).header,children:">"})})]}),n.jsxs("table",{style:o(e).table,children:[n.jsx("thead",{children:n.jsx("tr",{children:S[d].map(t=>n.jsx("th",{children:n.jsx("p",{style:{textAlign:"center",fontSize:"12px",color:t==="Вс"||t==="Sun"?"#873535ff":s.get("subText",e)},children:t})},t))})}),n.jsx("tbody",{children:p.map((t,g)=>n.jsx("tr",{children:t.map((u,F)=>{const T=u===i.getDate()&&r.getMonth()===i.getMonth()&&r.getFullYear()===i.getFullYear();return n.jsx("td",{children:n.jsx("div",{style:{...o(e).cell,border:`3px solid ${T?s.get("currentDateBorder",e):s.get("background",e)}`,backgroundColor:s.get("background",e)},onClick:()=>{m(new Date(r.getFullYear(),r.getMonth(),u)),x()},children:u})},F)})},g))})]})]}),n.jsx("div",{style:{height:"15vh"},children:n.jsx("h1",{style:{...o(e).subtext,fontSize:"16px"},children:i.getDate()+"/"+(i.getMonth()+1)+"/"+i.getFullYear()+" "+v[d][I(i)]+" / "+W(j,d)})})]})},o=e=>({container:{backgroundColor:s.get("background",e),display:"flex",position:"absolute",flexDirection:"column",overflowY:"scroll",justifyContent:"start",alignItems:"center",height:"78vh",top:"15vh",width:"100vw",fontFamily:"Segoe UI"},panel:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyContent:"start",borderBottom:`1px solid ${s.get("border",e)}`},mainText:{textAlign:"left",fontSize:"10px",color:s.get("mainText",e),marginLeft:"30px",marginBottom:"12px"},subtext:{textAlign:"left",fontSize:"8px",color:s.get("subText",e),marginLeft:"30px",marginBottom:"12px"},calendarHead:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",height:"10%",background:s.get("headGradient",e)},header:{fontFamily:"Segoe UI",padding:"2vw",marginLeft:"6vw",marginRight:"6vw",fontSize:"36px",fontWeight:"bold",color:s.get("subText",e)},table:{border:"5",cellPadding:"5",borderCollapse:"collapse",width:"90%",textAlign:"center"},cell:{boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"13vw",height:"13vw",borderRadius:"12px",fontSize:"14px",fontWeight:"bold",color:s.get("mainText",e),fontFamily:"Segoe UI"}});function x(e){b.prefs[3]==0&&Telegram.WebApp.HapticFeedback&&Telegram.WebApp.HapticFeedback.impactOccurred("light")}const W=(e,a)=>e==0?a==0?"нет тренировок":"no trainings":e==1?a==0?"1 тренировка":"1 training":e>1&&e<5?a==0?"2 тренировки":"2 trainings":e+(a==0?" тренировок":" trainings");export{R as default};
