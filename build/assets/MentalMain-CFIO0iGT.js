import{A as a,t as v,l as w,f as F,j as e,C as n,m as f,b as p,bz as S,i as j}from"./index-KTyEKXlP.js";import{r as x}from"./recharts-k8ghPecL.js";const z=()=>{const[i,t]=x.useState("dark"),[o,r]=x.useState(a.prefs[0]),[c,s]=x.useState(a.prefs[4]);x.useEffect(()=>{const d=v.subscribe(t),b=w.subscribe(h=>{r(h==="ru"?0:1)}),m=F.subscribe(h=>{s(h)});return()=>{d.unsubscribe(),b.unsubscribe(),m.unsubscribe()}},[]);const g=[{id:0,icon:"âš¡",title:o===0?"Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‡Ñ‘Ñ‚":"Mental Math",subtitle:o===0?"Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ Ð¸ Ñ‚Ð¾Ñ‡Ð½Ð¾ÑÑ‚ÑŒ":"Speed & Accuracy",color:"#4DFF88",action:()=>p("MentalMath")},{id:1,icon:"ðŸ§ ",title:o===0?"ÐŸÐ°Ð¼ÑÑ‚ÑŒ":"Memory",subtitle:o===0?"N-back Ð¸ Ð¿Ð¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸":"N-back & Sequences",color:"#FF4D4D",action:()=>p("MentalMemory")},{id:2,icon:"ðŸ§©",title:o===0?"Ð›Ð¾Ð³Ð¸ÐºÐ°":"Logic",subtitle:o===0?"ÐŸÐ°Ñ‚Ñ‚ÐµÑ€Ð½Ñ‹ Ð¸ Ð·Ð°Ð´Ð°Ñ‡Ð¸":"Patterns & Puzzles",color:"#00E5FF",action:()=>p("MentalLogic")},{id:3,icon:"ðŸŽ¯",title:o===0?"Ð¤Ð¾ÐºÑƒÑ":"Focus",subtitle:o===0?"Ð’Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ Ð¸ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ":"Attention & Control",color:"#FFD700",action:()=>p("MentalFocus")}],u={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.09}}},y={hidden:{opacity:0,y:15,scale:.98},show:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:300,damping:25}}};return e.jsxs("div",{style:l(i).container,children:[e.jsx("div",{style:{height:"16vh"}}),e.jsxs("div",{style:l(i).scrollView,children:[e.jsx(f.div,{variants:u,initial:"hidden",animate:"show",style:l(i).grid,children:g.map((d,b)=>e.jsx(C,{item:d,theme:i,variants:y,fSize:c,record:k(b)},d.id))}),e.jsx("div",{style:{height:"10vh",width:"100%"}}),e.jsx("img",{src:"images/Math.png",style:{position:"absolute",top:"70%",left:"60%",width:"130px",zIndex:10,filter:"drop-shadow(0 5px 5px rgba(0,0,0,0.3))"},alt:"Mascot"})]})]})};function C({item:i,theme:t,variants:o,fSize:r,record:c}){const s=t==="dark",g={position:"relative",width:"100%",height:"80px",display:"flex",alignItems:"center",padding:"0 20px",boxSizing:"border-box",borderRadius:"24px",overflow:"hidden",marginBottom:"12px",backgroundColor:s?n.get("simplePanel",t)+"99":"#FFFFFF",backdropFilter:s?"blur(40px)":"none",border:`1px solid ${s?n.get("border",t)+"30":"#E5E7EB"}`,boxShadow:s?"0 8px 20px 0 rgba(0, 0, 0, 0.4), inset 0 1px 1px 0 rgba(255, 255, 255, 0.1)":"0 4px 10px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02)"},u={width:"48px",height:"48px",borderRadius:"16px",display:"flex",fontSize:"28px",alignItems:"center",justifyContent:"center",marginRight:"16px",flexShrink:0,backgroundColor:s?n.get("background",t)+"80":n.get("background",t),color:i.color,border:s?"1px solid rgba(255,255,255,0.05)":"1px solid rgba(0,0,0,0.03)"};return e.jsxs(f.div,{variants:o,whileTap:{scale:.97},onClick:i.action,style:g,children:[e.jsx("div",{style:u,children:i.icon}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",flexGrow:1,overflow:"hidden"},children:[e.jsx("h4",{style:{...l(t,r).title,color:n.get("mainText",t),margin:0,fontWeight:s?"900":"700"},children:i.title}),e.jsx("div",{style:{...l(t,r).subtitle,color:n.get("subText",t),opacity:s?.6:.8,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:i.subtitle})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",marginLeft:"8px"},children:[c>0&&e.jsxs("div",{style:{padding:"4px 10px",backgroundColor:s?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)",borderRadius:"12px",fontSize:"13px",fontWeight:"700",color:n.get("maxValColor",t),marginRight:"8px",display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(S,{size:10}),c]}),e.jsx(j,{size:14,color:n.get("subText",t),style:{opacity:.3}})]})]})}const k=i=>{if(!a.mentalRecords||!a.mentalRecords[i])return 0;let t=0;for(let o=0;o<4;o++){const r=a.mentalRecords[i][o];r>t&&(t=r)}return t},l=(i,t)=>({container:{backgroundColor:n.get("background",i),display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",height:"100vh",width:"100vw",fontFamily:"Segoe UI",overflow:"hidden"},scrollView:{width:"100vw",maxHeight:"90vh",overflowY:"scroll",display:"flex",flexDirection:"column",alignItems:"center"},grid:{width:"92%",display:"flex",flexDirection:"column",gap:"4px",marginTop:"15px"},title:{fontFamily:"Segoe UI",fontSize:t===0?"19px":"21px",letterSpacing:"0.2px"},subtitle:{fontFamily:"Segoe UI",fontWeight:"500",fontSize:t===0?"12px":"14px",marginTop:"2px"}});export{z as default};
