import{j as t,C as r,A as m,t as E,l as O,f as W,bd as ie,F as re,b3 as ae,U as le,p as ce,b1 as de,s as ge}from"./index-CUP0QnDy.js";import{h as H,P as xe,i as ue,C as pe,L as he,j as fe,k as ye,l as me,m as be,T as Z,n as je,r as f,R as ee,o as we,p as ve,B as Se,q as Ce,X as Te,Y as Re,s as U}from"./recharts-Bg6K2Pzo.js";import{V as De}from"./TrainingAnaliticsTabs-uXUS7VKa.js";const X=Math.PI/180,q=[["–õ—ë–≥–∫–∞—è","Light"],["–°—Ä–µ–¥–Ω—è—è","Medium"],["–¢—è–∂—ë–ª–∞—è","Heavy"]];function Me({data:e,theme:n,totalTonnage:s,sessionCount:o,langIndex:a=0}){const i=e.reduce((d,c)=>d+c.value,0),x=(s/1e3).toFixed(1),l=a===0?`${x} —Ç`:`${x} t`,g=a===0?`${o} ${ke(o)}`:`${o} workout${o!==1?"s":""}`,h=e.map((d,c)=>({...d,name:q[c]?.[a]||`Group ${c+1}`,percent:i>0?d.value/i:0})),p=({cx:d,cy:c,midAngle:y,outerRadius:u,percent:w,index:M})=>{if(w<=0)return null;const I=u+24,R=d+I*Math.cos(-y*X),L=c+I*Math.sin(-y*X),D=`${q[M]?.[a]}  ${(w*100).toFixed(0)}%`,j=D.length*6;return t.jsxs("g",{children:[t.jsx("rect",{x:R-j/2,y:L-11,width:j,height:22,rx:11,ry:11,fill:"rgba(0,0,0,0.2)"}),t.jsx("text",{x:R,y:L+1,textAnchor:"middle",dominantBaseline:"central",fill:r.get("icons",n),fontSize:11,fontWeight:500,style:{pointerEvents:"none"},children:D})]})};return t.jsx(H,{width:400,height:260,className:"donut-chart",children:t.jsx(xe,{children:t.jsxs(ue,{data:h,dataKey:"value",nameKey:"name",innerRadius:"50%",outerRadius:"80%",paddingAngle:2,label:p,labelLine:!1,stroke:r.get("linesColor",n),strokeWidth:1,children:[e.map((d,c)=>t.jsx(pe,{fill:c===0?r.get("light",n):c===1?r.get("medium",n):r.get("heavy",n)},`cell-${c}`)),t.jsx(he,{position:"center",content:({viewBox:d})=>{const c=typeof d?.cx=="number"?d.cx:140,y=typeof d?.cy=="number"?d.cy:120;return t.jsxs("g",{children:[t.jsx("text",{x:c+60,y:y-4,textAnchor:"middle",dominantBaseline:"central",fill:r.get("maxValColor",n),fontSize:"36",fontWeight:"600",children:l}),t.jsx("text",{x:c+60,y:y+26,textAnchor:"middle",dominantBaseline:"central",fill:r.get("subText",n),fontSize:"15",children:g})]})}})]})})})}function ke(e){return e%10===1&&e%100!==11?"—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞":[2,3,4].includes(e%10)&&![12,13,14].includes(e%100)?"—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏":"—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫"}function Ie({theme:e,langIndex:n,muscleLoadData:s}){return t.jsx(H,{width:"90%",height:280,className:"muscle-load-chart",children:t.jsxs(fe,{data:s,outerRadius:"70%",children:[t.jsx(ye,{gridType:"polygon",stroke:r.get("icons",r.theme),strokeOpacity:.5}),t.jsx(me,{dataKey:"muscle",tickLine:!1,axisLine:!1,tick:{fill:r.get("icons",e),fontSize:11}}),t.jsx(be,{stroke:r.get("icons",e),tick:{fill:"#9ca3af",fontSize:8},axisLine:!1,tickLine:!1,domain:[0,100]}),t.jsx(Z,{cursor:!1,formatter:o=>[`${o}%`,"–ù–∞–≥—Ä—É–∑–∫–∞"],labelFormatter:o=>`–ú—ã—à—Ü–∞: ${o}`,contentStyle:{backgroundColor:r.get("bottomPanel",e),border:`1px solid ${r.get("border",e)}`,borderRadius:8,padding:"6px 10px",fontSize:"11px"},labelStyle:{color:r.get("mainText",e),fontWeight:"bold"},itemStyle:{color:r.get("subText",e)}}),t.jsx(je,{name:"–ù–∞–≥—Ä—É–∑–∫–∞",dataKey:"load",stroke:r.get("radarBorder",e),fill:r.get("radar",e),fillOpacity:.45})]})})}const Le=[["7 –¥–Ω–µ–π","7 days"],["–º–µ—Å—è—Ü","month"],["—Ç—Ä–∏ –º–µ—Å—è—Ü–∞","three months"]],te=[7,28,84],$e=()=>{const e=Object.keys(m.trainingLog||{});if(e.length===0)return new Date;const n=e.reduce((s,o)=>new Date(s)>new Date(o)?s:o);return new Date(n)},N=[{id:0,name:["–ì—Ä—É–¥—å","Chest"],category:"upper"},{id:1,name:["–ü–ª–µ—á–∏","Shoulders"],category:"upper"},{id:2,name:["–®–∏—Ä–æ—á–∞–π—à–∏–µ","Lats"],category:"upper"},{id:3,name:["–ë–∏—Ü–µ–ø—Å","Biceps"],category:"upper"},{id:4,name:["–¢—Ä–∏—Ü–µ–ø—Å","Triceps"],category:"upper"},{id:5,name:["–¢—Ä–∞–ø–µ—Ü–∏–∏","Traps"],category:"upper"},{id:6,name:["–ù–∏–∂–Ω—è—è —Å–ø–∏–Ω–∞","Lower Back"],category:"upper"},{id:7,name:["–ü—Ä–µ—Å—Å","Abs"],category:"core"},{id:8,name:["–ü—Ä–µ–¥–ø–ª–µ—á—å—è","Forearms"],category:"upper"},{id:9,name:["–ö–≤–∞–¥—Ä–∏—Ü–µ–ø—Å","Quads"],category:"lower"},{id:10,name:["–ë–∏—Ü–µ–ø—Å –±–µ–¥—Ä–∞","Hamstrings"],category:"lower"},{id:11,name:["–Ø–≥–æ–¥–∏—Ü—ã","Glutes"],category:"lower"},{id:12,name:["–ò–∫—Ä—ã","Calves"],category:"lower"}],ne=(e,n,s=null)=>{const o=s||$e(),a=new Date(o);a.setDate(a.getDate()-e);const i=a.getTime(),x=13,l={};N.forEach((c,y)=>{l[c.id]=y});const g=new Array(x).fill(0),h=.7,p=.3;for(const[c,y]of Object.entries(m.trainingLog||{}))if(!(new Date(c).getTime()<i)){for(const w of y)if(w?.completed)for(const[M,I]of Object.entries(w.exercises)){const R=I.totalTonnage||0;if(R<=0)continue;const L=parseInt(M,10),D=m.exercises?.[L];if(!D)continue;const j=D.mgId,v=Array.isArray(D.addMgIds)?D.addMgIds.filter(T=>T!==j&&T>=0&&T<13):[];if(Number.isInteger(j)&&l.hasOwnProperty(j)){const T=l[j];g[T]+=R*h}if(v.length>0){const T=R*p/v.length;for(const C of v)if(l.hasOwnProperty(C)){const k=l[C];g[k]+=T}}}}const d=Math.max(...g);return d===0?N.map(c=>({muscle:c.name[n],load:0,mgId:c.id})):N.map((c,y)=>({muscle:c.name[n],load:Math.round(g[y]/d*100),mgId:c.id}))},ze=({currentData:e,langIndex:n,theme:s})=>{if(!e||e.length===0||e.every(u=>u.load===0)){const u=n===0?"–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.":"Not enough data for analysis.";return t.jsx("div",{style:{fontSize:"10px",color:r.get("subText",s),marginTop:4,padding:"8px 12px",backgroundColor:r.get("bottomPanel",s),borderRadius:"8px",border:`1px solid ${r.get("border",s)}`,textAlign:"center",width:"100%",maxWidth:"400px"},children:u})}if(Math.max(...e.map(u=>u.load))===0)return null;const a=85,i=25,x=e.filter(u=>u.load>=a).map(u=>u.muscle),l=e.filter(u=>u.load<=i&&u.load>0).map(u=>u.muscle),g=e.filter(u=>u.load===0).map(u=>u.muscle);let h="",p="‚úÖ",d=r.get("bottomPanel",s),c=r.get("border",s),y=r.get("mainText",s);if(n===0)if(x.length===0&&l.length===0&&g.length===0)h="–í–∞—à–∞ –Ω–∞–≥—Ä—É–∑–∫–∞ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∞. –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞!",d="rgba(33, 150, 243, 0.15)",c="rgba(33, 150, 243, 0.4)",y="#2196f3";else{const u=[];x.length>0&&u.push(`–í—ã —Å–∏–ª—å–Ω–æ –Ω–∞–≥—Ä—É–∂–∞–µ—Ç–µ: ${x.join(", ")}.`),l.length>0&&u.push(`–°–ª–∞–±–æ –Ω–∞–≥—Ä—É–∂–µ–Ω—ã: ${l.join(", ")}.`),g.length>0&&g.length<=5&&u.push(`–ù–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞–ª–∏—Å—å: ${g.join(", ")}.`),h=u.join(" "),x.length>0&&(l.length>0||g.length>0)&&(h+=" –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã."),p="‚ö†Ô∏è",d="rgba(255, 152, 0, 0.15)",c="rgba(255, 152, 0, 0.4)",y="#ff9800"}else if(x.length===0&&l.length===0&&g.length===0)h="Your training is well-balanced. Great job!",d="rgba(33, 150, 243, 0.15)",c="rgba(33, 150, 243, 0.4)",y="#2196f3";else{const u=[];x.length>0&&u.push(`You heavily train: ${x.join(", ")}.`),l.length>0&&u.push(`Under-trained: ${l.join(", ")}.`),g.length>0&&g.length<=5&&u.push(`Not trained: ${g.join(", ")}.`),h=u.join(" "),x.length>0&&(l.length>0||g.length>0)&&(h+=" Consider balancing your program."),p="‚ö†Ô∏è",d="rgba(255, 152, 0, 0.15)",c="rgba(255, 152, 0, 0.4)",y="#ff9800"}return t.jsxs("div",{style:{fontSize:"10px",color:y,marginTop:4,padding:"8px 12px",backgroundColor:d,borderRadius:"8px",border:`1px solid ${c}`,display:"flex",alignItems:"flex-start",gap:"8px",transition:"all 0.2s ease",cursor:"default",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",width:"100%",maxWidth:"400px"},children:[t.jsx("span",{style:{fontWeight:"bold",fontSize:"14px",lineHeight:"1"},children:p}),t.jsx("span",{style:{flex:1,lineHeight:"1.4"},children:h})]})},Ae=(e,n)=>({textToggles:{display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",padding:"8px 0",width:"100%",maxWidth:"400px",userSelect:"none"}}),Pe=()=>{const[e,n]=f.useState("dark"),[s,o]=f.useState(m.prefs[0]),[a,i]=f.useState(m.prefs[4]),[x,l]=f.useState(0);f.useEffect(()=>{const p=E.subscribe(n),d=O.subscribe(y=>o(y==="ru"?0:1)),c=W.subscribe(i);return()=>{p.unsubscribe(),d.unsubscribe(),c.unsubscribe()}},[]);const[g,h]=f.useState([]);return f.useEffect(()=>{const p=te[x];h(ne(p,s))},[x,s]),t.jsxs("div",{style:{width:"100%",display:"flex",height:"90%",alignItems:"center",justifyContent:"space-around",flexDirection:"column",padding:"0 8px"},children:[t.jsx("div",{style:Ae().textToggles,children:Le.map(([p,d],c)=>t.jsxs(ee.Fragment,{children:[t.jsx("span",{onClick:()=>l(c),style:{padding:"6px 8px",cursor:"pointer",fontSize:x===c?a===0?"12px":"14px":a===0?"10px":"12px",fontWeight:x===c?"600":"400",color:x===c?r.get("mainText",e):r.get("subText",e),opacity:x===c?1:.8,transition:"all 0.2s ease"},children:s===0?p:d}),c<2&&t.jsx("span",{style:{margin:"0 6px",color:r.get("border",e),fontSize:a===0?"12px":"14px"},children:"|"})]},c))}),t.jsx(Ie,{theme:e,langIndex:s,muscleLoadData:g}),t.jsx(ze,{currentData:g,langIndex:s,theme:e}),t.jsx("div",{style:{fontSize:"10px",color:r.get("subText",e),marginTop:4},children:s===0?"–ó–∞–≥—Ä—É–∑–∫–∞ –º—ã—à—Ü –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥":"Muscle load for selected period"}),t.jsx(Fe,{theme:e,langIndex:s,period:x})]})},Fe=({theme:e,langIndex:n,period:s=0})=>{const o=m.pData.gender,a=o===0?"images/BodyIcons/Full.png":"images/BodyIcons/Fullf.png",[i,x]=f.useState({});f.useEffect(()=>{const h=te[s]||7,p=ne(h,n),d={};p.forEach(c=>{d[c.mgId]=c.load}),x(d)},[s,n]);const l=h=>h>=80?"#ff5252":h>=40?"#ff9800":h>=5?"#4caf50":"#354356ff",g=Array.from({length:13},(h,p)=>p);return t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"45vw",margin:"2%"},children:[t.jsxs("div",{style:{position:"relative",width:"40vw",height:"40vw"},children:[t.jsx("img",{src:a,style:{width:"100%",height:"100%",objectFit:"cover"},alt:"Body base"}),g.map(h=>{const p=i[h]??0,d=ie[o]?.[h];if(!d||typeof d!="function")return console.warn(`Missing or invalid SVG component for muscle group ${h}, gender ${o}`),null;const c=l(p);return t.jsx(d,{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",color:c,opacity:p===0?.3:1,pointerEvents:"none"}},`muscle-${h}`)})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"6px",fontSize:"8px",color:r.get("subText",e),flexWrap:"wrap",justifyContent:"center"},children:[t.jsxs("span",{children:["üî¥ ",n===0?"–ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞":"Overtrained"]}),t.jsxs("span",{children:["üü° ",n===0?"–ù–æ—Ä–º–∞":"Trained"]}),t.jsxs("span",{children:["üü¢ ",n===0?"–°–ª–∞–±–æ":"Under-trained"]})]})]})};function Ee({values:e,height:n=42,color:s="#a53429ff"}){if(!e||e.length===0)return null;const o=e.map((a,i)=>({index:i+1,value:a}));return t.jsx("div",{style:{width:"100%",height:n},children:t.jsx(H,{width:"100%",height:"100%",className:"mini-chart",children:t.jsx(we,{data:o,margin:{top:2,right:2,bottom:2,left:2},children:t.jsx(ve,{type:"monotone",dataKey:"value",stroke:s,strokeWidth:3,dot:!1,isAnimationActive:!1})})})})}function Oe({data:e,langIndex:n,height:s=200,colorTon:o,colorRm:a,colorStroke:i,colorToolTip:x,colorFont:l}){const[g,h]=f.useState(!0),[p,d]=f.useState(!0);return e?.length?t.jsxs("div",{style:{width:"100%",marginRight:"8%",height:"40%",justifyContent:"center",alignContent:"center"},children:[t.jsx("div",{style:{width:"100%",height:s,marginRight:"10px"},children:t.jsx(H,{width:"100%",height:"100%",className:"myChart",children:t.jsxs(Se,{data:e,margin:{top:4,right:12,left:0,bottom:16},children:[t.jsx(Ce,{strokeDasharray:"3 3",stroke:i,vertical:!1}),t.jsx(Te,{dataKey:"date",tickLine:!1,axisLine:!1,fontSize:11}),t.jsx(Re,{tickLine:!1,axisLine:!1,fontSize:11}),t.jsx(Z,{contentStyle:{backgroundColor:x,borderRadius:"12px",width:"100px",border:"1px solid "+i,fontSize:"14px",color:l},formatter:(c,y,u,w)=>w===1?[c*10,y]:[c,y]}),g&&t.jsx(U,{dataKey:"tonnage",name:n===0?"–¢–æ–Ω–Ω–∞–∂, –∫–≥":"Tonnage, kg",fill:o,radius:[3,3,0,0],maxBarSize:22}),p&&t.jsx(U,{dataKey:"oneRepMax",name:n===0?"1–†–ú, –∫–≥":"1RM, kg",fill:a,radius:[3,3,0,0],maxBarSize:22})]})})}),t.jsxs("div",{style:{display:"flex",marginLeft:"8%",flexDirection:"row",alignContent:"center",justifyContent:"space-around"},children:[t.jsx("div",{onClick:()=>h(c=>!c),style:{color:g?o:i,fontSize:"12px",border:g?"1px solid "+o:"1px solid "+i,borderRadius:"12px",width:"100px"},children:"–¢–æ–Ω–Ω–∞–∂"}),t.jsx("div",{onClick:()=>d(c=>!c),style:{color:p?a:i,fontSize:"12px",border:p?"1px solid "+a:"1px solid "+i,borderRadius:"12px",width:"100px"},children:"1RM"})]})]}):null}const We=({startValue:e=50,endValue:n=70,mediumValue:s=60,unit:o="kg",langIndex:a=0,size:i=120,textColor:x="#acbac3ff",linesColor:l="#34495e",minColor:g="#e74c3c",maxColor:h="#2ecc71",mediumcolor:p="#3498db",baseColor:d="#95a5a6"})=>{const c=n>e,y=n-e,u=n===e,w=c?"+":u?"":"-",M=c?"‚ÜóÔ∏è":u?"‚ûñ":"‚ÜòÔ∏è",I=l,R=c?g:h,L=p,D=c?h:g,j=i/2,v=7,T=v/2,C=j-v/2,k=C-T-v/2,z=k-T-v/2,A=2*Math.PI*C,$=2*Math.PI*k,F=2*Math.PI*z,P=Math.max(e,s,n)*1.1;return t.jsxs("div",{style:{display:"inline-block",width:i,height:i},children:[t.jsxs("svg",{width:i,height:i,viewBox:`0 0 ${i} ${i}`,style:{transform:"rotate(-90deg)"},children:[t.jsx("circle",{cx:j,cy:j,r:C,fill:"none",stroke:I,strokeWidth:v}),t.jsx("circle",{cx:j,cy:j,r:C,fill:"none",stroke:R,strokeWidth:v,strokeDasharray:A,strokeDashoffset:A*(1-e/P),strokeLinecap:"round"}),t.jsx("circle",{cx:j,cy:j,r:k,fill:"none",stroke:I,strokeWidth:v}),t.jsx("circle",{cx:j,cy:j,r:k,fill:"none",stroke:L,strokeWidth:v,strokeDasharray:$,strokeDashoffset:$*(1-s/P),strokeLinecap:"round"}),t.jsx("circle",{cx:j,cy:j,r:z,fill:"none",stroke:I,strokeWidth:v}),t.jsx("circle",{cx:j,cy:j,r:z,fill:"none",stroke:D,strokeWidth:v,strokeDasharray:F,strokeDashoffset:F*(1-n/P),strokeLinecap:"round"})]}),t.jsxs("div",{style:{position:"relative",top:`-${i}px`,width:`${i}px`,height:`${i}px`,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:x,fontSize:"12px",fontWeight:"bold",lineHeight:1.2},children:[t.jsxs("div",{style:{fontSize:"14px",opacity:.8,color:R},children:[a===0?"–ù–∞—á–∞–ª–æ:":"Start:"," ",Number.isInteger(e)?e:e.toFixed(2)," ",o]}),t.jsxs("div",{style:{fontSize:"24px",marginTop:"4px",display:"flex",alignItems:"center",color:c?h:u?x:g,gap:"4px"},children:[M,t.jsxs("span",{children:[w,Math.abs(y.toFixed())," ",o]})]}),t.jsxs("div",{style:{fontSize:"14px",color:D,marginTop:"4px"},children:[a===0?"–ö–æ–Ω–µ—Ü:":"End:"," ",Number.isInteger(n)?n:n.toFixed(2)," ",o]}),t.jsxs("div",{style:{fontSize:"10px",color:L,marginTop:"4px"},children:[a===0?"–°—Ä–µ–¥–Ω–µ–µ:":"Medium:"," ",Number.isInteger(s)?s:s.toFixed(2)," ",o]})]})]})},Be=({max:e})=>{const[n,s]=f.useState("dark"),[o,a]=f.useState(m.prefs[0]),[i,x]=f.useState(m.prefs[4]),[l,g]=f.useState(m.pData.goal);return f.useEffect(()=>{const h=E.subscribe(s),p=O.subscribe(c=>{a(c==="ru"?0:1)}),d=W.subscribe(c=>{x(c)});return()=>{h.unsubscribe(),p.unsubscribe(),d.unsubscribe()}},[]),t.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",width:"98%"},children:[t.jsx("div",{style:{...b(n,i).text,marginTop:"70px"},children:o===0?"–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –≤–∞—Å":"Personal recomendations"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",borderRadius:"12px",justifyContent:"flex-start",alignItems:"center",height:"50%",width:"100%",alignSelf:"center",border:"1px solid "+r.get("maxValColor",n)},children:[t.jsxs("div",{style:{...b(n,i).simplePanelRow},children:[t.jsx("div",{style:{...b(n,i).subtext,width:"20%",height:"20px",alignContent:"center",borderRight:"1px solid "+r.get("border",n)},children:o===0?"–¶–µ–ª—å":"Goal"}),t.jsx("div",{style:{...b(n,i).subtext,width:"40%",height:"20px",alignContent:"center",borderRight:"1px solid "+r.get("border",n)},children:o===0?"–í–µ—Å-–ø–æ–≤—Ç–æ—Ä—ã":"Weight-reps"}),t.jsx("div",{style:{...b(n,i).subtext,width:"20%",height:"20px",alignContent:"center",borderRight:"1px solid "+r.get("border",n)},children:o===0?"–û—Ç–¥—ã—Ö":"Rest"}),t.jsx("div",{style:{...b(n,i).subtext,width:"20%",height:"20px",alignContent:"center",borderRight:"1px solid "+r.get("border",n)},children:o===0?"–í–æ—Å—Å—Ç–∞–Ω–æ–≤.":"Recovery"})]}),l===1&&t.jsxs("div",{style:{...b(n,i).simplePanelRow,border:l===0?"2px solid "+r.get("maxValColor",n):"none"},children:[t.jsx("div",{style:{...b(n,i).text,width:"20%",height:"20px",alignContent:"center",borderRight:"1px solid "+r.get("border",n)},children:o===0?"–°–∏–ª–∞":"Strength"}),t.jsx("div",{style:{...b(n,i).text,width:"40%",height:"20px",alignContent:"center",borderRight:"1px solid "+r.get("border",n)},children:`${Math.round(e*.85)} - ${Math.round(e*.95)} ${o===0?"–∫–≥":"kg"} / 3-6 ${o===0?"–ø–æ–≤—Ç.":"reps"}`}),t.jsx("div",{style:{...b(n,i).text,width:"20%",height:"20px",alignContent:"center",borderRight:"1px solid "+r.get("border",n)},children:o===0?"3-5–º–∏–Ω":"3-5min"}),t.jsx("div",{style:{...b(n,i).text,width:"20%",height:"20px",alignContent:"center",borderRight:"1px solid "+r.get("border",n)},children:o===0?"72—á":"72h"})]}),l===0&&t.jsxs("div",{style:{...b(n,i).simplePanelRow,border:l===1?"2px solid "+r.get("maxValColor",n):"none"},children:[t.jsx("div",{style:{...b(n,i).text,width:"20%",height:"20px",alignContent:"center",borderRight:"1px solid "+r.get("border",n)},children:o===0?"–ù–∞–±–æ—Ä":"Gain"}),t.jsx("div",{style:{...b(n,i).text,width:"40%",height:"20px",alignContent:"center",borderRight:"1px solid "+r.get("border",n)},children:`${Math.round(e*.68)} - ${Math.round(e*.82)} ${o===0?"–∫–≥":"kg"} / 10-12 ${o===0?"–ø–æ–≤—Ç.":"reps"}`}),t.jsx("div",{style:{...b(n,i).text,width:"20%",height:"20px",alignContent:"center",borderRight:"1px solid "+r.get("border",n)},children:o===0?"1.5-2–º–∏–Ω":"1.5-2min"}),t.jsx("div",{style:{...b(n,i).text,width:"20%",height:"20px",alignContent:"center",borderRight:"1px solid "+r.get("border",n)},children:o===0?"48—á":"48h"})]}),l===2&&t.jsxs("div",{style:{...b(n,i).simplePanelRow,border:l===2?"2px solid "+r.get("maxValColor",n):"none"},children:[t.jsx("div",{style:{...b(n,i).text,width:"20%",height:"20px",alignContent:"center",borderRight:"1px solid "+r.get("border",n)},children:o===0?"–°—É—à–∫–∞":"Drying"}),t.jsx("div",{style:{...b(n,i).text,width:"40%",height:"20px",alignContent:"center",borderRight:"1px solid "+r.get("border",n)},children:`${Math.round(e*.5)} - ${Math.round(e*.65)} ${o===0?"–∫–≥":"kg"} / 14-20+ ${o===0?"–ø.":"r."}`}),t.jsx("div",{style:{...b(n,i).text,width:"20%",height:"20px",alignContent:"center",borderRight:"1px solid "+r.get("border",n)},children:o===0?"30-60—Å–µ–∫":"30-60sec"}),t.jsx("div",{style:{...b(n,i).text,width:"20%",height:"20px",alignContent:"center",borderRight:"1px solid "+r.get("border",n)},children:o===0?"24-48—á":"24-48h"})]}),l===3&&t.jsxs("div",{style:{...b(n,i).simplePanelRow,border:l===2?"2px solid "+r.get("maxValColor",n):"none"},children:[t.jsx("div",{style:{...b(n,i).text,width:"20%",height:"20px",alignContent:"center",borderRight:"1px solid "+r.get("border",n)},children:o===0?"–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ":"Maintenance"}),t.jsx("div",{style:{...b(n,i).text,width:"40%",height:"20px",alignContent:"center",borderRight:"1px solid "+r.get("border",n)},children:`${Math.round(e*.6)} - ${Math.round(e*.7)} ${o===0?"–∫–≥":"kg"} / 10-14 ${o===0?"–ø.":"r."}`}),t.jsx("div",{style:{...b(n,i).text,width:"20%",height:"20px",alignContent:"center",borderRight:"1px solid "+r.get("border",n)},children:o===0?"1-2–º–∏–Ω":"1-2min"}),t.jsx("div",{style:{...b(n,i).text,width:"20%",height:"20px",alignContent:"center",borderRight:"1px solid "+r.get("border",n)},children:o===0?"72—á":"72h"})]})]})]})},b=(e,n)=>({text:{fontSize:n===0?"13px":"15px",color:r.get("mainText",e),marginBottom:"5px"},subtext:{fontSize:n===0?"11px":"13px",color:r.get("subText",e)},icon:{fontSize:"14px",color:r.get("icons",e),marginRight:"18px"},simplePanelRow:{width:"100%",height:"50px",display:"flex",flexDirection:"row",alignItems:"center",borderBottom:"1px solid "+r.get("border",e)}}),G=[["–º–µ—Å—è—Ü","month"],["–ø–æ–ª –≥–æ–¥–∞","half year"],["–≥–æ–¥","year"]],He=({id:e,closePanel:n})=>{const[s,o]=f.useState("dark"),[a,i]=f.useState(m.prefs[0]),[x,l]=f.useState(m.prefs[4]),[g,h]=f.useState(0),p=[28,180,360],[d,c]=f.useState([]);return f.useEffect(()=>{const y=E.subscribe(o),u=O.subscribe(M=>{i(M==="ru"?0:1)}),w=W.subscribe(M=>{l(M)});return()=>{y.unsubscribe(),u.unsubscribe(),w.unsubscribe()}},[]),f.useEffect(()=>{const y=p[g];c(Ge(e,y))},[e,g]),t.jsxs("div",{style:B(s).container,children:[t.jsx(Oe,{langIndex:a,data:d,colorTon:r.get("heavy",s),colorRm:r.get("light",s),colorStroke:r.get("icons",s),colorToolTip:r.get("background",s),colorFont:r.get("mainText",s)}),t.jsx(_e,{theme:s,period:g,setPeriod:h,langIndex:a,fSize:x}),d.length>0&&t.jsx(We,{startValue:d[0].oneRepMax,endValue:d[d.length-1].oneRepMax,mediumValue:Ye(d),unit:"kg",langIndex:a,size:195,textColor:r.get("mainText",s),linesColor:r.get("linesColor",s),minColor:r.get("minValColor",s),maxColor:r.get("maxValColor",s),mediumcolor:r.get("choosenColor",s),baseColor:r.get("background",s)}),d.length>0&&t.jsx(Be,{max:d[d.length-1].oneRepMax}),t.jsxs("div",{onClick:()=>n(),style:{display:"flex",width:"100%",alignSelf:"center",marginTop:"auto",justifyContent:"center",backgroundColor:r.get("heavy",s),alignItems:"center"},children:[t.jsx("div",{style:B(s).text,children:a===0?"–∫ —Å–ø–∏—Å–∫—É":"to list"}),t.jsx(re,{style:{...B(s).icon,fontSize:"14px",marginLeft:"14px"}})]})]})},Ne=()=>{const e=Object.keys(m.trainingLog||{});if(e.length===0)return new Date;const n=e.reduce((s,o)=>new Date(s)>new Date(o)?s:o);return new Date(n)},Ge=(e,n)=>{if(!m.trainingLog||!m.exercises[e])return[];const s=Ne(),o=new Date(s);o.setDate(o.getDate()-n);const a=o.getTime(),i={};for(const[l,g]of Object.entries(m.trainingLog))if(!(new Date(l).getTime()<a))for(const p of g){if(!p.completed)continue;const d=p.exercises?.[e];if(!d||!Array.isArray(d.sets))continue;let c=0,y=0;for(const u of d.sets){if(typeof u.reps!="number"||typeof u.weight!="number"||u.reps<=0||u.weight<=0)continue;c+=u.weight*u.reps;const w=u.weight*(1+u.reps/30);w>y&&(y=w)}(c>0||y>0)&&(i[l]||(i[l]={date:l,tonnage:0,oneRepMax:0}),i[l].tonnage+=c,y>i[l].oneRepMax&&(i[l].oneRepMax=y))}return Object.values(i).sort((l,g)=>new Date(l.date)-new Date(g.date)).map(l=>({date:l.date,tonnage:Math.round(l.tonnage/10),oneRepMax:Math.round(l.oneRepMax)}))},Ye=e=>e.length===0?0:e.reduce((s,o)=>s+o.oneRepMax,0)/e.length,B=(e,n)=>({container:{position:"fixed",display:"flex",flexDirection:"column",justifyContent:"flex-start",overflowY:"scroll",overflowX:"hidden",alignItems:"center",width:"100vw",height:"168vw",top:"14%",backgroundColor:r.get("bottomPanel",e),zIndex:2},select:{width:"65%",height:"40px",padding:"10px",marginTop:"10px",alignSelf:"center",color:r.get("mainText",e),backgroundColor:r.get("background",e),fontSize:"15px",borderTop:"none",borderLeft:"none",borderRight:"none",borderBottom:`1px solid ${r.get("icons",e)}`},panelRow:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginTop:"10px",gap:"10px"},text:{textAlign:"left",fontSize:"15px",color:r.get("mainText",e)},subtext:{textAlign:"left",fontSize:"13px",color:r.get("subText",e)},icon:{fontSize:"18px",color:r.get("icons",e)},textToggles:{display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",padding:"8px 0",width:"100%",maxWidth:"400px",userSelect:"none"}}),_e=({theme:e,period:n,setPeriod:s,langIndex:o,fSize:a})=>t.jsx("div",{style:B(e).textToggles,children:[{key:0,label:G[0][o]},{key:1,label:G[1][o]},{key:2,label:G[2][o]}].map(({key:i,label:x})=>t.jsxs("span",{onClick:()=>s(i),style:{padding:"6px 8px",cursor:"pointer",fontSize:n===i?a===0?"12px":"14px":a===0?"10px":"12px",fontWeight:n===i?"600":"400",color:n===i?r.get("mainText",e):r.get("subText",e),opacity:n===i?1:.8,transition:"all 0.2s ease"},children:[x,i<2&&t.jsx("span",{style:{margin:"0 10px",color:r.get("border",e),fontSize:a===0?"13px":"15px"},children:"|"})]},i))}),Ke=()=>{const[e,n]=f.useState("dark"),[s,o]=f.useState(m.prefs[0]),[a,i]=f.useState(m.prefs[4]),[x,l]=f.useState(!1),[g,h]=f.useState(-1);return f.useEffect(()=>{const p=E.subscribe(n),d=O.subscribe(y=>o(y==="ru"?0:1)),c=W.subscribe(i);return()=>{p.unsubscribe(),d.unsubscribe(),c.unsubscribe()}},[]),t.jsxs("div",{style:{width:"100%",display:"flex",height:"90%",alignItems:"center",justifyContent:"flex-start",flexDirection:"column"},children:[Object.entries(m.exercises).filter(([p,d])=>d.rm>0&&d.show).map(([p,d])=>t.jsxs("div",{onClick:()=>{h(p),l(!0)},style:V(e,a).card,children:[t.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"70%"},children:[t.jsx("div",{style:V(e,a).text,children:d.name[s]}),t.jsxs("div",{style:{fontSize:"16px",textAlign:"left",color:r.get("light",e)},children:[`1${s===0?"–†–ú: ":"RM: "}${d.rm}`,t.jsx("span",{style:{fontSize:"12px",marginLeft:"24px",textAlign:"left",color:Q(p,e)},children:Xe(p)})]}),t.jsx("div",{style:{fontSize:"12px",marginLeft:"4px",textAlign:"left",color:r.get("subText",e)},children:d.rmDate})]}),t.jsx("div",{style:{backgroundColor:"rgba(0,0,0,0.1)",borderRadius:"10px",width:"30%",marginRight:"5px",height:"60%"},children:t.jsx(Ee,{values:oe(p),color:Q(p,e)})}),t.jsx("div",{style:{width:"10%",height:"70%",borderRadius:"50%",overflow:"hidden",alignContent:"center",justifyItems:"center"},children:ae.getForList(d.mgId,s,e)})]},p)),x&&t.jsx(He,{id:g,closePanel:()=>l(!1)})]})},Ue=()=>{const e=Object.keys(m.trainingLog||{});if(e.length===0)return new Date;const n=e.reduce((s,o)=>new Date(s)>new Date(o)?s:o);return new Date(n)},se=(e,n=28)=>{const s=Ue(),o=new Date(s);o.setDate(s.getDate()-n);const a=o.getTime(),i=[];for(const[x,l]of Object.entries(m.trainingLog||{})){const g=new Date(x);if(!(g.getTime()<a))for(const h of l){if(!h.completed)continue;const p=h.exercises?.[e];if(!(!p||!Array.isArray(p.sets))){for(const d of p.sets)if(d.reps>0&&d.weight>0){const c=d.weight*(1+d.reps/30);i.push({date:g,weight:d.weight,reps:d.reps,estimated1RM:c,timestamp:g.getTime()})}}}}return i.sort((x,l)=>x.timestamp-l.timestamp)},oe=e=>{const n=se(e,28);if(n.length===0)return[0];const s=n.slice(-6).map(o=>o.estimated1RM);return s.length===1?[s[0],s[0]]:s},Xe=e=>{const n=m.exercises?.[e]?.rm||0;if(n<=0)return"";const s=se(e,365);if(s.length===0)return"";const a=Math.max(...s.map(x=>x.estimated1RM))-n,i=Math.round(a);return i===0?"":`${i>0?"‚ñ¥":"‚ñæ"} ${Math.abs(i)}`},Q=(e,n)=>{const s=oe(e);if(s.length<2||s.every(i=>i===0))return r.get("subText",n);const o=s[0],a=s[s.length-1];return a>o*1.02?r.get("light",n):a<o*.98?r.get("heavy",n):r.get("medium",n)},V=(e,n)=>({card:{display:"flex",flexDirection:"row",alignItems:"center",backgroundColor:r.get("bottomPanel",e),boxShadow:`2px 2px 6px ${r.get("shadow",e)}`,justifyContent:"flex-start",width:"95vw",height:"20vw",marginBottom:"10px"},text:{textAlign:"left",fontSize:n===0?"13px":"15px",color:r.get("mainText",e),marginBottom:"4px"},subtext:{textAlign:"left",fontSize:n===0?"11px":"13px",color:r.get("subText",e),marginBottom:"4px"}}),it=()=>{const[e,n]=f.useState("dark"),[s,o]=f.useState(m.prefs[0]),[a,i]=f.useState(m.prefs[4]),[x,l]=ee.useState("volume"),[g,h]=f.useState(le.hasPremium),[p,d]=f.useState(new Date),[c,y]=f.useState(0),[u,w]=f.useState(0),[M,I]=f.useState([{value:0},{value:0},{value:0}]),[R,L]=f.useState(0),[D,j]=f.useState(0),[v,T]=f.useState(!1);return f.useEffect(()=>{const C=E.subscribe(n),k=O.subscribe($=>o($==="ru"?0:1)),z=W.subscribe(i),A=ce.subscribe(h);return()=>{C.unsubscribe(),k.unsubscribe(),z.unsubscribe(),A.unsubscribe()}},[]),f.useEffect(()=>{const C=Je(),{currentCycle:k,targetTonnage:z,currentTonnage:A}=C,$=qe();let F=0,P=0,Y=0;k.forEach(_=>{const K=_.tonnage/(_.duration/6e4);K<$.min?F++:K<=$.max?P++:Y++}),y(C.targetTonnage),w(C.progressPercent),I([{value:F},{value:P},{value:Y}]),L(A),j(k.length)},[]),t.jsxs("div",{style:S(e).container,children:[t.jsx(De,{type:0,theme:e,langIndex:s,activeTab:x,onChange:l}),x==="volume"&&t.jsxs("div",{style:{width:"100%",display:"flex",height:"90%",alignItems:"center",justifyContent:"space-around",flexDirection:"column"},children:[t.jsx("div",{style:{...S(e,a).text,marginTop:"20px"},children:s===0?"–¢–µ–∫—É—â–∏–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π —Ü–∏–∫–ª":"Current training cycle"}),Object.keys(m.trainingLog).length>1?t.jsx(Me,{data:M,theme:e,totalTonnage:R,sessionCount:D,langIndex:s}):t.jsx("div",{style:S(e).panelRow,children:t.jsx("div",{style:S(e,a).text,children:s===0?"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö":"No data"})}),t.jsx(et,{theme:e,langIndex:s,totalTonnage:R,targetTonnage:c,progressPercent:u}),t.jsx(Ze,{theme:e,langIndex:s})]}),x==="muscles"&&t.jsxs("div",{style:{width:"100%",display:"flex",height:"90%",alignItems:"center",justifyContent:"space-around",flexDirection:"column"},children:[t.jsxs("div",{style:{...S(e,a).text,marginTop:"20px"},children:[s===0?"–ó–∞–≥—Ä—É–∑–∫–∞ –º—ã—à–µ—á–Ω—ã—Ö –≥—Ä—É–ø–ø":"Muscle load",t.jsx(de,{onClick:()=>T(!0),style:{...S(e,a).icon,marginLeft:"10px"}})]}),t.jsx(Pe,{})]}),x==="exercises"&&t.jsx("div",{style:{width:"100%",display:"flex",height:"90%",alignItems:"center",justifyContent:"space-around",flexDirection:"column"},children:t.jsx(Ke,{})}),!g&&t.jsxs("div",{onClick:C=>C.stopPropagation(),style:{position:"absolute",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100vw",height:"170vw",top:"15.5%",borderRadius:"24px",backdropFilter:"blur(12px)",zIndex:2},children:[t.jsx("p",{style:{...S(e,a).text,textAlign:"center"},children:s===0?"–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ üìä":"Detailed training statistics üìä"}),t.jsx("p",{style:{...S(e,a).text,textAlign:"center"},children:s===0?"–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫":"Personal recommendations based on your trainings"}),t.jsx("p",{style:{...S(e,a).text,textAlign:"center"},children:s===0?"–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è—Ö, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –Ω–µ–¥–µ–ª—å–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –∏ –¥–æ—Å—Ç–∏–≥–∞–π—Ç–µ —Ü–µ–ª–µ–π –±—ã—Å—Ç—Ä–µ–µ!":"Track your exercise progress, analyze weekly workload, and hit your goals faster!"}),t.jsx("p",{style:{...S(e,a).text,textAlign:"center"},children:s===0?"‚ú® –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ Premium, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ!":"‚ú® Upgrade to Premium for full access to advanced analytics!"}),t.jsx("p",{style:{...S(e,a).text},children:s===0?"üëë –¢–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–µ–º–∏—É–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π üëë":"üëë Only for premium users üëë"}),t.jsx("button",{onClick:()=>ge("premium"),style:{...S(e,a).btn,margin:"10px"},children:s===0?"–°—Ç–∞—Ç—å –ø—Ä–µ–º–∏—É–º":"Get premium"})]}),v&&t.jsx("div",{onClick:()=>T(!1),style:{width:"100vw",top:0,height:"100vh",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9e3,backgroundColor:"rgba(0,0,0,0.6)"},children:t.jsxs("div",{style:{width:"90%",height:"50%",backgroundColor:r.get("background",e),borderRadius:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[t.jsx("div",{style:{...S(e,a).text,margin:"10px",whiteSpace:"pre-wrap"},children:tt(s)}),t.jsx("div",{style:{...S(e,a).subtext,margin:"10px",textAlign:"center"},children:s===0?"!–Ω–∞–∂–º–∏ —á—Ç–æ–±—ã –∑–∞–∫—Ä—ã—Ç—å!":"!tap to close!"})]})})]})},S=(e,n)=>({container:{display:"flex",width:"100vw",flexDirection:"column",overflowY:"scroll",overflowX:"hidden",justifyContent:"flex-start",alignItems:"center",backgroundColor:r.get("background",e),height:"78vh",top:"16vh",paddingTop:"10px"},select:{width:"65%",height:"40px",padding:"10px",marginTop:"10px",alignSelf:"center",color:r.get("mainText",e),backgroundColor:r.get("background",e),fontSize:n===0?"13px":"15px",borderTop:"none",borderLeft:"none",borderRight:"none",borderBottom:`1px solid ${r.get("icons",e)}`},panelRow:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginTop:"10px",gap:"10px"},text:{textAlign:"left",fontSize:n===0?"13px":"15px",color:r.get("mainText",e)},subtext:{textAlign:"left",fontSize:n===0?"11px":"13px",color:r.get("subText",e)},icon:{fontSize:"18px",color:r.get("icons",e)}});function qe(){const e=Object.values(m.trainingLog).flat().filter(l=>l?.completed&&l.tonnage>0&&l.duration>0);if(e.length===0)return{min:0,max:0};const n=e.map(l=>l.tonnage/(l.duration/6e4)),s=n.reduce((l,g)=>l+g,0)/n.length,o=n.reduce((l,g)=>l+Math.pow(g-s,2),0)/n.length,a=Math.sqrt(o),i=Math.max(0,s-.5*a),x=s+.5*a;return{min:i,max:x}}function J(){const e=Object.values(m.trainingLog).flat().filter(i=>i?.completed&&typeof i.tonnage=="number"&&i.tonnage>0);if(e.length===0)return 0;const n=e.map(i=>i.tonnage).sort((i,x)=>i-x),s=Math.floor(n.length/2);let o;return n.length%2===0?o=(n[s-1]+n[s])/2:o=n[s],o*1.05}function Qe(){const e=[];for(const[s,o]of Object.entries(m.trainingLog)){const a=Array.isArray(o)?o:Object.values(o);for(const i of a)i?.completed&&i.tonnage>0&&i.duration>0&&e.push({...i,dateKey:s,date:new Date(s)})}if(e.sort((s,o)=>s.date-o.date),e.length===0)return[];const n=e[e.length-1].programId;return e.filter(s=>s.programId===n)}function Ve(e){if(e.length===0)return{currentCycle:[],lastFullCycle:[]};if(e.every(i=>i.dayIndex===e[0].dayIndex))return e.length===1?{currentCycle:[e[0]],lastFullCycle:[]}:{currentCycle:[e[e.length-1]],lastFullCycle:[e[e.length-2]]};const s=[];let o=[],a=-1;for(const i of e)i.dayIndex<=a&&o.length>0&&(s.push(o),o=[]),o.push(i),a=i.dayIndex;return o.length>0&&s.push(o),s.length===1?{currentCycle:s[0],lastFullCycle:[]}:{currentCycle:s[s.length-1],lastFullCycle:s[s.length-2]}}function Je(){const e=Qe(),{currentCycle:n,lastFullCycle:s}=Ve(e),o=n.reduce((l,g)=>l+g.tonnage,0),a=s.reduce((l,g)=>l+g.tonnage,0),i=a>0?a*1.05:0,x=i>0?Math.min(100,o/i*100):0;return{currentCycle:n,lastFullCycle:s,currentTonnage:o,targetTonnage:i,progressPercent:x}}function Ze({theme:e,langIndex:n}){const s=n===0?`–ê–Ω–∞–ª–∏–∑ —Ü–∏–∫–ª–∞ –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫.

–¶–∏–∫–ª –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
‚Äî –î–ª—è –ø—Ä–æ–≥—Ä–∞–º–º —Å –æ–¥–Ω–∏–º –¥–Ω—ë–º ‚Äî –∫–∞–∂–¥—ã–π —Å–µ–∞–Ω—Å —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º —Ü–∏–∫–ª–æ–º.
‚Äî –î–ª—è –ø—Ä–æ–≥—Ä–∞–º–º —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –¥–Ω—è–º–∏ ‚Äî —Ü–∏–∫–ª –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –¥–µ–Ω—å –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å–ª–µ –î–Ω—è 2 –∏–¥—ë—Ç –î–µ–Ω—å 0).

–û–±—ä—ë–º —Ü–∏–∫–ª–∞ = —Å—É–º–º–∞ —Ç–æ–Ω–Ω–∞–∂–∞ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π –≤ —Ü–∏–∫–ª–µ.

–¶–µ–ª—å = –æ–±—ä—ë–º –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ √ó 1.05 (—Ä–æ—Å—Ç –Ω–∞ 5%).

–ü—Ä–æ–≥—Ä–µ—Å—Å = (—Ç–µ–∫—É—â–∏–π –æ–±—ä—ë–º / —Ü–µ–ª—å) √ó 100%, –Ω–æ –Ω–µ –±–æ–ª–µ–µ 100%.

–¢–æ–Ω–Ω–∞–∂ –æ–¥–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ = –≤–µ—Å √ó –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è.
–û–±—â–∏–π —Ç–æ–Ω–Ω–∞–∂ = —Å—É–º–º–∞ —Ç–æ–Ω–Ω–∞–∂–∞ –≤—Å–µ—Ö –ø–æ–¥—Ö–æ–¥–æ–≤.`:`Cycle analysis is based on your latest training program.

Cycle detection works as follows:
‚Äî For single-day programs: each session is treated as its own cycle.
‚Äî For multi-day programs: a cycle ends when the program day resets (e.g., after Day 2 comes Day 0 again).

Cycle volume = total tonnage of all sessions in the current cycle.

Target = volume of the last complete cycle √ó 1.05 (5% increase).

Progress = (current volume / target) √ó 100%, capped at 100%.

Set tonnage = weight √ó reps.
Total tonnage = sum of all set tonnages.`;return t.jsx("div",{style:{...S(e).subtext,fontSize:"10px",textAlign:"center",lineHeight:1.4,maxWidth:"90%",marginTop:"8px",opacity:.85},children:s})}const et=({theme:e,langIndex:n,totalTonnage:s,targetTonnage:o,progressPercent:a})=>t.jsx("div",{style:S(e).panelRow,children:t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:8},children:[t.jsx("div",{style:{fontSize:12,letterSpacing:1,textTransform:"uppercase",opacity:.8,color:r.get("subText",e)},children:n===0?"–¶–µ–ª—å —Ü–∏–∫–ª–∞":"Cycle target"}),t.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:6},children:[t.jsx("span",{style:{fontSize:40,fontWeight:700,color:r.get("iconsHighlited",e),lineHeight:1},children:(o/1e3).toFixed(1)}),t.jsx("span",{style:{fontSize:18,fontWeight:500,color:r.get("mainText",e),opacity:.9},children:"—Ç"}),a>=100&&t.jsx("span",{style:{fontSize:16,position:"relative",top:"-15px",fontWeight:500,color:r.get("light",e)},children:"+"+((s-o)/1e3).toFixed(1)})]}),a>0?t.jsxs("div",{style:{fontSize:13,color:r.get("subText",e)},children:[n===0?"–í—ã–ø–æ–ª–Ω–µ–Ω–æ":"Completed"," ",t.jsxs("span",{style:{color:r.get("mainText",e),fontWeight:600},children:[Math.round(a),"%"]}),a<100&&t.jsxs(t.Fragment,{children:[" ¬∑ ",t.jsx("span",{style:{opacity:.9},children:n===0?`–æ—Å—Ç–∞–ª–æ—Å—å ‚âà ${(o*(1-a/100)/1e3).toFixed(1)} —Ç`:`left ‚âà ${(o*(1-a/100)/1e3).toFixed(1)} t`})]})]}):t.jsx("div",{style:{fontSize:13,color:r.get("subText",e)},children:n===0?`–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–π –æ–±—ä—ë–º: ${(J()/1e3).toFixed(2)} —Ç`:`Suggested load: ${(J()/1e3).toFixed(2)} t`}),a>=100&&t.jsx("div",{style:{marginTop:4,padding:"4px 10px",borderRadius:999,fontSize:11,fontWeight:600,background:"linear-gradient(135deg, rgba(111,191,115,0.18), rgba(231,111,81,0.18))",color:r.get("iconsHighlited",e)},children:n===0?"–¶–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞":"Target reached"})]})}),tt=e=>e===0?`–ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –º—ã—à—Ü—ã —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–æ–Ω–Ω–∞–∂–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è:
‚Äî 70% —Ç–æ–Ω–Ω–∞–∂–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é –º—ã—à–µ—á–Ω—É—é –≥—Ä—É–ø–ø—É,
‚Äî 30% ‚Äî —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ –º–µ–∂–¥—É –≤—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–º–∏ –≥—Ä—É–ø–ø–∞–º–∏.
–ó–∞—Ç–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Å–∞–º–æ–π –Ω–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–π –º—ã—à—Ü—ã (100%).`:`Muscle load is calculated based on the tonnage of completed exercises over the selected period. For each exercise:
‚Äî 70% of the tonnage is assigned to the primary muscle group,
‚Äî 30% is evenly distributed among secondary muscle groups.
Values are then normalized relative to the most loaded muscle (100%).`;export{it as default,Je as getCurrentCycleAnalysis};
