import{j as e,r as c,A as f,t as y,l as j,f as S,C as d}from"./index-BNFii3Dw.js";const k=({theme:t,data:s,mark:x="kg",color:p="#4a90e2"})=>{if(!s||s.length===0)return null;const h=100,u=30,i=6,l=Math.max(...s.map(n=>n.value)),a=l*1.1,o=[...s.map(n=>n.value)].sort((n,g)=>n-g),r=o.length%2===0?(o[o.length/2-1]+o[o.length/2])/2:o[Math.floor(o.length/2)],m=h/s.length;return e.jsxs("div",{style:{width:"100%",height:`${u}vh`,position:"relative",margin:"20px 0"},children:[e.jsxs("div",{style:{position:"absolute",top:0,left:"-10px",fontSize:"12px",color:t==="dark"?"#fff":"#000",fontWeight:"bold"},children:[Math.round(l)," ",x]}),e.jsx("div",{style:{position:"absolute",top:`${(a-r)/a*(100-2*i)}%`,left:0,right:0,height:"1px",backgroundColor:"#ff9900",zIndex:1},children:e.jsxs("span",{style:{position:"absolute",right:"-10px",top:"-10px",fontSize:"10px",color:"#ff9900",backgroundColor:t==="dark"?"#222":"#fff",padding:"0 4px"},children:[Math.round(r)," ",x]})}),e.jsx("div",{style:{display:"flex",height:"100%",padding:`${i}% ${i}% 0`,boxSizing:"border-box"},children:s.map((n,g)=>{const v=n.value/a*(100-2*i);return e.jsxs("div",{style:{width:`${m}%`,height:"100%",display:"flex",flexDirection:"column",alignItems:"center",position:"relative"},children:[e.jsx("div",{style:{width:"80%",height:`${v}%`,backgroundColor:p,borderRadius:"4px 4px 0 0",marginTop:"auto"}}),e.jsxs("div",{style:{position:"absolute",bottom:"-20px",fontSize:"10px",color:t==="dark"?"#bbb":"#555",textAlign:"center",width:"100%",whiteSpace:"nowrap"},children:[n.date," "]})]},g)})})]})},z=()=>{const[t,s]=c.useState("dark"),[x,p]=c.useState(f.prefs[0]),[h,u]=c.useState(f.prefs[4]),i=[{date:"2025-11-12",value:240},{date:"2025-11-13",value:300},{date:"2025-11-14",value:180},{date:"2025-11-15",value:270},{date:"2025-11-16",value:220}];return c.useEffect(()=>{const l=y.subscribe(s),a=j.subscribe(r=>{p(r==="ru"?0:1)}),o=S.subscribe(r=>{u(r)});return()=>{l.unsubscribe(),a.unsubscribe(),o.unsubscribe()}},[]),e.jsx("div",{style:b(t).container,children:e.jsx("div",{style:b(t).panel,children:e.jsx(k,{theme:t,data:i,mark:"kg",color:"#ca854cff"})})})},b=t=>({container:{backgroundColor:d.get("background",t),display:"flex",flexDirection:"column",overflowY:"scroll",justifyContent:"start",alignItems:"center",height:"78vh",top:"15vh",width:"100vw",fontFamily:"Segoe UI"},panel:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyContent:"start",borderBottom:`1px solid ${d.get("border",t)}`},text:{textAlign:"left",fontSize:"10px",color:d.get("mainText",t),marginLeft:"30px",marginBottom:"12px"},subtext:{textAlign:"left",fontSize:"8px",color:d.get("subText",t),marginLeft:"30px",marginBottom:"12px"}});export{z as default};
