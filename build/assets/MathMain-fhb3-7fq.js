import{A as z,t as Ce,l as Te,f as Me,C as p,j as i,bl as ie,bm as Ke,bB as Ue,bC as Xe,bD as Ae,bs as _,bE as Je,U as Qe,p as Ze,s as et,br as tt,bF as nt,y as ot}from"./index-ZZ8QJPBM.js";import{r as x,R as st}from"./recharts-Bg6K2Pzo.js";import{G as rt,a as it}from"./index-CCqK5d0N.js";import{s as lt,q as D}from"./MentalHelper-CLP3sEYf.js";import{B as at}from"./BreathAudio-BrJNN4AB.js";import{M as ct}from"./MentalInput-DnXkVmz7.js";function ut(n,e,t){switch(n){case 0:switch(e){case 0:return ae(t);case 1:return ce(t);case 2:return ke(t);case 3:return G(t);case 4:return dt(t);case 5:return pt(t)}break}return[problem,answer.toString()]}const h=(n,e)=>(n=Math.ceil(n),e=Math.floor(e),Math.floor(Math.random()*(e-n+1))+n),ae=n=>{let e,t,s,l=0;if(n>=0&&n<=5){do l++,e=h(2,10),t=h(2,10),s=e+t;while(s>20&&l<20);return[`${e} + ${t}`,s.toString()]}if(n>=6&&n<=10){do l++,e=h(10,90),t=h(2,9),s=e+t;while(s>100&&l<20);return[`${e} + ${t}`,s.toString()]}if(n>=11&&n<=15){do l++,e=h(20,99),t=h(2,9),s=e-t;while(s<10&&l<20);return[`${e} ‚Äì ${t}`,s.toString()]}if(n>=16&&n<=20){do l++,e=h(2,10),t=h(2,10),s=e*t;while(s>100&&l<20);return[`${e} √ó ${t}`,s.toString()]}return["2 + 3","5"]},ce=n=>{if(n>=0&&n<=5){let e,t,s,l=0;do e=h(10,99),t=h(10,99),s=e+t;while(s>200&&++l<20);return[`${e} + ${t}`,s.toString()]}if(n>=6&&n<=10){let e,t,s,l,o,u=0;do e=h(30,99),t=h(2,9),s=h(10,80),l=e+t,o=l-s;while((o<10||o>150)&&++u<30);return[`${e} + ${t} ‚Äì ${s}`,o.toString()]}if(n>=11&&n<=15){let e,t,s,l,o,u=0;do e=h(25,99),t=h(2,9),s=h(2,12),l=e-t,!(l<=5)&&(o=l*s);while((o<30||o>1e3)&&++u<30);return[`(${e} ‚Äì ${t}) √ó ${s}`,o.toString()]}if(n>=16&&n<=20){let e,t,s,l,o,u=0;do s=h(2,9),l=h(3,12),t=s*l,!(t<10||t>99)&&(e=h(15,80),o=e+l);while((o<20||o>120)&&++u<30);return[`${e} + ${t} √∑ ${s}`,o.toString()]}return["50 + 40","90"]},ke=n=>{if(n>=0&&n<=5){let e,t,s,l,o=0;do e=h(20,80),t=h(20,80),s=h(10,70),l=e+t-s;while((l<10||l>200)&&++o<30);return[`${e} + ${t} ‚àí ${s}`,l.toString()]}if(n>=6&&n<=10){let e,t,s,l,o,u,r,f=0;do e=h(12,30),t=h(3,8),s=h(40,85),l=h(20,s-5),o=e*t,u=s-l,r=o+u;while((r<20||r>500)&&++f<30);return[`${e} √ó ${t} + (${s} ‚àí ${l})`,r.toString()]}if(n>=11&&n<=15){let e,t,s,l,o,u,r=0;do e=h(5,12),t=e*e,s=h(6,14),l=s*s,o=h(20,70),u=t-s+o;while((u<25||u>300)&&++r<30);return[`(${e}¬≤ ‚àí ‚àö${l}) + ${o}`,u.toString()]}if(n>=16&&n<=20){let e,t,s,l,o,u,r,f=0;do e=h(6,12),t=e*e,s=h(2,9),l=h(5,15),o=s*l,!(o<10||o>99)&&(u=h(3,12),r=t+l-u);while((r<30||r>400)&&++f<30);return[`${e}¬≤ + ${o} √∑ ${s} ‚àí ${u}`,r.toString()]}return["12¬≤ + 80 √∑ 5 ‚àí 7","153"]},G=n=>{n<0&&(n=0);const e=(o,u)=>Math.floor(Math.random()*(u-o+1))+o,t=o=>{const u={0:"‚Å∞",1:"¬π",2:"¬≤",3:"¬≥",4:"‚Å¥",5:"‚Åµ",6:"‚Å∂",7:"‚Å∑",8:"‚Å∏",9:"‚Åπ"};return String(o).split("").map(r=>u[r]||r).join("")},s={2:[[2,1],[4,2],[8,3],[16,4],[32,5],[64,6],[128,7],[256,8],[512,9],[1024,10]],3:[[3,1],[9,2],[27,3],[81,4],[243,5],[729,6]],5:[[5,1],[25,2],[125,3],[625,4]],10:[[10,1],[100,2],[1e3,3],[1e4,4]]},l=(o,u)=>Number.isInteger(u)&&u>0&&u<1e4;if(n<=5){const o=[2,3,5,10],u=o[e(0,o.length-1)],r=s[u][e(0,s[u].length-1)],[f,g]=r,y=e(3,8),$=y**3,m=g+$;return l("",m)?[`${u===10?`log‚ÇÅ‚ÇÄ(${f})`:u===2?`log‚ÇÇ(${f})`:`log${u}(${f})`} + ${y}${t(3)}`,m.toString()]:G(n)}if(n<=10)if(e(1,3)===1){const o=e(2,12),u=e(3,15),r=e(1,20),f=o*u+r;return[`${o}X + ${r} = ${f}`,u.toString()]}else if(e(0,4)===2){const o=e(2,12),u=e(3,10),r=e(11,20),f=e(11,20),g=o*u-r+f;return[`${o}X - ${r} + ${f} = ${g}`,u.toString()]}else{const o=e(12,52),u=e(13,30),r=e(11,20),f=e(11,20),g=o+r+f-u;return[`${o} + ${r} + ${f} - X = ${g}`,u.toString()]}if(n<=15){const o=e(4,9),u=e(5,15),r=o**3,f=u**2;if(r<=f)return G(n);const g=[2,3,5][e(0,2)],y=s[g][e(0,s[g].length-1)],[$,m]=y,w=r-f+m;if(!l("",w))return G(n);const C=g===2?`log‚ÇÇ(${$})`:`log${g}(${$})`;return[`(${o}${t(3)} ‚àí ${u}${t(2)}) + ${C}`,w.toString()]}if(n<=20){let o,u,r,f,g,y,$=0;do{const j=e(7,13),w=e(8,14),C=e(5,11),P=e(4,10),R=e(50,200);if(o=j**2,u=w**2,r=C**3,f=P**2,g=R,y=o+u-r-f+g,$++,$>20)break}while(y<=0||y>=1e4);return y<=0||y>=1e4?["12¬≤ + 11¬≤ ‚àí 5¬≥ ‚àí 6¬≤ + 100","210"]:[`${a}${t(2)} + ${b}${t(2)} ‚àí ${c}${t(3)} ‚àí ${d}${t(2)} + ${g}`,y.toString()]}return["(‚àö4096 + 6¬≥) √∑ log‚ÇÇ(64)","10"]},dt=n=>{if(n<0&&(n=0),n<20)return ae(n);if(n<40)return ce(n-20);if(n<60)return ke(n-40);{const e=(n-60)%21;return G(e)}},pt=n=>{n<0&&(n=0);const e=n%40;return e<20?ae(e):ce(e-20)};function xt(n,e,t,s,l,o,u){const f=[100,200,300,400,250,50][e]||100;let g=0;if(n===0){const C=Number(o),P=Number(l);g=Math.abs(P-C)/P}const y=g===0?1:g<.15?.5:0,$=Math.min(1+t*.02,1.3),m=Math.min(s/1e4,2),j=y===1?Math.max(1.3-(m-1)*.3,1):1,w=u>=5&&y===1?Math.min(1+.1*Math.min(u/10,4),1.5):1;return Math.round(f*y*$*j*w)}function ft(n,e,t){if(n===0){const s=Number(t),l=Number(e);if(s===l)return!0}return!1}function mt(n,e,t){if(n===0){const s=Number(t),l=Number(e);return Math.abs(l-s)/l}return 0}const we=3e3,gt=({show:n,type:e,difficulty:t,maxTimer:s,setShow:l})=>{const[o,u]=x.useState("dark"),[r,f]=x.useState(z.prefs[0]),[g,y]=x.useState(z.prefs[4]),[$,m]=x.useState(""),[j,w]=x.useState(""),[C,P]=x.useState(!1),[R,ue]=x.useState(!1),[B,de]=x.useState(!1),[K,U]=x.useState(0),[De,X]=x.useState(0),[W,A]=x.useState(!1),[wt,Pe]=x.useState(!1),[Re,pe]=x.useState(0),{initAudio:Ee,playRight:We,playWrong:Fe}=at(z.prefs[2]===0),[xe,F]=x.useState(!1),[fe,J]=x.useState(0),[q,Q]=x.useState(0),[Ne,me]=x.useState(0),[H,ge]=x.useState(!1),[T,Z]=x.useState(0),[Y,ee]=x.useState(1),[he,be]=x.useState(0),[Ye,Le]=x.useState(""),[V,Be]=x.useState(""),[ye,te]=x.useState(""),[Ve,_e]=x.useState(""),[M,$e]=x.useState(0),[ne,oe]=x.useState(0),[N,Ge]=x.useState(z.mentalRecords[e][t]),[Se,je]=x.useState(0);x.useEffect(()=>{$.length===1?w(S=>S.length<6?S+$:S):$.length===2?w(S=>S.length>0?S.slice(0,S.length-1):""):$.length===3&&ve(),m("")},[$]),x.useEffect(()=>{let S=null;return C&&(S=setInterval(()=>{je(v=>v+100)},100)),()=>{S&&clearInterval(S)}},[C]),x.useEffect(()=>{if(!xe||!R||t===5){J(0),Q(0);return}const S=Date.now()-q,v=setInterval(()=>{const I=Date.now()-S,k=Math.min(I,s);Q(k),J(k/(s-K)*100),k>=s-K-500&&(F(!1),ve())},50);return()=>clearInterval(v)},[xe,R,s,q]),x.useEffect(()=>{const S=Ce.subscribe(u),v=Te.subscribe(k=>{f(k==="ru"?0:1)}),I=Me.subscribe(k=>{y(k)});return()=>{S.unsubscribe(),v.unsubscribe(),I.unsubscribe()}},[]),x.useEffect(()=>{if(!B){X(0);return}const S=Math.ceil(we/1e3);X(S);const v=setInterval(()=>{X(I=>I<=1?(clearInterval(v),qe(),de(!1),0):I-1)},1e3);return()=>{clearInterval(v)}},[B,we]),x.useEffect(()=>{if(!H)return;const S=setInterval(()=>{me(v=>v>=900?(clearInterval(S),ge(!1),Z(I=>Math.round(I+M/2)),$e(0),F(!0),me(0),0):v+100)},100);return()=>{clearInterval(S)}},[H,Ne]);const qe=()=>{Ee(),se(),ue(!0),F(!0),P(!0),Pe(!1),je(0),pe(Date.now())};function se(){const S=ut(e,t,Y);Le(S[0]),Be(S[1])}const ve=()=>{F(!1);const S=xt(e,t,Y,q,V,j,he),v=mt(e,V,j);yt(v===0?"light":"medium");let I="";v===0?(I=St(r),oe(E=>E+1)):v<.15?I=jt(r):I=r===0?"–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: "+V:"Correct answer: "+V;const k=v===0?p.get("maxValColor",o):v<.15?p.get("difficulty2",o):p.get("minValColor",o);_e(k),te(I),$e(S),se(),w(""),be(E=>ft(e,V,j)?E+1:0),ee(E=>E+1<20?E+1:20),v===0?We():Fe(),Y===20&&re(),t===4&&Y%5===0&&U(E=>E+1e3),t===4&&v>.15&&re(),ge(!0)},He=()=>{F(!1),Q(0),J(0),Z(0),ee(1),oe(0),be(0),w(""),te(""),U(0),se(),pe(Date.now()),F(!0)},re=()=>{Oe();const S=T+M>N,v=bt(t===4,r,T+M,ne,20,S,t===5);P(!1),te(v),A(!0),ue(!1),F(!1)},Oe=()=>{T>N&&(Ge(T),z.mentalRecords[e][t]=T);const S=Date.now(),v=Math.round((S-Re)/1e3);lt(v,T+M>N,e,t,T+M),Z(0),U(0),ee(1),oe(0)};return i.jsxs("div",{style:O(o,n).container,children:[!R&&!B&&!W&&i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",width:"100%",height:"80%"},children:[i.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:p.get("mainText",o)},children:D[t].level[r]}),i.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"15px",color:p.get("subText",o)},children:D[t].description[r]}),i.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"15px",color:p.get("mainText",o)},children:(r===0?"–°–ª–æ–∂–Ω–æ—Å—Ç—å: ":"Difficulty: ")+D[t].difficulty[r]}),i.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"15px",color:p.get("subText",o)},children:(r===0?"–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏: ":"Time limit: ")+D[t].timeLimitSec}),i.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"20px",fontSize:"15px",color:p.get("subText",o)},children:(r===0?"–û–ø–µ—Ä–∞—Ü–∏–∏: ":"Operations: ")+D[t].operations}),i.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"50px",fontSize:"12px",color:p.get("subText",o)},children:ht(r)})]}),!R&&!B&&!W&&i.jsxs("div",{style:O(o,n).controls,children:[i.jsx(ie,{onClick:()=>{l(!1),A(!1)},style:{fontSize:"60px",color:p.get("close",o)}}),i.jsx(Ke,{onClick:()=>de(!0),style:{fontSize:"60px",color:p.get("play",o)}}),i.jsx(Ue,{onClick:He,style:{fontSize:"60px",color:p.get("reload",o)}})]}),!W&&B&&i.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",width:"90%",height:"80%"},children:[i.jsx("div",{style:{fontSize:"10rem",marginTop:"180px",color:p.get("icons",o),fontWeight:"bold",lineHeight:1},children:De}),i.jsx("div",{style:{fontSize:"2rem",marginBottom:"80px",textAlign:"center"},children:i.jsx("div",{style:{color:p.get("icons",o),marginBottom:"80px"},children:r===0?"–ü—Ä–∏–≥–æ—Ç–æ–≤—å—Ç–µ—Å—å!":"Get ready!"})})]}),!W&&R&&i.jsxs("div",{style:O(o).playContainer,children:[i.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"86%",borderBottom:`1px solid ${p.get("border",o)}`},children:[i.jsx("div",{style:{display:"flex",flexDirection:"row",marginTop:"6px",width:"60%",gap:"20px",marginRight:"auto"},children:i.jsx(ie,{onClick:()=>re(),style:{fontSize:"25px",color:p.get("close",o)}})}),i.jsxs("div",{style:{display:"flex",marginLeft:"auto",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:p.get("subText",o)},children:[i.jsx(Xe,{}),ze(Se)]})]}),i.jsxs("div",{style:{display:"flex",width:"86%",flexDirection:"row",marginTop:"20px",alignItems:"center",justifyContent:"space-between"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:p.get("minValColor",o)},children:[i.jsx(Ae,{}),he]}),i.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:p.get("difficulty",o)},children:t>3?Y:Y+"/ 20"}),i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:p.get("maxValColor",o)},children:[i.jsx(_,{}),T]})]}),i.jsxs("div",{style:{width:"86%",height:"18px",position:"relative",marginTop:"66px"},children:[i.jsxs("svg",{width:"100%",height:"18",viewBox:"0 0 100 18",preserveAspectRatio:"none",style:{display:"block"},children:[i.jsx("rect",{x:"0",y:"0",width:"100",height:"18",fill:p.get("bottomPanel",o)}),i.jsx("rect",{x:"0",y:"0",width:fe,height:"18",fill:$t(p.get("done",o),p.get("skipped",o),fe/100)})]}),i.jsx("div",{style:{position:"relative",top:"-20px",color:p.get("subText",o),marginBottom:"80px"},children:Math.floor((s-K-q)/1e3)})]}),i.jsxs("div",{children:[!H&&i.jsx("div",{style:Ie(o,!1),children:Ye}),H&&i.jsxs("div",{style:Ie(o,!0,Ve),children:[i.jsxs("p",{style:{fontSize:"22px",fontWeight:"bold",color:M>0?p.get("maxValColor",o):p.get("minValColor",o)},children:[M>0&&i.jsx(_,{}),M>0?M:r===0?"–Ω–µ –≤–µ—Ä–Ω–æ":"wrong answer"]}),i.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",color:p.get("mainText",o)},children:ye})]})]}),i.jsx("div",{style:{fontSize:"34px",fontWeight:"bold",color:p.get("subText",o),marginTop:"auto"},children:j})]}),!W&&R&&i.jsx(ct,{setInput:m,type:e}),W&&i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",width:"100%",height:"80%"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:p.get("maxValColor",o)},children:[i.jsx(_,{}),T]}),i.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:p.get("medium",o)},children:vt(r,Se)}),T>N&&i.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:p.get("medium",o)},children:[i.jsx(Je,{}),r===0?"–ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥!":"New record!"]}),T<=N&&i.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:p.get("subText",o)},children:r===0?"—Ä–µ–∫–æ—Ä–¥: "+N:"record: "+N}),i.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"22px",fontWeight:"bold",color:p.get("mainText",o)},children:t<4?ne+" / 20":ne}),i.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:p.get("mainText",o)},children:ye})]}),W&&i.jsx("div",{style:O(o,n).controls,children:i.jsx(ie,{onClick:()=>{l(!1),A(!1)},style:{fontSize:"60px",color:p.get("close",o)}})})]})},Ie=(n,e,t)=>({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"95vw",height:"16vh",marginTop:"20px",backgroundColor:p.get("bottomPanel",n),boxShadow:e?"0px 0px 9px 9px"+t:"2px 2px"+p.get("shadow",n),borderRadius:"24px",fontSize:"39px",fontWeight:"bold",color:p.get("mainText",n),alignContent:"center"}),O=(n,e)=>({container:{backgroundColor:p.get("background",n),display:"flex",position:"fixed",flexDirection:"column",alignItems:"center",height:"86vh",transform:e?"translateY(0)":"translateY(100%)",bottom:"0",transition:"transform 0.2s ease-in-out",width:"100vw",fontFamily:"Segoe UI",borderTop:`2px solid ${p.get("border",n)}`,borderTopLeftRadius:"12px",borderTopRightRadius:"12px",zIndex:2e3},controls:{display:"flex",marginTop:"30px",gap:"50px"},playContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",height:"50vh",bottom:"0",width:"100vw"}}),ht=n=>n===0?"–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –±–æ–ª—å—à–µ –æ—á–∫–æ–≤, –æ—Ç–≤–µ—á–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ –∫–∞–∫ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ. –ö–∞–∂–¥–∞—è –æ—à–∏–±–∫–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –º–Ω–æ–∂–∏—Ç–µ–ª—å. –ó–∞ –∫–∞–∂–¥—ã–µ 5 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–¥—Ä—è–¥ –º–Ω–æ–∂–∏—Ç–µ–ª—å –ø–æ–≤—ã—à–∞–µ—Ç—Å—è, –¥–æ—Å—Ç–∏–≥–∞—è –º–∞–∫—Å–∏–º—É–º–∞ √ó1.5.":"To earn more points, answer correctly and as quickly as possible. Every mistake resets your multiplier. For every 5 correct answers in a row, your multiplier increases‚Äîup to a maximum of √ó1.5.",bt=(n,e,t,s,l,o,u=!1)=>{const r=Math.round(s/l*100),f=r>=80,g=r>=50&&!f,y={ru:{high:[`üéâ –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! ${s}/${l} (${r}%) ‚Äî –º–æ–ª–æ–¥–µ—Ü!`,`‚ú® –ü–æ—Ç—Ä—è—Å–∞—é—â–µ! –¢—ã —Å–ø—Ä–∞–≤–∏–ª—Å—è –Ω–∞ ${r}%.`,`üî• –¢—ã –Ω–∞–±—Ä–∞–ª(–∞) ${t} –æ—á–∫–æ–≤ ‚Äî —ç—Ç–æ –≤–ø–µ—á–∞—Ç–ª—è–µ—Ç!`,`üöÄ –í–∞—É! ${s}/${l} ‚Äî —Ç—ã –≤ —É–¥–∞—Ä–µ!`,`üíØ –ò–¥–µ–∞–ª—å–Ω–æ! –¢–∞–∫ –¥–µ—Ä–∂–∞—Ç—å! (${r}%)`],moderate:[`üôÇ –•–æ—Ä–æ—à–∞—è –ø–æ–ø—ã—Ç–∫–∞! ${s}/${l} (${r}%).`,"üå± –¢—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏! –ü—Ä–æ–¥–æ–ª–∂–∞–π –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ.",`üìà –ù–∞–±—Ä–∞–Ω–æ ${t} –æ—á–∫–æ–≤. –£–∂–µ –ª—É—á—à–µ!`,`üëç –ü–æ–ª–æ–≤–∏–Ω–∞ –∏ –±–æ–ª—å—à–µ ‚Äî —ç—Ç–æ –ø—Ä–æ–≥—Ä–µ—Å—Å! (${r}%)`,"üí™ –ù–µ–ø–ª–æ—Ö–æ! –° –∫–∞–∂–¥—ã–º —Ä–∞–∑–æ–º –±—É–¥–µ—Ç –ª—É—á—à–µ."],low:["ü§ó –¢—ã —Å—Ç–∞—Ä–∞–ª—Å—è(–ª–∞—Å—å) ‚Äî —ç—Ç–æ –≥–ª–∞–≤–Ω–æ–µ. –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë!","üå± –ù–µ —Å–¥–∞–≤–∞–π—Å—è! –ö–∞–∂–¥–∞—è –ø–æ–ø—ã—Ç–∫–∞ ‚Äî —à–∞–≥ –≤–ø–µ—Ä—ë–¥.","üå§Ô∏è –°–µ–≥–æ–¥–Ω—è –Ω–µ —Ç–≤–æ–π –¥–µ–Ω—å, –Ω–æ –∑–∞–≤—Ç—Ä–∞ –±—É–¥–µ—Ç –ª—É—á—à–µ!",`üéØ –¢—ã –Ω–∞–±—Ä–∞–ª(–∞) ${t} –æ—á–∫–æ–≤. –ü—Ä–æ–¥–æ–ª–∂–∞–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è!`,`üå± –î–∞–∂–µ ${s} –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ ‚Äî —ç—Ç–æ –Ω–∞—á–∞–ª–æ!`],record:[`üèÜüî• –ù–û–í–´–ô –†–ï–ö–û–†–î! ${t} –æ—á–∫–æ–≤ ‚Äî –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!`,`üéâ‚ú® –¢—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª(–∞) –ª–∏—á–Ω—ã–π —Ä–µ–∫–æ—Ä–¥: ${s}/${l} (${r}%)!`,"üåüüí• –î–∞–∂–µ –µ—Å–ª–∏ –±—ã–ª–æ —Ç—Ä—É–¥–Ω–æ ‚Äî —Ç—ã –ø–æ–±–∏–ª(–∞) —Ä–µ–∫–æ—Ä–¥! –ú–æ–ª–æ–¥–µ—Ü!"],endless_any:[`üõ°Ô∏è –¢—ã –≤—ã—Å—Ç–æ—è–ª(–∞) ${s} —Ä–∞—É–Ω–¥–æ–≤ ‚Äî —É–≤–∞–∂–µ–Ω–∏–µ!`,`‚ö° –í—ã–∂–∏–ª(–∞) ${s} —Ö–æ–¥–æ–≤ –ø–æ–¥—Ä—è–¥ ‚Äî –∫—Ä—É—Ç–æ!`,`üéØ –ë–µ–∑ –µ–¥–∏–Ω–æ–π –æ—à–∏–±–∫–∏ –¥–æ ${s} ‚Äî —ç—Ç–æ —Å—Ç–æ–π–∫–æ—Å—Ç—å!`,`üß† –¢–æ—á–Ω–æ—Å—Ç—å –Ω–∞ ${s} —à–∞–≥–∞—Ö ‚Äî –≤–ø–µ—á–∞—Ç–ª—è–µ—Ç!`,`üî• –¢—ã –Ω–∞–±—Ä–∞–ª(–∞) ${t} –æ—á–∫–æ–≤ –≤ —Ä–µ–∂–∏–º–µ –≤—ã–∂–∏–≤–∞–Ω–∏—è!`],endless_record:[`üèÜüî• –ù–û–í–´–ô –†–ï–ö–û–†–î –í –†–ï–ñ–ò–ú–ï –í–´–ñ–ò–í–ê–ù–ò–Ø: ${s} —Ä–∞—É–Ω–¥–æ–≤!`,`üéâ‚ú® –¢—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª(–∞) –ª–∏—á–Ω—ã–π —Ä–µ–∫–æ—Ä–¥: ${s} –±–µ–∑ –µ–¥–∏–Ω–æ–π –æ—à–∏–±–∫–∏!`,"üåüüí• –í Endless-—Ä–µ–∂–∏–º–µ ‚Äî –∞ —Ç—ã –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ–±–∏–ª(–∞) —Ä–µ–∫–æ—Ä–¥! –ú–æ–ª–æ–¥–µ—Ü!",`üõ°Ô∏èüëë –ù–æ–≤—ã–π –º–∞–∫—Å–∏–º—É–º: ${t} –æ—á–∫–æ–≤ –≤ —Ä–µ–∂–∏–º–µ "–æ–¥–Ω–∞ –æ—à–∏–±–∫–∞ ‚Äî –∫–æ–Ω–µ—Ü"!`],relax_any:["üßò‚Äç‚ôÄÔ∏è –û—Ç–ª–∏—á–Ω–æ –ø–æ—Ä–∞–±–æ—Ç–∞–ª(–∞) –≤ —Å–ø–æ–∫–æ–π–Ω–æ–º —Ä–µ–∂–∏–º–µ!",`üåº –¢—ã —Ä–µ—à–∏–ª(–∞) ${l} –∑–∞–¥–∞—á ‚Äî –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞!`,"‚ú® –°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ –∏ –≤–Ω–∏–º–∞–Ω–∏–µ ‚Äî –∑–∞–ª–æ–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞. –ú–æ–ª–æ–¥–µ—Ü!",`üå± ${s} –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ ‚Äî —Ä–æ—Å—Ç –Ω–∞–ª–∏—Ü–æ!`,"üå§Ô∏è –•–æ—Ä–æ—à–∏–π —Ç–µ–º–ø, –±–µ–∑ —Å–ø–µ—à–∫–∏. –¢–∞–∫ –¥–µ—Ä–∂–∞—Ç—å!"],relax_record:["üåü –ù–æ–≤—ã–π –ª–∏—á–Ω—ã–π –º–∞–∫—Å–∏–º—É–º ‚Äî –¥–∞–∂–µ –≤ —Å–ø–æ–∫–æ–π–Ω–æ–º —Ä–µ–∂–∏–º–µ!",`üßò‚Äç‚ôÇÔ∏èüèÜ –¢—ã –Ω–∞–±—Ä–∞–ª(–∞) ${t} –æ—á–∫–æ–≤ –≤ Relax-—Ä–µ–∂–∏–º–µ ‚Äî –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!`,"üí´ –î–∞–∂–µ –±–µ–∑ —Ç–∞–π–º–µ—Ä–∞ ‚Äî —Ç—ã —É–ª—É—á—à–∏–ª(–∞) —Å–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –†–µ—Å–ø–µ–∫—Ç!"]},en:{high:[`üéâ Awesome! ${s}/${l} (${r}%) ‚Äî well done!`,`‚ú® Outstanding! You scored ${r}%.`,`üî• You got ${t} points ‚Äî impressive!`,`üöÄ Wow! ${s}/${l} ‚Äî you‚Äôre on fire!`,`üíØ Perfect! Keep it up! (${r}%)`],moderate:[`üôÇ Good effort! ${s}/${l} (${r}%).`,"üå± You're making progress! Keep going.",`üìà You scored ${t} points. Getting better!`,`üëç More than half right ‚Äî that‚Äôs growth! (${r}%)`,"üí™ Nice try! You‚Äôll do even better next time."],low:["ü§ó You gave it your best ‚Äî that matters most. Try again!","üå± Don‚Äôt give up! Every attempt brings you closer.","üå§Ô∏è Not your best round, but tomorrow‚Äôs a new chance!",`üéØ You earned ${t} points. Keep practicing!`,`üå± Even ${s} correct answers is a start!`],record:[`üèÜüî• NEW RECORD! ${t} points ‚Äî congratulations!`,`üéâ‚ú® You set a personal best: ${s}/${l} (${r}%)!`,"üåüüí• Even on a tough day ‚Äî you broke your record! Amazing!"],endless_any:[`üõ°Ô∏è You survived ${s} rounds ‚Äî respect!`,`‚ö° Lasted ${s} turns without a single mistake ‚Äî awesome!`,`üéØ Perfect accuracy for ${s} problems ‚Äî impressive!`,`üß† Sharp focus through ${s} challenges ‚Äî well done!`,`üî• You scored ${t} points in Endless Mode!`],endless_record:[`üèÜüî• NEW ENDLESS MODE RECORD: ${s} rounds!`,`üéâ‚ú® Personal best: ${s} flawless answers in a row!`,"üåüüí• You broke your record ‚Äî in Endless Mode! Amazing!",`üõ°Ô∏èüëë New high: ${t} points in "one mistake = game over" mode!`],relax_any:["üßò‚Äç‚ôÄÔ∏è Great job practicing in Relax Mode!",`üåº You solved ${l} problems ‚Äî wonderful focus!`,"‚ú® Calm and steady wins the race. Well done!",`üå± ${s} correct answers ‚Äî you're growing!`,"üå§Ô∏è A peaceful pace, great accuracy. Keep it up!"],relax_record:["üåü New personal best ‚Äî even in Relax Mode!",`üßò‚Äç‚ôÇÔ∏èüèÜ You scored ${t} points in Relax Mode ‚Äî congrats!`,"üí´ No timer, no stress ‚Äî and still a new record! Amazing!"]}},$=e===0?y.ru:y.en;let m=[];if(u?o?m=[...$.relax_record]:m=[...$.relax_any]:n?o?m=[...$.endless_record]:m=[...$.endless_any]:o?m=[...$.record]:f?m=[...$.high]:g?m=[...$.moderate]:m=[...$.low],m.length===0)return e===0?"–•–æ—Ä–æ—à–æ! üòä":"Good job! üòä";const j=Math.floor(Math.random()*m.length);return m[j]};function yt(n){z.prefs[3]==0&&Telegram.WebApp.HapticFeedback&&Telegram.WebApp.HapticFeedback.impactOccurred(n)}function $t(n,e,t){if(!n||!e)return n||e||"#000000";t=Math.max(0,Math.min(1,t)),n=n.replace("#",""),e=e.replace("#","");const s=parseInt(n.slice(0,2),16),l=parseInt(n.slice(2,4),16),o=parseInt(n.slice(4,6),16),u=parseInt(e.slice(0,2),16),r=parseInt(e.slice(2,4),16),f=parseInt(e.slice(4,6),16),g=Math.round(s+(u-s)*t),y=Math.round(l+(r-l)*t),$=Math.round(o+(f-o)*t);return`rgb(${g}, ${y}, ${$})`}function St(n){const s=n===0?["–û—Ç–ª–∏—á–Ω–æ!","–ü—Ä–µ–∫—Ä–∞—Å–Ω–æ!","–í–µ—Ä–Ω–æ!","–¢–æ—á–Ω–æ!","–ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ!","–ò–¥–µ–∞–ª—å–Ω–æ!","–ü—Ä–∞–≤–∏–ª—å–Ω–æ!","–ú–æ–ª–æ–¥–µ—Ü!","–¢–æ—á–Ω–æ –≤ —Ü–µ–ª—å!","–ë–µ–∑ –æ—à–∏–±–æ–∫!"]:["Great!","Perfect!","Yes!","Exactly!","Awesome!","Brilliant!","Spot on!","Well done!","Nailed it!","Correct!"];return s[Math.floor(Math.random()*s.length)]}function jt(n){const s=n===0?["–†—è–¥–æ–º!","–ü–æ—á—Ç–∏!","–ï—â–µ —á—É—Ç—å-—á—É—Ç—å!","–ü—Ä–æ–¥–æ–ª–∂–∞–π!","–ü–æ–ø—Ä–æ–±—É–π –µ—â–µ!","–û—á–µ–Ω—å –±–ª–∏–∑–∫–æ!","–•–æ—Ä–æ—à–∞—è –ø–æ–ø—ã—Ç–∫–∞!","–ù–µ —Å–æ–≤—Å–µ–º‚Ä¶","–ü–æ—á—Ç–∏ –ø–æ–ª—É—á–∏–ª–æ—Å—å!","–¢—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏!"]:["Close!","Almost!","Nearly!","Keep going!","Try again!","So close!","Good attempt!","Not quite!","One more try!","You're getting there!"];return s[Math.floor(Math.random()*s.length)]}function ze(n){const e=Math.floor(n/1e3),t=Math.floor(e/60),s=e%60;return`${String(t).padStart(2,"0")}:${String(s).padStart(2,"0")}`}function vt(n,e){const t=ze(e);return n===0?`–í–∞—à–µ –≤—Ä–µ–º—è: ${t}`:`Your time is: ${t}`}const Dt=()=>{const[n,e]=st.useState("dark"),[t,s]=x.useState(z.prefs[0]),[l,o]=x.useState(z.prefs[4]),[u,r]=x.useState(!1),[f,g]=x.useState(0),[y,$]=x.useState(Qe.hasPremium);return x.useEffect(()=>{const m=Ze.subscribe($);return()=>m.unsubscribe()},[]),x.useEffect(()=>{const m=Ce.subscribe(e),j=Te.subscribe(C=>{s(C==="ru"?0:1)}),w=Me.subscribe(C=>{o(C)});return()=>{m.unsubscribe(),j.unsubscribe(),w.unsubscribe()}},[]),i.jsxs("div",{style:L(n).container,children:[i.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyItems:"center"},children:[i.jsx("div",{style:{width:"100%",display:"grid",gridTemplateColumns:"1fr 1fr",alignItems:"center",justifyItems:"center"},children:D.map((m,j)=>{const w="difficulty"+j;return j<4&&i.jsx(le,{width:"46vw",difficulty:j,protocol:m,setLevel:g,color:p.get(w,n),theme:n,lang:t,click:()=>{g(j),r(!0)},fSize:l,hasPremium:y,needBlur:j>1},j)})}),i.jsx(le,{width:"96vw",difficulty:4,protocol:D[4],setLevel:g,color:p.get("difficultyAdd",n),theme:n,lang:t,click:()=>{g(4),r(!0)},fSize:l,hasPremium:y,needBlur:!0}),i.jsx(le,{width:"96vw",difficulty:5,protocol:D[5],setLevel:g,color:p.get("difficulty",n),theme:n,lang:t,click:()=>{g(5),r(!0)},fSize:l,hasPremium:y,needBlur:!0})]}),i.jsx(gt,{type:0,difficulty:f,maxTimer:D[f].timeLimitSec*1e3,show:u,setShow:r})]})},L=(n,e)=>({container:{backgroundColor:p.get("background",n),display:"flex",flexDirection:"column",overflowY:"scroll",justifyItems:"center",alignItems:"center",height:"78vh",paddingTop:"5vh",width:"100vw",fontFamily:"Segoe UI"},scrollView:{height:"95%",width:"100%",overflowY:"scroll",display:"flex",flexDirection:"column"},mainText:{textAlign:"left",fontSize:e===0?"15px":"17px",color:p.get("mainText",n)},subtext:{textAlign:"center",fontSize:e===0?"12px":"14px",color:p.get("mainText",n),margin:"2px"},icon:{fontSize:"32px",color:p.get("mainText",n)},simplePanelRow:{width:"75vw",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},cardText:{textAlign:"left",marginBottom:"5px",fontSize:e===0?"14px":"16px",color:p.get("mainText",n),marginLeft:"30px"},text:{textAlign:"left",fontSize:e===0?"10px":"12px",color:p.get("subText",n),marginLeft:"30px"},btn:{width:"70%",height:"40px",borderRadius:"12px",fontSize:e===0?"13px":"14px",color:p.get("mainText",n),backgroundColor:p.get("simplePanel",n)}});function le({protocol:n,difficulty:e,click:t,width:s,color:l,theme:o,lang:u,fSize:r,hasPremium:f=!1,needBlur:g=!1}){const y=()=>e===0?i.jsx(tt,{style:m}):e===1?i.jsx(_,{style:m}):e===2?i.jsx(rt,{style:m}):e===3?i.jsx(it,{style:m}):e===4?i.jsx(nt,{style:m}):i.jsx(ot,{style:m}),$={alignItems:"center",justifyContent:"center",display:"flex",width:s,flexDirection:"row",height:"12vh",marginTop:"15px",borderRadius:"24px",backgroundColor:l,overflow:"hidden",position:"relative",boxShadow:"3px 3px 2px rgba(0,0,0,0.3)"},m={fontSize:"86px",rotate:"-20deg",position:"absolute",right:"-10px",top:"30%",color:p.get("svgColor",o)};return i.jsxs("div",{style:$,onClick:t,children:[!f&&g&&i.jsxs("div",{onClick:j=>{j.stopPropagation()},style:{position:"absolute",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",width:"100%",height:"100%",left:"0",top:"0",backdropFilter:"blur(8px)",zIndex:2},children:[i.jsxs("div",{style:{...L(o,r).mainText},children:[" ",u===0?"–ü—Ä–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è":"Pro category"," "]}),i.jsxs("div",{style:{...L(o,r).mainText},children:[" ",u===0?"üëë–ø—Ä–µ–º–∏—É–ºüëë":"üëëpremiumüëë"," "]}),i.jsx("button",{onClick:()=>{et("premium")},style:{...L(o,r).btn},children:u===0?"–°—Ç–∞—Ç—å –ø—Ä–µ–º–∏—É–º":"Get premium"})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"65%",height:"22%",alignItems:"center",justifyContent:"flex-end",position:"absolute",top:"5%",left:"30%",fontWeight:"bold",fontSize:"16px",color:p.get("maxValColor",o)},children:[i.jsx(_,{})," ",z.mentalRecords[0][e]]}),i.jsxs("div",{style:{width:"90%",height:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},children:[i.jsx("h2",{style:L(o,r).cardText,children:n.level[u]}),i.jsx("p",{style:L(o,r).text,children:n.difficulty[u]})]}),y()]})}export{Dt as default};
