import{R as b,r as l,A as j,t as Y,l as J,I as X,j as t,C as i,aI as Z,aJ as _,i as E,k as B,Z as L}from"./index-DwAcGTWc.js";import{b as M,c as P,d as K,e as Q,f as V,g as ee}from"./index-CvTIcz9j.js";import{M as d,a as te,b as ne,r as se}from"./TrainingData-BvgDntux.js";import{M as R}from"./MyInput-CYzCuj1l.js";const ae=()=>{const[e,u]=b.useState("dark"),[r,F]=l.useState(j.prefs[0]),[$,C]=l.useState(""),[a,G]=l.useState(-1),[c,f]=l.useState(-1),[v,W]=l.useState(""),[S,x]=l.useState(!1),[H,g]=l.useState(!1),[h,I]=l.useState(""),[k,z]=l.useState(""),[D,T]=l.useState(0),[A,m]=l.useState(!0);b.useEffect(()=>{const s=Y.subscribe(u),o=J.subscribe(y=>{F(y==="ru"?0:1)});return()=>{o.unsubscribe(),s.unsubscribe()}},[]),b.useEffect(()=>{const s=X.subscribe(C);return()=>s.unsubscribe()},[]);function U(s){p(null),G(a==s?-1:s),a===-1&&f(-1)}function N(s){p(null),f(c==s?-1:s)}function w(){p(null),x(!1),C(""),I(""),z(""),T(0),m(!0)}function O(){h.length>3&&k.length>10?(p(null),ne(D,h,k,A),w()):h.length<3?L(r===0?"Введите название упражнения, не менее 3 символов":"Set exercise name , at least 3 characters",2e3,!1):L(r===0?"Введите описание упражнения, не менее 10 символов":"Set exercise description , at least 10 characters",2e3,!1)}function q(){p(null),se(c),f(-1),g(!1),w()}return t.jsxs("div",{style:n(e).container,children:[Object.keys(d.muscleIconsSrc).map(s=>t.jsxs("div",{style:n(e).panel,children:[t.jsxs("div",{style:n(e,a==s,!1).groupPanel,onClick:()=>U(o=>o===s?-1:s),children:[a==s?t.jsx(M,{style:n(e).icon}):t.jsx(P,{style:n(e).icon}),d.get(s,r,e)]},s),a==s?t.jsx("div",{style:n(e).panel,children:te().filter(o=>o.mgId==s).map(o=>t.jsxs("div",{style:n(e).panel,children:[t.jsxs("div",{style:{...n(e,!1,c==o.id).exercisePanel,width:"98%",flexDirection:"row"},onClick:()=>N(y=>y===o.id?-1:o.id),children:[c==o.id?t.jsx(M,{style:{...n(e).icon,marginLeft:"7%",width:"10px",marginTop:"7px"}}):t.jsx(P,{style:{...n(e).icon,marginLeft:"7%",width:"10px",marginTop:"7px"}}),t.jsx("p",{style:{...n(e).text,fontSize:"11px",marginLeft:"5%"},children:o.name[r]}),t.jsx("p",{style:{...n(e).subtext,fontSize:"10px",marginLeft:"auto",marginRight:"5%",color:o.isBase?i.get("trainingBaseFont",e):i.get("trainingIsolatedFont",e)},children:o.isBase?r===0?"Базовое":"Base":r===0?"Изолированное":"Isolated"})]}),c==o.id?t.jsxs("div",{style:{...n(e).panel,flexDirection:"row",width:"80%"},children:[t.jsx("p",{style:n(e).subtext,children:o.description[r]}),o.isCustom&&t.jsx(K,{onClick:()=>{W(o.name[r]),g(!0)},style:{...n(e).icon,marginLeft:"auto",fontSize:"32px"}})]}):null]},o.id))}):null]},s)),t.jsx("div",{style:{height:"10vh"},children:t.jsx("p",{style:n(e).text,children:"_"})}),$==="AddExercisePanel"&&t.jsx("div",{style:n(e).addContainer,children:t.jsxs("div",{style:n(e).additionalPanel,children:[t.jsx("p",{style:n(e).text,children:r===0?"Добавь свое упражнение":"Add your exercise"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",backgroundColor:i.get("background",e),height:"70%",width:"100%",alignItems:"center"},children:[t.jsx(R,{maxL:30,w:"80%",h:"20%",theme:e,onChange:s=>I(s),placeHolder:r===0?"Название упражнения":"Exercise name"}),t.jsx(R,{maxL:200,w:"80%",h:"30%",theme:e,onChange:s=>z(s),placeHolder:r===0?"Описание упражнения":"Exercise description"}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"70%",justifyContent:"space-around",alignItems:"center",marginTop:"5%"},children:[d.get(D,r,e,!1),t.jsx(Q,{style:{...n(e).icon,fontSize:"32px"}}),S?t.jsx(ee,{onClick:()=>x(!1),style:{...n(e).icon,fontSize:"32px"}}):t.jsx(V,{onClick:()=>x(!0),style:{...n(e).icon,fontSize:"32px"}})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"50%",justifyContent:"space-around",alignItems:"center",marginTop:"5%"},children:[t.jsx("p",{style:n(e).text,children:r===0?"Базовое упражнение":"Base exercise"}),A?t.jsx(Z,{onClick:()=>m(!1),style:{...n(e).icon,fontSize:"24px"}}):t.jsx(_,{onClick:()=>m(!0),style:{...n(e).icon,fontSize:"24px"}})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"60%",justifyContent:"space-between"},children:[t.jsx(E,{onClick:()=>w(),style:{...n(e).icon,fontSize:"32px",marginBottom:"8px"}}),t.jsx(B,{onClick:()=>O(),style:{...n(e).icon,fontSize:"32px",marginBottom:"8px"}})]})]})}),S&&t.jsx("div",{style:{position:"fixed",top:"15vh",left:"7.5vw",display:"flex",flexWrap:"wrap",width:"85vw",height:"80vw",justifyContent:"center",marginTop:"5px",borderRadius:"24px",border:`1px solid ${i.get("border",e)}`,backgroundColor:i.get("background",e),zIndex:"7000"},children:Object.keys(d.muscleIconsSrc).map(s=>t.jsx("div",{onClick:()=>{T(s),x(!1)},style:{margin:"5px",marginTop:"15px",width:"55px",height:"45px"},children:d.getForList(s,r,e)},s))}),H&&t.jsxs("div",{style:{position:"fixed",top:"50vh",left:"7.5vw",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"85vw",height:"40vw",marginTop:"5px",borderRadius:"24px",border:`1px solid ${i.get("border",e)}`,backgroundColor:i.get("background",e),zIndex:"7000"},children:[t.jsx("p",{style:{...n(e).text,padding:"20px",marginLeft:"10%",marginRight:"5%"},children:r===0?"Вы уверены, что хотите удалить упражнение? "+v:"Are you sure you want to delete the exercise?"+v}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"60%",justifyContent:"space-between"},children:[t.jsx(E,{onClick:()=>g(!1),style:{...n(e).icon,fontSize:"32px",marginBottom:"8px"}}),t.jsx(B,{onClick:()=>q(),style:{...n(e).icon,fontSize:"32px",marginBottom:"8px"}})]})]})]})},n=(e,u,r)=>({container:{backgroundColor:i.get("background",e),display:"flex",flexDirection:"column",overflowY:"scroll",justifyContent:"start",alignItems:"center",height:"78vh",paddingTop:"5vh",width:"100vw",fontFamily:"Segoe UI"},groupPanel:{display:"flex",flexDirection:"row",width:"98vW",height:"6vh",backgroundColor:u?i.get("trainingGroupSelected",e):i.get("trainingGroup",e),borderTop:`1px solid ${i.get("border",e)}`,alignItems:"center",justifyContent:"left",alignContent:"space-between"},exercisePanel:{display:"flex",flexDirection:"column",width:"90vW",height:"5vh",backgroundColor:r?i.get("trainingGroupSelected",e):i.get("background",e),alignItems:"center",justifyContent:"left"},panel:{display:"flex",flexDirection:"column",width:"100vW",alignItems:"center"},text:{textAlign:"left",fontSize:"12px",color:i.get("mainText",e),marginBottom:"12px"},subtext:{textAlign:"left",fontSize:"10px",color:i.get("subText",e),marginBottom:"12px"},icon:{fontSize:"20px",color:i.get("icons",e),marginLeft:"20px"},addContainer:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"20px"},additionalPanel:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",borderRadius:"24px",border:`1px solid ${i.get("border",e)}`,margin:"5px",backgroundColor:i.get("simplePanel",e),boxShadow:`4px 4px 6px ${i.get("shadow",e)}`,width:"85vw",height:"100vw"},textArea:{marginTop:"30px",width:"80%",height:"auto",color:i.get("mainText",e),fontSize:"12px",fontFamily:"Segoe UI",outline:"none",resize:"none",overflowY:"scroll",overflowX:"hidden",overflowWrap:"break-word",wordBreak:"break-word",hyphens:"auto",whiteSpace:"pre-wrap",border:"none",borderBottom:`1px solid ${i.get("border",e)}`}});function p(e){j.prefs[2]==0,j.prefs[3]==0&&Telegram.WebApp.HapticFeedback&&Telegram.WebApp.HapticFeedback.impactOccurred("light")}export{ae as default};
