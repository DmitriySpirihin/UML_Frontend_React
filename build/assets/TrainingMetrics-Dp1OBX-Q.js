import{r as v,j as t,A as _,U as W,t as Y,l as U,f as V,p as X,C as a,az as q,s as J}from"./index-Dvwow3_C.js";import{b as O,c as N}from"./index-C9TbRewW.js";import{g as B,c as z,e as K,l as Q}from"./TrainingLogHelper-1TDb2vd-.js";import{names as Z}from"./TrainingMesurments-BjsHMlwb.js";import"./index-B68gMmH0.js";import"./index-C_eHDYBD.js";import"./MyNumInput-ByvqJ9X4.js";const tt=({data:e=[],mark:n="kg",barsColor:o="#676767ff",linesColor:p,choosenColor:s,maxValColor:u,minValColor:k,textColor:j,langIndex:d})=>{const[l,g]=v.useState(null),r=new Date,y=[];for(let c=59;c>=0;c--){const D=new Date(r);D.setDate(r.getDate()-c),y.push(D.toISOString().split("T")[0])}const M=new Map;let R=0,x=0;e.forEach(c=>{M.set(c.date,c.value),R+=c.value,x++});const m=e.length>0,S=m?Math.min(...e.map(c=>c.value)):0,C=m?Math.max(...e.map(c=>c.value)):1,I=x>0?R/x:0,H=C*1.1,w=c=>H<=0?85:c/H*85,E=(c,D,G)=>{D!==void 0&&(l&&l.date===c?g(null):g({date:c,value:D,index:G}))};return t.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",justifyContent:"center",alignItems:"center"},children:[t.jsxs("div",{style:{width:"100%",height:"25vh",position:"relative",margin:"20px 0",display:"flex",border:`1px solid ${p}`,justifyContent:"center"},children:[t.jsxs("div",{style:{width:"95%",height:"100%",position:"relative"},children:[t.jsx("div",{style:{position:"absolute",left:"0",top:"5%",bottom:"10%",width:"1px",backgroundColor:p}}),t.jsx("div",{style:{position:"absolute",left:"0",right:"0",bottom:"10%",height:"1px",backgroundColor:p}}),t.jsx("div",{style:{position:"absolute",left:"0",top:"5%",width:"100%",height:"85%",overflow:"hidden"},children:m&&t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{position:"absolute",left:"0",right:"0",top:`${90-w(C)}%`,height:"1px",backgroundColor:u,opacity:.7}}),t.jsx("div",{style:{position:"absolute",left:"0",right:"130%",top:`${90-w(C)}%`,fontSize:"6px",color:u,textAlign:"center"},children:Number.isInteger(C)?C:C.toFixed(2)+n}),x>0&&t.jsx("div",{style:{position:"absolute",left:"0",right:"0",top:`${90-w(I)}%`,height:"1px",backgroundColor:p,opacity:.7}}),t.jsx("div",{style:{position:"absolute",left:"0",right:"130%",top:`${90-w(I)}%`,fontSize:"6px",color:p,textAlign:"center"},children:Number.isInteger(I)?I:I.toFixed(2)+n}),t.jsx("div",{style:{position:"absolute",left:"0",right:"0",top:`${90-w(S)}%`,height:"1px",backgroundColor:k,opacity:.7}}),t.jsx("div",{style:{position:"absolute",left:"0",right:"130%",top:`${90-w(S)}%`,fontSize:"6px",color:k,textAlign:"center"},children:Number.isInteger(S)?S:S.toFixed(2)+n})]})}),t.jsx("div",{style:{width:"100%",height:"85%",display:"flex",alignItems:"flex-end",position:"absolute",top:"5%",left:0,gap:"2px"},children:y.map((c,D)=>{const G=M.get(c),F=G!==void 0,L=l?.date===c?s:o;return t.jsx("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",cursor:F?"pointer":"default",transition:"transform 0.2s"},onClick:()=>E(c,G,D),children:t.jsx("div",{style:{width:"80%",height:"100%",backgroundColor:F?L:"transparent",borderLeft:"1px solid rgba(76, 69, 69, 0.2)",borderTopLeftRadius:"4px",borderTopRightRadius:"4px",...F&&{background:`linear-gradient(to top, ${L} ${G/H*100}%, transparent ${G/H*100}%)`}}})},c)})}),t.jsxs("div",{style:{width:"130%",display:"flex",justifyContent:"space-between",position:"absolute",bottom:"0",left:-60,right:0,height:"20px"},children:[t.jsx("div",{style:{fontSize:"10px",color:j,textAlign:"center",width:"33%"},children:y[0]}),t.jsx("div",{style:{fontSize:"10px",color:j,textAlign:"center",width:"33%"},children:y[Math.floor(60/2)]}),t.jsx("div",{style:{fontSize:"10px",color:j,textAlign:"center",width:"33%"},children:y[59]})]})]}),l&&t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0},onClick:()=>g(null)}),t.jsxs("div",{style:{position:"absolute",top:"10%",left:`${l.index/59*95+5/2}%`,transform:"translateX(-50%)",backgroundColor:"rgba(30, 30, 30, 0.95)",color:j,padding:"8px 12px",borderRadius:"6px",fontSize:"14px",fontWeight:"bold",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",zIndex:1,border:`1px solid ${p}`},children:[t.jsx("div",{children:l.date}),t.jsxs("div",{style:{color:o,fontSize:"16px"},children:[l.value," ",n]})]})]})]}),t.jsx("div",{style:{fontSize:"10px",color:j},children:d===0?"*Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð·Ð° 2 Ð¼ÐµÑÑÑ†Ð°":"*2 months data"})]})},et=({startValue:e=50,endValue:n=70,mediumValue:o=60,unit:p="kg",langIndex:s=0,size:u=120,textColor:k="#acbac3ff",linesColor:j="#34495e",minColor:d="#e74c3c",maxColor:b="#2ecc71",mediumcolor:h="#3498db",baseColor:A="#95a5a6"})=>{const f=n>e,P=n-e,T=n===e,$=f?"+":T?"":"-",l=f?"â†—ï¸":T?"âž–":"â†˜ï¸",g=f?b:d,r=j,y=f?d:b,M=h,R=f?b:d,x=u/2,m=7,S=m/2,C=x-m/2,I=C-S-m/2,H=I-S-m/2,w=2*Math.PI*C,E=2*Math.PI*I,c=2*Math.PI*H,D=Math.max(e,o,n)*1.1;return t.jsxs("div",{style:{display:"inline-block"},children:[t.jsxs("svg",{width:u,height:u,viewBox:`0 0 ${u} ${u}`,style:{transform:"rotate(-90deg)"},children:[t.jsx("circle",{cx:x,cy:x,r:C,fill:"none",stroke:r,strokeWidth:m}),t.jsx("circle",{cx:x,cy:x,r:C,fill:"none",stroke:y,strokeWidth:m,strokeDasharray:w,strokeDashoffset:w*(1-e/D),strokeLinecap:"round"}),t.jsx("circle",{cx:x,cy:x,r:I,fill:"none",stroke:r,strokeWidth:m}),t.jsx("circle",{cx:x,cy:x,r:I,fill:"none",stroke:M,strokeWidth:m,strokeDasharray:E,strokeDashoffset:E*(1-o/D),strokeLinecap:"round"}),t.jsx("circle",{cx:x,cy:x,r:H,fill:"none",stroke:r,strokeWidth:m}),t.jsx("circle",{cx:x,cy:x,r:H,fill:"none",stroke:R,strokeWidth:m,strokeDasharray:c,strokeDashoffset:c*(1-n/D),strokeLinecap:"round"})]}),t.jsxs("div",{style:{position:"relative",top:`-${u}px`,width:`${u}px`,height:`${u}px`,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:k,fontSize:"12px",fontWeight:"bold",lineHeight:1.2},children:[t.jsxs("div",{style:{fontSize:"14px",opacity:.8,color:y},children:[s===0?"ÐÐ°Ñ‡Ð°Ð»Ð¾:":"Start:"," ",Number.isInteger(e)?e:e.toFixed(2)," ",p]}),t.jsxs("div",{style:{fontSize:"24px",color:g,marginTop:"4px",display:"flex",alignItems:"center",color:f?b:T?k:d,gap:"4px"},children:[l,t.jsxs("span",{children:[$,Math.abs(P.toFixed())," ",p]})]}),t.jsxs("div",{style:{fontSize:"14px",color:R,marginTop:"4px"},children:[s===0?"ÐšÐ¾Ð½ÐµÑ†:":"End:"," ",Number.isInteger(n)?n:n.toFixed(2)," ",p]}),t.jsxs("div",{style:{fontSize:"10px",color:M,marginTop:"4px"},children:[s===0?"Ð¡Ñ€ÐµÐ´Ð½ÐµÐµ:":"Medium:"," ",Number.isInteger(o)?o:o.toFixed(2)," ",p]})]})]})},ht=()=>{const[e,n]=v.useState("dark"),[o,p]=v.useState(_.prefs[0]),[s,u]=v.useState(_.prefs[4]),[k,j]=v.useState(W.hasPremium),[d,b]=v.useState(0),[h,A]=v.useState(0),[f,P]=v.useState("kg"),[T,$]=v.useState(Number(B()[0])),[l,g]=v.useState([]);return v.useEffect(()=>{const r=Y.subscribe(n),y=U.subscribe(x=>{p(x==="ru"?0:1)}),M=V.subscribe(x=>{u(x)}),R=X.subscribe(j);return()=>{r.unsubscribe(),y.unsubscribe(),M.unsubscribe(),R.unsubscribe()}},[]),v.useEffect(()=>{d===0?(P(h===0?o===0?"ÐºÐ³":"kg":o===0?"Ñ‚Ð¾Ð½Ð½":"tons"),T!==-1&&g(z(T,h===1))):(P(h===0?o===0?"ÐºÐ³":"kg":o===0?"ÑÐ¼":"sm"),g(_.measurments[h]))},[d,h]),t.jsxs("div",{style:i(e).container,children:[t.jsxs("div",{style:i(e).panelRow,children:[t.jsxs("div",{style:{...i(e).panelRow,width:"50%"},children:[t.jsx("div",{style:i(e,s).text,children:o===0?"Ð£Ð¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ñ":"Exercises"}),d===0&&t.jsx(O,{onClick:()=>b(1),style:i(e,s).icon}),d===1&&t.jsx(N,{onClick:()=>b(0),style:i(e,s).icon})]}),t.jsxs("div",{style:{...i(e).panelRow,width:"50%"},children:[t.jsx("div",{style:i(e,s).text,children:o===0?"Ð—Ð°Ð¼ÐµÑ€Ñ‹":"Measures"}),d===1&&t.jsx(O,{onClick:()=>b(0),style:i(e,s).icon}),d===0&&t.jsx(N,{onClick:()=>b(1),style:i(e,s).icon})]})]}),d===0&&t.jsxs("div",{style:i(e).panelRow,children:[t.jsxs("div",{style:{...i(e).panelRow,width:"50%"},children:[t.jsx("div",{style:i(e,s).text,children:o===0?"Ð’ÐµÑ":"Weight"}),h===0&&t.jsx(O,{onClick:()=>A(1),style:i(e,s).icon}),h===1&&t.jsx(N,{onClick:()=>A(0),style:i(e,s).icon})]}),t.jsxs("div",{style:{...i(e).panelRow,width:"50%"},children:[t.jsx("div",{style:i(e,s).text,children:o===0?"Ð¢Ð¾Ð½Ð½Ð°Ð¶":"Tonnage"}),h===1&&t.jsx(O,{onClick:()=>A(0),style:i(e,s).icon}),h===0&&t.jsx(N,{onClick:()=>A(1),style:i(e,s).icon})]})]}),d===0&&t.jsx("select",{style:i(e,s).select,onChange:r=>{g(z(Number(r.target.value))),$(Number(r.target.value))},children:ot({theme:e,langIndex:o,fSize:s})}),d===1&&t.jsx("select",{style:i(e,s).select,onChange:r=>{A(Number(r.target.value))},children:it({theme:e,langIndex:o,fSize:s})}),t.jsx("div",{style:i(e).panel,children:t.jsx(tt,{data:l,mark:f,barsColor:d===0?h===0?a.get("barsColorWeight",e):a.get("barsColorTonnage",e):a.get("barsColorMeasures",e),linesColor:a.get("linesColor",e),choosenColor:a.get("choosenColor",e),langIndex:o,maxValColor:a.get("maxValColor",e),minValColor:a.get("minValColor",e),textColor:a.get("subText",e)})}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[l.length>0&&d===0&&h===0&&t.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"90%"},children:[t.jsx("div",{style:{...i(e,s).text,color:a.get("maxValColor",e),paddingTop:"10px"},children:(o===0?"ðŸ”ºÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð²ÐµÑ: ":"ðŸ”ºMax weight: ")+Math.max(...l.map(r=>r.value))+f}),t.jsx("div",{style:{...i(e,s).text,color:a.get("minValColor",e)},children:(o===0?"ðŸ”»ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð²ÐµÑ: ":"ðŸ”»Min weight: ")+Math.min(...l.map(r=>r.value))+f}),t.jsx("div",{style:{...i(e,s).text,color:a.get("mainText",e)},children:(o===0?"1ï¸âƒ£Ð›ÑƒÑ‡ÑˆÐ¸Ð¹ Ñ€Ð°Ð·Ð¾Ð²Ñ‹Ð¹ Ð¼Ð°ÐºÑ.: ":"Best one rep max: ")+K(T)+f}),t.jsx("div",{style:{...i(e,s).text,color:a.get("mainText",e)},children:(o===0?"1ï¸âƒ£Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ Ñ€Ð°Ð·Ð¾Ð²Ñ‹Ð¹ Ð¼Ð°ÐºÑ: ":"Current one rep max: ")+Q(T)+f})]}),l.length>0&&d===0&&h===1&&t.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"90%"},children:[t.jsx("div",{style:{...i(e,s).text,color:a.get("maxValColor",e),paddingTop:"10px"},children:(o===0?"ðŸ”ºÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ‚Ð¾Ð½Ð½Ð°Ð¶: ":"ðŸ”ºMax tonnage: ")+Math.max(...l.map(r=>r.value)).toFixed(2)+f}),t.jsx("div",{style:{...i(e,s).text,color:a.get("minValColor",e)},children:(o===0?"ðŸ”»ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ‚Ð¾Ð½Ð½Ð°Ð¶: ":"ðŸ”»Min tonnage: ")+Math.min(...l.map(r=>r.value)).toFixed(2)+f})]}),l.length>0&&t.jsx("div",{style:{marginTop:"20px",height:"230px"},children:t.jsx(et,{size:230,startValue:l[0].value,endValue:l[l.length-1].value,mediumValue:Math.round(l.reduce((r,y)=>r+y.value,0)/l.length),unit:f,langIndex:o,linesColor:a.get("linesColor",e),maxColor:a.get("maxValColor",e),minColor:a.get("minValColor",e),textColor:a.get("subText",e),mediumColor:"#43698eff",basecolor:a.get("bottomPanel",e)})}),t.jsx("p",{style:{...i(e,s).text,paddingTop:"10px"},children:o===0?"ÐÐ°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð½Ð° Ð¼Ñ‹ÑˆÑ†Ñ‹ Ð·Ð° Ð½ÐµÐ´ÐµÐ»ÑŽ":"Weekly muscles loaded"}),t.jsx(q,{theme:e,langIndex:o}),t.jsx(st,{theme:e,langIndex:o,fSize:s})]}),!k&&t.jsxs("div",{onClick:r=>{r.stopPropagation()},style:{position:"absolute",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100vw",height:"170vw",top:"15.5%",borderRadius:"24px",backdropFilter:"blur(12px)",zIndex:2},children:[t.jsx("p",{style:{...i(e,s).text,textAlign:"center"},children:o===0?"Ð”ÐµÑ‚Ð°Ð»ÑŒÐ½Ð°Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð¾Ðº ðŸ“Š":"Detailed training statistics ðŸ“Š"}),t.jsx("p",{style:{...i(e,s).text,textAlign:"center"},children:o===0?"ÐžÑ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð¹Ñ‚Ðµ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ Ð² ÑƒÐ¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸ÑÑ…, Ð°Ð½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð½ÐµÐ´ÐµÐ»ÑŒÐ½ÑƒÑŽ Ð½Ð°Ð³Ñ€ÑƒÐ·ÐºÑƒ Ð¸ Ð´Ð¾ÑÑ‚Ð¸Ð³Ð°Ð¹Ñ‚Ðµ Ñ†ÐµÐ»ÐµÐ¹ Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ!":"Track your exercise progress, analyze weekly workload, and hit your goals faster!"}),t.jsxs("p",{style:{...i(e,s).text,textAlign:"center"},children:[" ",o===0?"âœ¨ ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ Ð½Ð° Premium, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð»Ð½Ñ‹Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐµ!":"âœ¨ Upgrade to Premium for full access to advanced analytics!"]}),t.jsxs("p",{style:{...i(e,s).text},children:[" ",o===0?"ðŸ‘‘ Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ Ð¿Ñ€ÐµÐ¼Ð¸ÑƒÐ¼ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ ðŸ‘‘":"ðŸ‘‘ Only for premium users ðŸ‘‘"," "]}),t.jsx("button",{onClick:()=>{J("premium")},style:{...i(e,s).btn,margin:"10px"},children:o===0?"Ð¡Ñ‚Ð°Ñ‚ÑŒ Ð¿Ñ€ÐµÐ¼Ð¸ÑƒÐ¼":"Get premium"})]})]})},i=(e,n)=>({container:{display:"flex",width:"100vw",flexDirection:"column",overflowY:"scroll",overflowX:"hidden",justifyContent:"flex-start",backgroundColor:a.get("background",e),height:"78vh",top:"16vh",paddingTop:"10px"},select:{width:"65%",height:"40px",padding:"10px",marginTop:"10px",alignSelf:"center",color:a.get("mainText",e),backgroundColor:a.get("background",e),fontSize:n===0?"13px":"15px",borderTop:"none",borderLeft:"none",borderRight:"none",borderBottom:`1px solid ${a.get("icons",e)}`},panelRow:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginTop:"10px",gap:"10px"},text:{textAlign:"left",fontSize:n===0?"13px":"15px",color:a.get("mainText",e)},subtext:{textAlign:"left",fontSize:n===0?"11px":"13px",color:a.get("subText",e)},icon:{fontSize:"18px",color:a.get("icons",e)}}),st=({theme:e,langIndex:n,fSize:o})=>{const p=new Date,s=new Date(p);s.setDate(p.getDate()-7),s.setHours(0,0,0,0);let u=0,k=0,j=0,d=0,b=0,h=0;Object.entries(_.trainingLog).forEach(([T,$])=>{const l=new Date(T);l>=s&&l<=p&&$.forEach(g=>{if(g.completed){if(h++,g.duration&&(u+=g.duration/6e4),k+=g.tonnage/1e3,g.duration&&g.tonnage){const r=g.duration/36e5,y=g.tonnage/r*1e-5;y>j&&(j=y)}Object.values(g.exercises).forEach(r=>{Array.isArray(r.sets)&&(d+=r.sets.length,r.sets.forEach(y=>{y.reps&&(b+=y.reps)}))})}})});const A=h>0?Math.round(u):0,f=h>0?k.toFixed(2):0,P=h>0?j.toFixed(2):0;return t.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"90%"},children:[t.jsxs("div",{style:{...i(e,o).text},children:[n===0?"â±ï¸Ð”Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ":"â±ï¸Duration",": ",A," ",n===0?"Ð¼Ð¸Ð½":"min"]}),t.jsxs("div",{style:{...i(e,o).text},children:[n===0?"ðŸ’ªÐ¢Ð¾Ð½Ð½Ð°Ð¶":"ðŸ’ªTonnage",": ",f," ",n===0?"Ð¢Ð¾Ð½Ð½":"Tons"]}),t.jsxs("div",{style:{...i(e,o).text},children:[n===0?"ðŸ”¥Ð˜Ð½Ñ‚ÐµÐ½ÑÐ¸Ð²Ð½Ð¾ÑÑ‚ÑŒ":"ðŸ”¥Intensity",": ",P," ",n===0?"Ð¢Ð¾Ð½/Ñ‡":"Ton/h"]}),t.jsxs("div",{style:{...i(e,o).text},children:[n===0?"ðŸ”ÐŸÐ¾Ð´Ñ…Ð¾Ð´Ð¾Ð²":"ðŸ”Sets",": ",d]}),t.jsxs("div",{style:{...i(e,o).text,marginBottom:"18px"},children:[n===0?"ðŸ”„ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€ÐµÐ½Ð¸Ð¹":"ðŸ”„Reps",": ",b]})]})},ot=({theme:e,langIndex:n,fSize:o})=>B()?.map(s=>t.jsx("option",{value:s,style:{...i(e,!1).text},children:_.exercises.find(u=>u.id===Number(s))?.name[n]},s)),it=({theme:e,langIndex:n,fSize:o})=>Z.map((p,s)=>t.jsx("option",{value:s,style:{...i(e,!1).text},children:p[n]},s));export{ht as default};
