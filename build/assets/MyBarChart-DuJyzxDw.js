import{j as t,C as i}from"./index-DoKzYsoT.js";import{i as M,B as k,s as C,X as z,Y as L,T as $,t as B,v as O}from"./recharts-k8ghPecL.js";const j=r=>{if(!r||r<=0)return"0:00";const o=Math.floor(r/6e4),e=Math.floor(o/60),d=o%60;return`${e}:${d.toString().padStart(2,"0")}`},T=r=>r/(1e3*60*60),I=({data:r=[],theme:o="dark",textColor:e="#94a3b8",linesColor:d="#334155",backgroundColor:b="transparent",height:g=220})=>{const y=o==="light";if(!Array.isArray(r)||r.length===0)return t.jsx("div",{style:{height:`${g}px`,display:"flex",alignItems:"center",justifyContent:"center",color:e,opacity:.6,fontFamily:"Segoe UI, sans-serif",fontSize:"14px"},children:"No sleep data available"});const m={1:i.get("veryBad",o),2:i.get("bad",o),3:i.get("normal",o),4:i.get("good",o),5:i.get("perfect",o)},c=r.map(s=>({date:s.date,ms:s.ms||0,mood:Math.max(1,Math.min(5,Math.round(s.mood||3))),hours:T(s.ms||0)})),S=Math.max(...c.map(s=>s.hours),1),p=s=>m[s]||m[3],v=({active:s,payload:n,label:x})=>{if(s&&n&&n.length){const a=n[0].payload,h=a?.ms||0,l=a?.mood||0,f=l?"★".repeat(l):"—",u=p(l);return t.jsxs("div",{style:{backgroundColor:y?"rgba(255,255,255,0.9)":"rgba(30,30,30,0.9)",backdropFilter:"blur(10px)",padding:"10px 14px",borderRadius:"12px",border:`1px solid ${u}40`,boxShadow:"0 8px 20px rgba(0,0,0,0.15)",fontFamily:"Segoe UI",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"12px",color:e,marginBottom:"4px",opacity:.8},children:x}),t.jsxs("div",{style:{fontSize:"16px",fontWeight:"700",color:i.get("mainText",o)},children:[j(h)," ",t.jsx("span",{style:{fontSize:"11px",fontWeight:"400"},children:"hrs"})]}),t.jsxs("div",{style:{marginTop:"6px",fontSize:"12px",fontWeight:"600",color:u,display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[t.jsx("span",{children:"Mood:"})," ",t.jsx("span",{style:{letterSpacing:"2px"},children:f})]})]})}return null};return t.jsx("div",{style:{width:"100%",height:`${g}px`,backgroundColor:b,borderRadius:"16px",padding:"10px 0",fontFamily:"Segoe UI, sans-serif"},children:t.jsx(M,{width:"100%",height:"100%",children:t.jsxs(k,{data:c,margin:{top:20,right:10,left:-25,bottom:0},barSize:18,children:[t.jsx("defs",{children:[1,2,3,4,5].map(s=>t.jsxs("linearGradient",{id:`grad-${s}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:p(s),stopOpacity:1}),t.jsx("stop",{offset:"100%",stopColor:p(s),stopOpacity:.6})]},s))}),t.jsx(C,{stroke:d,strokeOpacity:.2,vertical:!1,strokeDasharray:"4 4"}),t.jsx(z,{dataKey:"date",tick:{fill:e,fontSize:10,opacity:.7},axisLine:!1,tickLine:!1,dy:10,interval:"preserveStartEnd"}),t.jsx(L,{domain:[0,Math.ceil(S+1)],tick:{fill:e,fontSize:10,opacity:.7},axisLine:!1,tickLine:!1,tickFormatter:s=>`${s}h`}),t.jsx($,{content:t.jsx(v,{}),cursor:{fill:y?"rgba(0,0,0,0.03)":"rgba(255,255,255,0.05)",radius:4}}),t.jsx(B,{dataKey:"hours",radius:[6,6,6,6],animationDuration:1200,shape:s=>{const{x:n,y:x,width:a,height:h,index:l}=s,f=c[l]?.mood||3;return t.jsx("rect",{x:n,y:x,width:a,height:h,fill:`url(#grad-${f})`,rx:a/2,ry:a/2})},children:t.jsx(O,{dataKey:"ms",position:"top",offset:8,fontSize:10,fontWeight:600,fill:e,formatter:s=>j(s)})})]})})})};export{I as M};
