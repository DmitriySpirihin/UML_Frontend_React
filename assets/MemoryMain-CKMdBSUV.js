import{A as z,t as Me,l as $e,f as ze,C as r,j as e,bj as se,bk as Te,bu as Ie,bl as Ue,bv as Je,bw as Qe,bq as G,bx as Xe,U as Ze,p as et,s as tt,bp as nt,by as st,w as ot}from"./index-Dy3PYuuD.js";import{r as i,R as rt}from"./recharts-Bg6K2Pzo.js";import{G as it,a as lt}from"./index-CH7lV8LJ.js";import{m as S,s as at}from"./MentalHelper-EA89zqWS.js";import{B as ct}from"./BreathAudio-BrJNN4AB.js";import{M as ut}from"./MentalInput-C2XLYppE.js";function dt(n,o,s){if(n!==1)return["","",!1];const a=S[o]||S[0],{sequence:t}=yt(o,s),x=St(t),l=t.join(""),c=!!(a.reverseEnabled&&s>=11);return[x,l,c]}const Re=["1","2","3","4","5","6","7","8","9","0"],xt=["‚Üê","‚Üë","‚Üí","‚Üì"],ft=[...xt,...Re],pt=(n,o)=>(n=Math.ceil(n),o=Math.floor(o),Math.floor(Math.random()*(o-n+1))+n),gt=(n,o,s)=>Math.max(o,Math.min(s,n)),mt=(n,o,s)=>n+(o-n)*s;function ht(n,o){const s=Math.max(0,Math.min(3,n??0)),a=S[s],t=gt((o-1)/19,0,1),x=a.elementsRange[0],l=a.elementsRange[1],c=Math.round(mt(x,l,t)),h=a.charShowMs||600,C=a.retentionDelayMs||2e3;return{sequenceLength:c,charShowMs:h,retentionDelayMs:C,memorizeTimeMs:Math.max(1e3,(a.memorizeTimeSecRange?.[0]||5)*1e3)}}function yt(n,o){const{sequenceLength:s,charShowMs:a,retentionDelayMs:t}=ht(n,o),x=n===0?Re:ft,l=[];for(let c=0;c<s;c++){let h;do h=x[pt(0,x.length-1)];while(c>0&&h===l[c-1]);l.push(h)}return{sequence:l,charShowMs:a,retentionDelayMs:t}}function St(n){return Array.isArray(n)?n.join(" "):""}const ke=(n,o)=>{if(!n)return 1;const s=String(n),a=String(o||""),t=s.length;let x=0;for(let l=0;l<t;l++)a[l]===s[l]&&(x+=1);return 1-x/t};function bt(n,o,s,a,t,x,l){if(n!==1)return 0;const h=[140,200,260,330][o]||140,j=1-ke(t,x),b=Math.min(1+s*.02,1.3),d=Math.min(a/6e3,2),y=j===1?Math.max(1.3-(d-1)*.3,1):1,T=l>=5&&j===1?Math.min(1+.1*Math.min(l/10,4),1.5):1;return Math.round(h*j*b*y*T)}function jt(n,o,s){return n!==1?!1:String(s||"")===String(o||"")}function vt(n,o,s){return n!==1?1:ke(o,s)}const we=3e3,Ct=({show:n,type:o,difficulty:s,setShow:a})=>{const[t,x]=i.useState("dark"),[l,c]=i.useState(z.prefs[0]),[h,C]=i.useState(z.prefs[4]),[j,b]=i.useState(600),[d,y]=i.useState(2e3),[T,R]=i.useState(""),[D,P]=i.useState(""),[re,N]=i.useState(!1),[M,K]=i.useState(!1),[L,ie]=i.useState(!1),[v,A]=i.useState("memorize"),[le,ae]=i.useState(0),[I,ce]=i.useState(!1),[Pe,U]=i.useState(!1),[Fe,ue]=i.useState(0),[de,xe]=i.useState(!1),[J,We]=i.useState(1),{initAudio:Ee,playRight:Ye,playWrong:Le}=ct(z.prefs[2]===0),[kt,fe]=i.useState(0),[F,pe]=i.useState(!1),[$,V]=i.useState(0),[B,H]=i.useState(1),[ge,Q]=i.useState(0),[g,qe]=i.useState(""),[me,Ge]=i.useState(!1),[W,X]=i.useState(0),[he,q]=i.useState(""),[Ne,Ae]=i.useState(""),[k,ye]=i.useState(0),[Z,_]=i.useState(0),[E,Dt]=i.useState(z.mentalRecords[o]?.[s]||0),[Se,be]=i.useState(0),[Ve,ee]=i.useState(0);i.useEffect(()=>{if(!M||I||v!=="recall"){R("");return}T==="CC"?P(u=>u.length>0?u.slice(0,-1):""):T===">>>"?je():T.length===1&&P(u=>u.length<g.length?u+T:u),R("")},[T,M,I,v,g.length]),i.useEffect(()=>{!M||I||F||v!=="recall"||D.length===g.length&&je()},[D,g.length,v,M,I,F]),i.useEffect(()=>{let u=null;return re&&(u=setInterval(()=>be(f=>f+100),100)),()=>clearInterval(u)},[re]),i.useEffect(()=>{if(v!=="memorize"||!g||g.length===0)return;const u=g.length,f=j,p=d;if(W<u){const m=setTimeout(()=>X(w=>w+1),f);return()=>clearTimeout(m)}else{const m=setTimeout(()=>{A("recall"),ae(Date.now())},p);return()=>clearTimeout(m)}},[v,g,W,j,d]),i.useEffect(()=>{const u=Me.subscribe(x),f=$e.subscribe(m=>c(m==="ru"?0:1)),p=ze.subscribe(C);return()=>{u.unsubscribe(),f.unsubscribe(),p.unsubscribe()}},[]),i.useEffect(()=>{if(!L){ee(0);return}const u=Math.ceil(we/1e3);ee(u);const f=setInterval(()=>{ee(p=>p<=1?(clearInterval(f),Be(),ie(!1),0):p-1)},1e3);return()=>clearInterval(f)},[L,we]),i.useEffect(()=>{if(!F)return;const u=setInterval(()=>{fe(f=>{if(f>=900){clearInterval(u),pe(!1),fe(0);const p=$+k;return V(p),ye(0),P(""),de?Oe(p):(H(J),te(J)),0}return f+100})},100);return()=>clearInterval(u)},[F,$,k,de,J]),i.useEffect(()=>{if(v!=="memorize"||!g||g.length===0)return;const u=g.length;if(W<u){const f=setTimeout(()=>{X(p=>p+1)},600);return()=>clearTimeout(f)}else{const f=setTimeout(()=>{A("recall"),ae(Date.now())},2e3);return()=>clearTimeout(f)}},[v,g,W]);const Be=()=>{Ee(),V(0),H(1),_(0),Q(0),P(""),q(""),te(1),K(!0),N(!0),U(!1),be(0),ue(Date.now())},te=(u=B)=>{const[f,p,m]=dt(o,s,u),w=S[s];qe(p||""),Ge(m),X(0),A("memorize"),b(w.charShowMs),y(w.retentionDelayMs),P(""),q(""),We(u+1),xe(!1)},je=()=>{if(v!=="recall")return;const u=me?g.split("").reverse().join(""):g,f=le>0?Date.now()-le:0,p=bt(o,s,B,f,u,D,ge),m=vt(o,u,D);wt(m===0?"light":"medium");let w="";m===0?(w=Mt(l),_(ne=>ne+1)):m<.15?w=$t(l):w=(l===0?"–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ":"Correct answer: ")+u;const Ke=m===0?r.get("maxValColor",t):m<.15?r.get("difficulty2",t):r.get("minValColor",t);Ae(Ke),q(w),ye(p),Q(ne=>jt(o,u,D)?ne+1:0),m===0?Ye():Le(),xe(B>=20),A("feedback"),pe(!0)},He=()=>{N(!1),U(!0)},_e=()=>{N(!0),U(!1)},ve=()=>{V(0),H(1),_(0),Q(0),P(""),q(""),te(),ue(Date.now())},Oe=u=>{const f=Date.now(),p=Math.round((f-Fe)/1e3);at(p,$>E,o,s,$+k);const m=u>E,w=It(!1,l,u,Z,20,m,!1);N(!1),q(w),ce(!0),K(!1)},Ce=()=>{V(0),H(1),_(0),ce(!1),a(!1)};return e.jsxs("div",{style:O(t,n).container,children:[!M&&!L&&!I&&e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",width:"100%",height:"80%"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:r.get("mainText",t)},children:S[s].level[l]}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"12px",justifyContent:"center",fontSize:"15px",color:r.get("subText",t)},children:S[s].title[l]}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"12px",justifyContent:"center",fontSize:"15px",color:r.get("subText",t)},children:S[s].description[l]}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"12px",justifyContent:"center",fontSize:"15px",color:r.get("mainText",t)},children:(l===0?"–î–ª–∏–Ω–∞: ":"Length: ")+S[s].elementsRange[0]+"‚Äì"+S[s].elementsRange[1]}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"12px",justifyContent:"center",fontSize:"15px",color:r.get("subText",t)},children:l===0?`–ü–æ–∫–∞–∑: ${S[s].charShowMs} –º—Å/—Å–∏–º–≤–æ–ª`:`Flash: ${S[s].charShowMs} ms/char`}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"8px",justifyContent:"center",fontSize:"15px",color:r.get("subText",t)},children:l===0?`–ü–∞—É–∑–∞ –ø–µ—Ä–µ–¥ –æ—Ç–≤–µ—Ç–æ–º: ${S[s].retentionDelayMs} –º—Å`:`Recall delay: ${S[s].retentionDelayMs} ms`}),S[s].reverse&&e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"8px",justifyContent:"center",fontSize:"15px",color:r.get("maxValColor",t),fontStyle:"italic"},children:l===0?"–û–±—Ä–∞—Ç–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫":"Reverse order"}),e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"50px",fontSize:"12px",color:r.get("subText",t)},children:Tt(l)})]}),!M&&!L&&!I&&e.jsxs("div",{style:O(t,n).controls,children:[e.jsx(se,{onClick:()=>Ce(),style:{fontSize:"60px",color:r.get("close",t)}}),e.jsx(Te,{onClick:()=>ie(!0),style:{fontSize:"60px",color:r.get("play",t)}}),e.jsx(Ie,{onClick:ve,style:{fontSize:"60px",color:r.get("reload",t)}})]}),!I&&L&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",width:"90%",height:"80%"},children:[e.jsx("div",{style:{fontSize:"10rem",marginTop:"180px",color:r.get("icons",t),fontWeight:"bold",lineHeight:1},children:Ve}),e.jsx("div",{style:{fontSize:"2rem",marginBottom:"80px",textAlign:"center"},children:e.jsx("div",{style:{color:r.get("icons",t),marginBottom:"80px"},children:l===0?"–ü—Ä–∏–≥–æ—Ç–æ–≤—å—Ç–µ—Å—å!":"Get ready!"})})]}),!I&&M&&e.jsxs("div",{style:O(t).playContainer,children:[e.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"86%",borderBottom:`1px solid ${r.get("border",t)}`},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"row",marginTop:"6px",width:"60%",gap:"20px",marginRight:"auto"},children:[e.jsx(se,{onClick:()=>K(!1),style:{fontSize:"25px",color:r.get("close",t)}}),Pe?e.jsx(Te,{onClick:_e,style:{fontSize:"25px",color:r.get("play",t)}}):e.jsx(Ue,{onClick:He,style:{fontSize:"25px",color:r.get("pause",t)}}),e.jsx(Ie,{onClick:ve,style:{fontSize:"25px",color:r.get("reload",t)}})]}),e.jsxs("div",{style:{display:"flex",marginLeft:"auto",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:r.get("subText",t)},children:[e.jsx(Je,{}),De(Se)]})]}),e.jsxs("div",{style:{display:"flex",width:"86%",flexDirection:"row",marginTop:"20px",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:r.get("minValColor",t)},children:[e.jsx(Qe,{}),ge]}),e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:r.get("difficulty",t)},children:B+"/ 20"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:r.get("maxValColor",t)},children:[e.jsx(G,{}),$]})]}),e.jsxs("div",{children:[v==="recall"&&!F&&e.jsx("div",{style:{...oe(t,!1),fontSize:"16px"},children:me?l===0?"–ü–æ–≤—Ç–æ—Ä–∏ –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ":"Repeat in reverse":l===0?"–ü–æ–≤—Ç–æ—Ä–∏":"Repeat"}),v==="memorize"&&e.jsxs("div",{style:oe(t,!1),children:[W<g.length?g[W]:"‚è≥"," "]}),F&&e.jsxs("div",{style:oe(t,!0,Ne),children:[e.jsxs("p",{style:{fontSize:"22px",fontWeight:"bold",color:k>0?r.get("maxValColor",t):r.get("minValColor",t)},children:[k>0&&e.jsx(G,{}),k>0?k:l===0?"–Ω–µ –≤–µ—Ä–Ω–æ":"wrong answer"]}),e.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",color:r.get("mainText",t)},children:he})]})]}),e.jsx("div",{style:{fontSize:"34px",fontWeight:"bold",color:r.get("subText",t),marginTop:"auto"},children:D})]}),!I&&M&&v==="recall"&&e.jsx(ut,{setInput:R,type:o}),I&&e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",width:"100%",height:"80%"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:r.get("maxValColor",t)},children:[e.jsx(G,{}),$]}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:r.get("medium",t)},children:zt(l,Se)}),$>E&&e.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:r.get("medium",t)},children:[e.jsx(Xe,{}),l===0?"–ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥!":"New record!"]}),$<=E&&e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:r.get("subText",t)},children:l===0?"—Ä–µ–∫–æ—Ä–¥: "+E:"record: "+E}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"22px",fontWeight:"bold",color:r.get("mainText",t)},children:s<4?Z+" / 20":Z}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:r.get("mainText",t)},children:he})]}),I&&e.jsx("div",{style:O(t,n).controls,children:e.jsx(se,{onClick:()=>{Ce()},style:{fontSize:"60px",color:r.get("close",t)}})})]})},oe=(n,o,s)=>({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"95vw",height:"16vh",marginTop:"20px",backgroundColor:r.get("bottomPanel",n),boxShadow:o?"0px 0px 9px 9px"+s:"2px 2px"+r.get("shadow",n),borderRadius:"24px",fontSize:"39px",fontWeight:"bold",color:r.get("mainText",n),alignContent:"center"}),O=(n,o)=>({container:{backgroundColor:r.get("background",n),display:"flex",position:"fixed",flexDirection:"column",alignItems:"center",height:"86vh",transform:o?"translateY(0)":"translateY(100%)",bottom:"0",transition:"transform 0.2s ease-in-out",width:"100vw",fontFamily:"Segoe UI",borderTop:`2px solid ${r.get("border",n)}`,borderTopLeftRadius:"12px",borderTopRightRadius:"12px",zIndex:2e3},controls:{display:"flex",marginTop:"30px",gap:"50px"},playContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",height:"50vh",bottom:"0",width:"100vw"}}),Tt=n=>n===0?"–û—Ç–≤–µ—á–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ –±—ã—Å—Ç—Ä–æ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –º–∞–∫—Å–∏–º—É–º –æ—á–∫–æ–≤. –ö–∞–∂–¥–∞—è –æ—à–∏–±–∫–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –º–Ω–æ–∂–∏—Ç–µ–ª—å –ø–æ–¥—Ä—è–¥ –∏–¥—É—â–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤. –ó–∞ –∫–∞–∂–¥—ã–µ 5 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–¥—Ä—è–¥ –º–Ω–æ–∂–∏—Ç–µ–ª—å —Ä–∞—Å—Ç—ë—Ç (–º–∞–∫—Å. √ó1.5). –ù–∞ —Å–ª–æ–∂–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω—É–∂–Ω–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ ‚Äî —Ç—Ä–µ–Ω–∏—Ä—É–π—Ç–µ —Ä–∞–±–æ—á—É—é –ø–∞–º—è—Ç—å!":"Answer correctly and quickly to maximize your score. Every mistake resets your streak multiplier. For every 5 correct answers in a row, the multiplier increases (up to √ó1.5). On harder levels, repeat the sequence in reverse ‚Äî train your working memory under pressure!",It=(n,o,s,a,t,x,l=!1)=>{const c=Math.round(a/t*100),h=c>=80,C=c>=50&&!h,j={ru:{high:[`üéâ –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! ${a}/${t} (${c}%) ‚Äî –º–æ–ª–æ–¥–µ—Ü!`,`‚ú® –ü–æ—Ç—Ä—è—Å–∞—é—â–µ! –¢—ã —Å–ø—Ä–∞–≤–∏–ª—Å—è –Ω–∞ ${c}%.`,`üî• –¢—ã –Ω–∞–±—Ä–∞–ª(–∞) ${s} –æ—á–∫–æ–≤ ‚Äî —ç—Ç–æ –≤–ø–µ—á–∞—Ç–ª—è–µ—Ç!`,`üöÄ –í–∞—É! ${a}/${t} ‚Äî —Ç—ã –≤ —É–¥–∞—Ä–µ!`,`üíØ –ò–¥–µ–∞–ª—å–Ω–æ! –¢–∞–∫ –¥–µ—Ä–∂–∞—Ç—å! (${c}%)`],moderate:[`üôÇ –•–æ—Ä–æ—à–∞—è –ø–æ–ø—ã—Ç–∫–∞! ${a}/${t} (${c}%).`,"üå± –¢—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏! –ü—Ä–æ–¥–æ–ª–∂–∞–π –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ.",`üìà –ù–∞–±—Ä–∞–Ω–æ ${s} –æ—á–∫–æ–≤. –£–∂–µ –ª—É—á—à–µ!`,`üëç –ü–æ–ª–æ–≤–∏–Ω–∞ –∏ –±–æ–ª—å—à–µ ‚Äî —ç—Ç–æ –ø—Ä–æ–≥—Ä–µ—Å—Å! (${c}%)`,"üí™ –ù–µ–ø–ª–æ—Ö–æ! –° –∫–∞–∂–¥—ã–º —Ä–∞–∑–æ–º –±—É–¥–µ—Ç –ª—É—á—à–µ."],low:["ü§ó –¢—ã —Å—Ç–∞—Ä–∞–ª—Å—è(–ª–∞—Å—å) ‚Äî —ç—Ç–æ –≥–ª–∞–≤–Ω–æ–µ. –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë!","üå± –ù–µ —Å–¥–∞–≤–∞–π—Å—è! –ö–∞–∂–¥–∞—è –ø–æ–ø—ã—Ç–∫–∞ ‚Äî —à–∞–≥ –≤–ø–µ—Ä—ë–¥.","üå§Ô∏è –°–µ–≥–æ–¥–Ω—è –Ω–µ —Ç–≤–æ–π –¥–µ–Ω—å, –Ω–æ –∑–∞–≤—Ç—Ä–∞ –±—É–¥–µ—Ç –ª—É—á—à–µ!",`üéØ –¢—ã –Ω–∞–±—Ä–∞–ª(–∞) ${s} –æ—á–∫–æ–≤. –ü—Ä–æ–¥–æ–ª–∂–∞–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è!`,`üå± –î–∞–∂–µ ${a} –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ ‚Äî —ç—Ç–æ –Ω–∞—á–∞–ª–æ!`],record:[`üèÜüî• –ù–û–í–´–ô –†–ï–ö–û–†–î! ${s} –æ—á–∫–æ–≤ ‚Äî –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!`,`üéâ‚ú® –¢—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª(–∞) –ª–∏—á–Ω—ã–π —Ä–µ–∫–æ—Ä–¥: ${a}/${t} (${c}%)!`,"üåüüí• –î–∞–∂–µ –µ—Å–ª–∏ –±—ã–ª–æ —Ç—Ä—É–¥–Ω–æ ‚Äî —Ç—ã –ø–æ–±–∏–ª(–∞) —Ä–µ–∫–æ—Ä–¥! –ú–æ–ª–æ–¥–µ—Ü!"],relax_any:["üßò‚Äç‚ôÄÔ∏è –û—Ç–ª–∏—á–Ω–æ –ø–æ—Ä–∞–±–æ—Ç–∞–ª(–∞) –≤ —Å–ø–æ–∫–æ–π–Ω–æ–º —Ä–µ–∂–∏–º–µ!",`üåº –¢—ã —Ä–µ—à–∏–ª(–∞) ${t} –∑–∞–¥–∞—á ‚Äî –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞!`,"‚ú® –°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ –∏ –≤–Ω–∏–º–∞–Ω–∏–µ ‚Äî –∑–∞–ª–æ–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞. –ú–æ–ª–æ–¥–µ—Ü!",`üå± ${a} –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ ‚Äî —Ä–æ—Å—Ç –Ω–∞–ª–∏—Ü–æ!`,"üå§Ô∏è –•–æ—Ä–æ—à–∏–π —Ç–µ–º–ø, –±–µ–∑ —Å–ø–µ—à–∫–∏. –¢–∞–∫ –¥–µ—Ä–∂–∞—Ç—å!"],relax_record:["üåü –ù–æ–≤—ã–π –ª–∏—á–Ω—ã–π –º–∞–∫—Å–∏–º—É–º ‚Äî –¥–∞–∂–µ –≤ —Å–ø–æ–∫–æ–π–Ω–æ–º —Ä–µ–∂–∏–º–µ!",`üßò‚Äç‚ôÇÔ∏èüèÜ –¢—ã –Ω–∞–±—Ä–∞–ª(–∞) ${s} –æ—á–∫–æ–≤ –≤ Relax-—Ä–µ–∂–∏–º–µ ‚Äî –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!`,"üí´ –î–∞–∂–µ –±–µ–∑ —Ç–∞–π–º–µ—Ä–∞ ‚Äî —Ç—ã —É–ª—É—á—à–∏–ª(–∞) —Å–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –†–µ—Å–ø–µ–∫—Ç!"]},en:{high:[`üéâ Awesome! ${a}/${t} (${c}%) ‚Äî well done!`,`‚ú® Outstanding! You scored ${c}%.`,`üî• You got ${s} points ‚Äî impressive!`,`üöÄ Wow! ${a}/${t} ‚Äî you‚Äôre on fire!`,`üíØ Perfect! Keep it up! (${c}%)`],moderate:[`üôÇ Good effort! ${a}/${t} (${c}%).`,"üå± You're making progress! Keep going.",`üìà You scored ${s} points. Getting better!`,`üëç More than half right ‚Äî that‚Äôs growth! (${c}%)`,"üí™ Nice try! You‚Äôll do even better next time."],low:["ü§ó You gave it your best ‚Äî that matters most. Try again!","üå± Don‚Äôt give up! Every attempt brings you closer.","üå§Ô∏è Not your best round, but tomorrow‚Äôs a new chance!",`üéØ You earned ${s} points. Keep practicing!`,`üå± Even ${a} correct answers is a start!`],record:[`üèÜüî• NEW RECORD! ${s} points ‚Äî congratulations!`,`üéâ‚ú® You set a personal best: ${a}/${t} (${c}%)!`,"üåüüí• Even on a tough day ‚Äî you broke your record! Amazing!"],relax_any:["üßò‚Äç‚ôÄÔ∏è Great job practicing in Relax Mode!",`üåº You solved ${t} problems ‚Äî wonderful focus!`,"‚ú® Calm and steady wins the race. Well done!",`üå± ${a} correct answers ‚Äî you're growing!`,"üå§Ô∏è A peaceful pace, great accuracy. Keep it up!"],relax_record:["üåü New personal best ‚Äî even in Relax Mode!",`üßò‚Äç‚ôÇÔ∏èüèÜ You scored ${s} points in Relax Mode ‚Äî congrats!`,"üí´ No timer, no stress ‚Äî and still a new record! Amazing!"]}},b=o===0?j.ru:j.en;let d=[];if(l?x?d=[...b.relax_record]:d=[...b.relax_any]:x?d=[...b.record]:h?d=[...b.high]:C?d=[...b.moderate]:d=[...b.low],d.length===0)return o===0?"–•–æ—Ä–æ—à–æ! üòä":"Good job! üòä";const y=Math.floor(Math.random()*d.length);return d[y]};function wt(n){z.prefs[3]==0&&Telegram.WebApp.HapticFeedback&&Telegram.WebApp.HapticFeedback.impactOccurred(n)}function Mt(n){const a=n===0?["–û—Ç–ª–∏—á–Ω–æ!","–ü—Ä–µ–∫—Ä–∞—Å–Ω–æ!","–í–µ—Ä–Ω–æ!","–¢–æ—á–Ω–æ!","–ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ!","–ò–¥–µ–∞–ª—å–Ω–æ!","–ü—Ä–∞–≤–∏–ª—å–Ω–æ!","–ú–æ–ª–æ–¥–µ—Ü!","–¢–æ—á–Ω–æ –≤ —Ü–µ–ª—å!","–ë–µ–∑ –æ—à–∏–±–æ–∫!"]:["Great!","Perfect!","Yes!","Exactly!","Awesome!","Brilliant!","Spot on!","Well done!","Nailed it!","Correct!"];return a[Math.floor(Math.random()*a.length)]}function $t(n){const a=n===0?["–†—è–¥–æ–º!","–ü–æ—á—Ç–∏!","–ï—â–µ —á—É—Ç—å-—á—É—Ç—å!","–ü—Ä–æ–¥–æ–ª–∂–∞–π!","–ü–æ–ø—Ä–æ–±—É–π –µ—â–µ!","–û—á–µ–Ω—å –±–ª–∏–∑–∫–æ!","–•–æ—Ä–æ—à–∞—è –ø–æ–ø—ã—Ç–∫–∞!","–ù–µ —Å–æ–≤—Å–µ–º‚Ä¶","–ü–æ—á—Ç–∏ –ø–æ–ª—É—á–∏–ª–æ—Å—å!","–¢—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏!"]:["Close!","Almost!","Nearly!","Keep going!","Try again!","So close!","Good attempt!","Not quite!","One more try!","You're getting there!"];return a[Math.floor(Math.random()*a.length)]}function De(n){const o=Math.floor(n/1e3),s=Math.floor(o/60),a=o%60;return`${String(s).padStart(2,"0")}:${String(a).padStart(2,"0")}`}function zt(n,o){const s=De(o);return n===0?`–í–∞—à–µ –≤—Ä–µ–º—è: ${s}`:`Your time is: ${s}`}const qt=()=>{const[n,o]=rt.useState("dark"),[s,a]=i.useState(z.prefs[0]),[t,x]=i.useState(z.prefs[4]),[l,c]=i.useState(!1),[h,C]=i.useState(0),[j,b]=i.useState(Ze.hasPremium);return i.useEffect(()=>{const d=et.subscribe(b);return()=>d.unsubscribe()},[]),i.useEffect(()=>{const d=Me.subscribe(o),y=$e.subscribe(R=>{a(R==="ru"?0:1)}),T=ze.subscribe(R=>{x(R)});return()=>{d.unsubscribe(),y.unsubscribe(),T.unsubscribe()}},[]),e.jsxs("div",{style:Y(n).container,children:[e.jsx("div",{style:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyItems:"center"},children:e.jsx("div",{style:{width:"100%",display:"grid",gridTemplateColumns:"1fr 1fr",alignItems:"center",justifyItems:"center"},children:S.map((d,y)=>{const T="difficulty"+y;return e.jsx(Rt,{width:"46vw",difficulty:y,protocol:d,setLevel:C,color:r.get(T,n),theme:n,lang:s,click:()=>{C(y),c(!0)},fSize:t,hasPremium:j,needBlur:y>1},y)})})}),e.jsx(Ct,{type:1,difficulty:h,show:l,setShow:c})]})},Y=(n,o)=>({container:{backgroundColor:r.get("background",n),display:"flex",flexDirection:"column",overflowY:"scroll",justifyItems:"center",alignItems:"center",height:"78vh",paddingTop:"5vh",width:"100vw",fontFamily:"Segoe UI"},scrollView:{height:"95%",width:"100%",overflowY:"scroll",display:"flex",flexDirection:"column"},mainText:{textAlign:"left",fontSize:o===0?"15px":"17px",color:r.get("mainText",n)},subtext:{textAlign:"center",fontSize:o===0?"12px":"14px",color:r.get("mainText",n),margin:"2px"},icon:{fontSize:"32px",color:r.get("mainText",n)},simplePanelRow:{width:"75vw",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},cardText:{textAlign:"left",marginBottom:"5px",fontSize:o===0?"14px":"16px",color:r.get("mainText",n),marginLeft:"30px"},text:{textAlign:"left",fontSize:o===0?"10px":"12px",color:r.get("subText",n),marginLeft:"30px"},btn:{width:"70%",height:"40px",borderRadius:"12px",fontSize:o===0?"13px":"14px",color:r.get("mainText",n),backgroundColor:r.get("simplePanel",n)}});function Rt({protocol:n,difficulty:o,click:s,width:a,color:t,theme:x,lang:l,fSize:c,hasPremium:h=!1,needBlur:C=!1}){const j=()=>o===0?e.jsx(nt,{style:d}):o===1?e.jsx(G,{style:d}):o===2?e.jsx(it,{style:d}):o===3?e.jsx(lt,{style:d}):o===4?e.jsx(st,{style:d}):e.jsx(ot,{style:d}),b={alignItems:"center",justifyContent:"center",display:"flex",width:a,flexDirection:"row",height:"12vh",marginTop:"15px",borderRadius:"24px",backgroundColor:t,overflow:"hidden",position:"relative",boxShadow:"3px 3px 2px rgba(0,0,0,0.3)"},d={fontSize:"86px",rotate:"-20deg",position:"absolute",right:"-10px",top:"30%",color:r.get("svgColor",x)};return e.jsxs("div",{style:b,onClick:s,children:[!h&&C&&e.jsxs("div",{onClick:y=>{y.stopPropagation()},style:{position:"absolute",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",width:"100%",height:"100%",left:"0",top:"0",backdropFilter:"blur(8px)",zIndex:2},children:[e.jsxs("div",{style:{...Y(x,c).mainText},children:[" ",l===0?"–ü—Ä–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è":"Pro category"," "]}),e.jsxs("div",{style:{...Y(x,c).mainText},children:[" ",l===0?"üëë–ø—Ä–µ–º–∏—É–ºüëë":"üëëpremiumüëë"," "]}),e.jsx("button",{onClick:()=>{tt("premium")},style:{...Y(x,c).btn},children:l===0?"–°—Ç–∞—Ç—å –ø—Ä–µ–º–∏—É–º":"Get premium"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"65%",height:"22%",alignItems:"center",justifyContent:"flex-end",position:"absolute",top:"5%",left:"30%",fontWeight:"bold",fontSize:"16px",color:r.get("maxValColor",x)},children:[e.jsx(G,{})," ",z.mentalRecords[1][o]]}),e.jsxs("div",{style:{width:"90%",height:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},children:[e.jsx("h2",{style:Y(x,c).cardText,children:n.level[l]}),e.jsx("p",{style:Y(x,c).text,children:n.title[l]})]}),j()]})}export{qt as default};
