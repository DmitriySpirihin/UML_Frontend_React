import{j as n,C as a,A as C,r as c,t as _e,l as Ke,f as Ve,aY as At,U as Pt,p as Dt,H as K,g as Re,bh as It,S as Rt,bi as Tt,_ as Mt,i as ae,k as oe,aP as Et,aQ as Ft,s as Wt,aT as le}from"./index-D_Yv9-Hx.js";import{b as Te,c as Me,d as zt,e as Lt}from"./index-Bnuq_Ok_.js";import{F as V,a as X}from"./index-CsP0ZkxU.js";import{M as ee}from"./MyNumInput-B_tNbZQm.js";import{m as Bt}from"./TrainingLogHelper-DyafNGoC.js";import{c as xe,s as Ce,a as Xe,b as Ye,d as Nt,e as $t,f as Se,g as ke,h as Ot,i as Gt,j as Je,k as Ee,l as Ht,p as _t,r as Ue,D as Kt,u as qe,R as Vt,S as Xt,m as Yt,n as Jt,o as Ze,q as Ut,t as qt,v as Zt,w as Qt,x as es,y as ts,z as ss,A as ns,Z as is,L as de,G as rs,B as Fe,C as We,E as ze,F as Q,H as as,I as os,J as ls,K as q,M as cs,N as ds,O as us,P as ps,Q as Qe,T as xs,U as we,V as gs,W as ue,X as hs,Y as fs,_ as ms,$ as ys,a0 as vs,a1 as bs,a2 as js,a3 as ws,a4 as Cs}from"./TrainingAnaliticsTabs-7KJGu95K.js";class Ss{static muscleIconsSrc=[{0:"images/BodyIcons/M0.png",1:"images/BodyIcons/M1.png",2:"images/BodyIcons/M2.png",3:"images/BodyIcons/M3.png"},{0:"images/BodyIcons/M0f.png",1:"images/BodyIcons/M1f.png",2:"images/BodyIcons/M2f.png",3:"images/BodyIcons/M3f.png"}];static get(t,s,i){return n.jsx("div",{style:{display:"flex",width:"15%",marginLeft:"auto",marginRight:"10px"},children:n.jsx("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:n.jsx("div",{style:{width:"45px",height:"45px",border:`2px solid ${a.get("border",i)}`,borderRadius:"50%",overflow:"hidden"},children:n.jsx("img",{src:this.muscleIconsSrc[C.pData.gender][t],style:{width:"55px",height:"55px"}})})})})}}const Le={gain:{id:0,titleRu:"Набор",titleEn:"Gain",kcalMinFactor:1.1,kcalMaxFactor:1.15,macrosRu:"1.8–2.2 г / 1 г / 4–6 г",macrosEn:"1.8–2.2 g / 1 g / 4–6 g"},strength:{id:1,titleRu:"Набор",titleEn:"Gain",kcalMinFactor:1.1,kcalMaxFactor:1.15,macrosRu:"1.8–2.2 г / 1 г / 4–6 г",macrosEn:"1.8–2.2 g / 1 g / 4–6 g"},cut:{id:2,titleRu:"Похудение",titleEn:"Weight loss",kcalMinFactor:.85,kcalMaxFactor:.9,macrosRu:"1.6–2 г / 0.8 г / 2–3 г",macrosEn:"1.6–2 g / 0.8 g / 2–3 g"},maintain:{id:3,titleRu:"Поддержание",titleEn:"Maintenance",kcalMinFactor:1,kcalMaxFactor:1,macrosRu:"1.2–1.6 г / 1 г / 4 г",macrosEn:"1.2–1.6 g / 1 g / 4 g"}},ks=({bmi:e,trains:t})=>{const[s,i]=c.useState("dark"),[r,l]=c.useState(C.prefs[0]),[d,o]=c.useState(C.prefs[4]),[x,f]=c.useState(C.pData.goal),h=c.useMemo(()=>As(e,t),[e,t]);c.useEffect(()=>{const S=_e.subscribe(i),M=Ke.subscribe(I=>l(I==="ru"?0:1)),j=Ve.subscribe(o);return()=>{S.unsubscribe(),M.unsubscribe(),j.unsubscribe()}},[]);const g=c.useMemo(()=>Object.values(Le).find(S=>S.id===x)??Le.gain,[x]),m=et(s,d),v=r===0,A=v?"Рекомендации для вас с учётом недельной нагрузки":"Personal recommendations based on weekly workload",P=Math.round(h*g.kcalMinFactor),R=Math.round(h*g.kcalMaxFactor),D=g.kcalMinFactor===g.kcalMaxFactor?`${P} ${v?"ккал":"kcal"}`:`${P}–${R} ${v?"ккал":"kcal"}`;return n.jsxs("div",{style:m.container,children:[n.jsx("div",{style:m.title,children:A}),n.jsxs("div",{style:m.tableWrapper,children:[n.jsxs("div",{style:m.rowHeader,children:[n.jsx("div",{style:m.colGoal,children:v?"Цель":"Goal"}),n.jsx("div",{style:m.colCalories,children:v?"Калории (ккал)":"Calories (kcal)"}),n.jsx("div",{style:m.colMacros,children:v?"БЖУ (на кг веса, г)":"PFC (per kg of weight, g)"})]}),n.jsxs("div",{style:{...m.row,border:"1px solid "+a.get("border",s)},children:[n.jsx("div",{style:m.colGoalText,children:v?g.titleRu:g.titleEn}),n.jsx("div",{style:m.colCaloriesText,children:D}),n.jsx("div",{style:m.colMacrosText,children:v?g.macrosRu:g.macrosEn})]})]}),n.jsx(Ps,{theme:s,langIndex:r,fSize:d})]})},et=(e,t)=>({container:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",width:"100%",alignSelf:"center",marginBottom:"20px"},title:{fontSize:t===0?"13px":"15px",color:a.get("mainText",e),marginBottom:"8px",textAlign:"center"},tableWrapper:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",width:"95%",alignSelf:"center",border:"1px solid "+a.get("maxValColor",e),borderRadius:"10px",overflow:"hidden"},rowHeader:{width:"100%",height:"44px",display:"flex",flexDirection:"row",alignItems:"center",borderBottom:"1px solid "+a.get("border",e),backgroundColor:a.get("bgSecondary",e)},row:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",height:"50px"},colGoal:{width:"25%",padding:"0 6px",fontSize:t===0?"11px":"13px",color:a.get("subText",e),borderRight:"1px solid "+a.get("border",e),textAlign:"center"},colCalories:{width:"40%",padding:"0 6px",fontSize:t===0?"11px":"13px",color:a.get("subText",e),borderRight:"1px solid "+a.get("border",e),textAlign:"center"},colMacros:{width:"35%",padding:"0 6px",fontSize:t===0?"11px":"13px",color:a.get("subText",e),textAlign:"center"},colGoalText:{width:"25%",padding:"0 6px",fontSize:t===0?"13px":"15px",color:a.get("mainText",e),borderRight:"1px solid "+a.get("border",e),textAlign:"center"},colCaloriesText:{width:"40%",padding:"0 6px",fontSize:t===0?"13px":"15px",color:a.get("mainText",e),borderRight:"1px solid "+a.get("border",e),textAlign:"center"},colMacrosText:{width:"35%",padding:"0 6px",fontSize:t===0?"11px":"13px",color:a.get("mainText",e),textAlign:"center",lineHeight:1.2},subtext:{fontSize:t===0?"11px":"13px",color:a.get("subText",e),marginTop:"6px",textAlign:"center",padding:"0 12px"}}),As=(e,t=3)=>{const s=Math.min(7,Math.max(0,t));let i;return s===0?i=1.2:s<=2?i=1.375:s<=4?i=1.55:s===5?i=1.725:i=1.9,e*i},Ps=({theme:e,langIndex:t,fSize:s})=>{const i=t===0;return n.jsx("div",{style:{...et(e,s).subtext},children:i?"Информация в этом приложении носит общий ознакомительный характер и не является медицинской рекомендацией. При наличии заболеваний проконсультируйтесь с врачом.":"The information in this app is for general informational purposes only and does not constitute medical advice. If you have any medical conditions, please consult your doctor."})},Ds=[["images/BodyIcons/SideS.png","images/BodyIcons/SideSf.png"],["images/BodyIcons/Side.png","images/BodyIcons/Sidef.png"],["images/BodyIcons/SideL.png","images/BodyIcons/SideLf.png"],["images/BodyIcons/SideXL.png","images/BodyIcons/SideXLf.png"]],Is=[["Сила","Strength"],["Набор массы","Mass gain"],["Потеря веса","Weight loss"]],Rs=({theme:e,langIndex:t,fSize:s,data:i,filled:r,height:l,age:d,gender:o,goal:x,wrist:f})=>{const[h,g]=c.useState(!1);return n.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column"},children:[!r&&n.jsxs("div",{style:{...z(e,s).subtext,textAlign:"center",marginTop:"10vh"},children:[t===0?"Заполните персональные данные для рекомендаций и статистики":"Fill personal data to get statistic"," "]}),r&&i[0].length>0&&n.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",width:"95%",alignSelf:"center",marginBottom:"20px"},children:[n.jsx("img",{src:Ds[Ns(i,l)][o],alt:"",style:{width:"30vw",height:"60vw",margin:"10px"}}),n.jsxs("div",{onClick:()=>g(!0),style:{width:"70%",justifyContent:"flex-start",alignItems:"flex-start"},children:[n.jsxs("div",{style:{border:`1px solid ${a.get("border",e)}`,borderRadius:"12px",boxShadow:`0px 0px 10px ${a.get("shadow",e)}`,marginTop:"10px",display:"flex",flexDirection:"column",width:"90%",justifyContent:"center",alignItems:"flex-start",padding:"10px"},children:[n.jsx("div",{style:z(e,s).text,children:(t===0?"Возраст: ":"Age: ")+d+(t===0?" лет":" yers old")}),n.jsx("div",{style:z(e,s).text,children:(t===0?"Рост: ":"Height: ")+l+(t===0?" см":" sm")}),n.jsx("div",{style:z(e,s).text,children:(t===0?"Вес: ":"Weight: ")+ce(i,0,t)}),n.jsx("div",{style:z(e,s).text,children:(t===0?"% жира: ":"% fat: ")+Ls(i,l,d,o)}),n.jsx("div",{style:{...z(e,s).text,color:a.get("light",e)},children:(t===0?"Цель: ":"Goal: ")+Is[x][t]})]}),n.jsxs("div",{style:{border:`1px solid ${a.get("border",e)}`,borderRadius:"12px",boxShadow:`0px 0px 10px ${a.get("shadow",e)}`,display:"flex",flexDirection:"column",width:"90%",justifyContent:"center",alignItems:"flex-start",padding:"10px",marginTop:"8px"},children:[n.jsx("div",{style:{...z(e,s).text,width:"90%",borderBottom:`1px solid ${a.get("border",e)}`},children:t===0?"Пропорции":"Proportions"}),n.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"90%"},children:[n.jsx($s,{theme:e,langIndex:t,data:i}),n.jsx(Os,{theme:e,langIndex:t,data:i,height:C.pData.height})]}),n.jsx("div",{style:z(e,s).text,children:(t===0?"Талия: ":"Waist: ")+ce(i,1,t)}),n.jsx("div",{style:z(e,s).text,children:(t===0?"Бедра: ":"Hip: ")+ce(i,4,t)}),n.jsx("div",{style:z(e,s).text,children:(t===0?"Грудь: ":"Chest: ")+ce(i,3,t)})]}),n.jsxs("div",{style:{border:`1px solid ${a.get("border",e)}`,borderRadius:"12px",boxShadow:`0px 0px 10px ${a.get("shadow",e)}`,display:"flex",flexDirection:"column",width:"90%",justifyContent:"center",alignItems:"flex-start",padding:"10px",marginTop:"8px"},children:[n.jsx("div",{style:{...z(e,s).text,width:"90%",borderBottom:`1px solid ${a.get("border",e)}`},children:t===0?"Расчеты":"Calculations"}),n.jsx("div",{style:z(e,s).text,children:(t===0?"Тип телосложения: ":"Body type: ")+Ws(Be(l,f,o),t)}),n.jsx("div",{style:{...z(e,s).text,color:Fs(e,i,C.pData.height)},children:(t===0?"ИМТ: ":"BMI: ")+zs(i,t,l)}),n.jsx("div",{style:z(e,s).text,children:(t===0?"Идеальный вес: ":"Ideal weight: ")+Ts(l,o,Be(l,f,o)).toFixed(1)+(t===0?" кг":" kg")}),n.jsx("div",{style:z(e,s).text,children:(t===0?"Базовый метаболизм: ":"Basic metabolism: ")+Bs(i,t,l,d,o)})]})]})]}),h&&n.jsx("div",{onClick:()=>g(!1),style:{width:"100vw",top:0,height:"100vh",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9e3,backgroundColor:"rgba(0,0,0,0.6)"},children:n.jsxs("div",{style:{width:"90%",height:"70%",backgroundColor:a.get("background",e),borderRadius:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[n.jsx("div",{style:{...z(e,s).text,margin:"10px",whiteSpace:"pre-wrap"},children:Gs(t)}),n.jsx("div",{style:{...z(e,s).subtext,margin:"10px",textAlign:"center"},children:t===0?"!нажми чтобы закрыть!":"!tap to close!"})]})}),r&&i[0].length>0&&n.jsx(ks,{bmi:tt(i[0][i[0].length-1]?.value,l,d,o),trains:Bt()})]})},z=(e,t,s=!1)=>({panel:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyItems:"center"},panelRow:{display:"flex",width:"90%",alignItems:"center",justifyContent:"flex-start",marginTop:"10px",gap:"10px",borderBottom:`1px solid ${a.get("border",e)}`},textDate:{textAlign:"center",fontSize:"18px",color:a.get("mainText",e),marginBottom:"4px"},text:{textAlign:"left",fontSize:t===0?"13px":"15px",color:a.get("mainText",e),margin:"2px"},subtext:{textAlign:"left",fontSize:t===0?"11px":"13px",color:a.get("subText",e)},icon:{fontSize:"18px",marginLeft:"15px",color:a.get("icons",e)}}),ge=(e,t)=>e<=0||t<=0?null:e/Math.pow(t/100,2),Be=(e,t,s)=>{if(!e||!t)return"medium";const i=typeof s=="number"?s===0?"male":"female":s,r=t,l=e/2.54;return i==="male"?l>65?r<6.5*2.54?"small":r<=7.5*2.54?"medium":"large":l>=62?r<6*2.54?"small":r<=6.5*2.54?"medium":"large":r<5.5*2.54?"small":r<=6*2.54?"medium":"large":r<5.5*2.54?"small":r<=6*2.54?"medium":"large"},Ts=(e,t,s="medium")=>{const i=e/2.54;let r;return t===0?r=50+2.3*(i-60):r=45.5+2.3*(i-60),s==="small"?r*=.9:s==="large"&&(r*=1.1),Math.max(r,30)},Ms=(e,t,s)=>{if(e<=0||t<18)return null;const i=s==="male"?1:0,r=1.2*e+.23*t-10.8*i-5.4;return Math.max(0,Math.min(100,r))},tt=(e,t,s,i)=>e<=0||t<=0||s<=0?null:i==="male"?10*e+6.25*t-5*s+5:10*e+6.25*t-5*s-161,Es=(e,t)=>e<16?t===0?"выраженный дефицит массы":"severe thinness":e<17?t===0?"умеренный дефицит массы":"moderate thinness":e<18.5?t===0?"недостаточная масса":"mild thinness":e<25?t===0?"норма":"normal":e<30?t===0?"избыточная масса":"overweight":e<35?t===0?"ожирение I степени":"obesity class I":e<40?t===0?"ожирение II степени":"obesity class II":t===0?"ожирение III степени":"obesity class III",Fs=(e,t,s)=>{const i=ge(t[0][t[0].length-1].value,s);return i>18.5&&i<25?a.get("light",e):a.get("heavy",e)},Ws=(e,t)=>{switch(e){case"small":return t===0?"астеник":"asthenic";case"medium":return t===0?"нормостеник":"normosthenic";case"large":return t===0?"гиперстеник":"hypersthenic";default:return t===0?"неизвестно":"unknown"}},ce=(e,t,s)=>{if(e[t].length===0)return"-";const i=t<1?s===0?" кг":" kg":s===0?" см":" sm";return e[t][e[t].length-1].value.toFixed(1)+i},zs=(e,t,s)=>{if(e[0][e[0].length-1].value===null)return"-";const i=ge(e[0][e[0].length-1].value,s);return i.toFixed(1)+" "+Es(i,t)},Ls=(e,t,s,i)=>e[0][e[0].length-1].value===null?"-":Ms(ge(e[0][e[0].length-1].value,t),s,i).toFixed(),Bs=(e,t,s,i,r)=>e[0][e[0].length-1].value===null?"-":tt(e[0][e[0].length-1].value,s,i,r).toFixed()+(t===0?" ккал":" kcal"),Ns=(e,t)=>{if(e[0][e[0].length-1].value===null)return 1;const s=ge(e[0][e[0].length-1].value,t);return s<18.5?0:s<25?1:s<35?2:3},$s=({theme:e,langIndex:t,data:s})=>{const i=s[1]?.[s[1]?.length-1],r=s[4]?.[s[4]?.length-1];if(!i||!r)return null;const l=i.value,d=r.value,o=l/d,x=C.pData.gender===0;let f="normal",h=t===0?"Норма":"Normal";x?o>=.9&&o<1?f="elevated":o>=1&&(f="high",h=t===0?"Повышенный риск":"High risk"):o>=.85&&o<.9?f="elevated":o>=.9&&(f="high",h=t===0?"Повышенный риск":"High risk");const g=f==="normal"?a.get("maxValColor",e):f==="elevated"?a.get("minValColor",e):a.get("danger",e);return n.jsx("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",backgroundColor:g,borderRadius:"5px",minWidth:"45%"},children:n.jsxs("span",{style:{...z(e,!1,!1).text,color:a.get("background",e),fontSize:"12px"},children:["WHR: ",o.toFixed(2),h]})})},Os=({theme:e,langIndex:t,data:s,height:i})=>{const r=s[1]?.[s[1]?.length-1];if(!r)return null;const d=r.value/i;let o="normal";d>=.5&&d<.6?o="elevated":d>=.6&&(o="high");const x=o==="normal"?a.get("maxValColor",e):o==="elevated"?a.get("minValColor",e):a.get("danger",e);return n.jsx("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",backgroundColor:x,borderRadius:"5px",minWidth:"45%"},children:n.jsxs("span",{style:{...z(e,!1,!1).text,color:a.get("background",e),fontSize:"12px"},children:["WHtR: ",d.toFixed(2)]})})},Gs=e=>e===0?`• **ИМТ (Индекс массы тела)** — соотношение веса и роста.  
Норма: 18.5–24.9. Выше 25 — избыточный вес, выше 30 — ожирение. ИМТ не учитывает мышечную массу.  

• **WHR (Талия–бедра)** — окружность талии ÷ окружность бёдер.  
У мужчин: <0.95 — низкий риск, >1.0 — высокий.  
У женщин: <0.80 — низкий риск, >0.85 — высокий.  
Высокий WHR связан с риском сердечно-сосудистых заболеваний и диабета.  

• **WHtR (Талия–рост)** — окружность талии ÷ рост.  
Здоровый уровень: <0.5. Значение ≥0.5 указывает на повышенный риск хронических заболеваний, независимо от ИМТ.  

• **Базальный метаболизм (BMR)** — количество калорий, необходимых организму в покое для поддержания жизненных функций.  
Рассчитывается по формулам (например, Миффлина–Сан Жеора) с учётом возраста, пола, веса и роста.  
Используется как основа для расчёта суточных энергозатрат.`:`• **BMI (Body Mass Index)** — weight-to-height ratio.  
Normal range: 18.5–24.9. ≥25 indicates overweight, ≥30 indicates obesity. BMI does not account for muscle mass.  

• **WHR (Waist-to-Hip Ratio)** — waist circumference ÷ hip circumference.  
Men: <0.95 = low risk, >1.0 = high risk.  
Women: <0.80 = low risk, >0.85 = high risk.  
High WHR is linked to increased risk of heart disease and type 2 diabetes.  

• **WHtR (Waist-to-Height Ratio)** — waist circumference ÷ height.  
Healthy target: <0.5. A value ≥0.5 suggests elevated risk of chronic diseases, regardless of BMI.  

• **Basal Metabolic Rate (BMR)** — calories your body needs at rest to maintain vital functions.  
Calculated using equations (e.g., Mifflin-St Jeor) based on age, sex, weight, and height.  
Serves as the foundation for estimating daily calorie needs.`;var st=(e,t,s)=>Xe(e,"xAxis",Se(e,t),s),nt=(e,t,s)=>Ye(e,"xAxis",Se(e,t),s),it=(e,t,s)=>Xe(e,"yAxis",ke(e,t),s),rt=(e,t,s)=>Ye(e,"yAxis",ke(e,t),s),Hs=xe([Ce,st,it,nt,rt],(e,t,s,i,r)=>Je(e,"xAxis")?Ee(t,i,!1):Ee(s,r,!1)),_s=(e,t)=>t,at=xe([Ht,_s],(e,t)=>e.filter(s=>s.type==="area").find(s=>s.id===t)),ot=e=>{var t=Ce(e),s=Je(t,"xAxis");return s?"yAxis":"xAxis"},Ks=(e,t)=>{var s=ot(e);return s==="yAxis"?ke(e,t):Se(e,t)},Vs=(e,t,s)=>Ot(e,ot(e),Ks(e,t),s),Xs=xe([at,Vs],(e,t)=>{var s;if(!(e==null||t==null)){var{stackId:i}=e,r=Gt(e);if(!(i==null||r==null)){var l=(s=t[i])===null||s===void 0?void 0:s.stackedData,d=l?.find(o=>o.key===r);if(d!=null)return d.map(o=>[o[0],o[1]])}}}),Ys=xe([Ce,st,it,nt,rt,Xs,Nt,Hs,at,$t],(e,t,s,i,r,l,d,o,x,f)=>{var{chartData:h,dataStartIndex:g,dataEndIndex:m}=d;if(!(x==null||e!=="horizontal"&&e!=="vertical"||t==null||s==null||i==null||r==null||i.length===0||r.length===0||o==null)){var{data:v}=x,A;if(v&&v.length>0?A=v:A=h?.slice(g,m+1),A!=null)return gn({layout:e,xAxis:t,yAxis:s,xAxisTicks:i,yAxisTicks:r,dataStartIndex:g,areaSettings:x,stackedData:l,displayedData:A,chartBaseValue:f,bandSize:o})}}),Js=["id"],Us=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)({}).hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},U.apply(null,arguments)}function lt(e,t){if(e==null)return{};var s,i,r=qs(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)s=l[i],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function qs(e,t){if(e==null)return{};var s={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;s[i]=e[i]}return s}function Ne(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,i)}return s}function Z(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Ne(Object(s),!0).forEach(function(i){Zs(e,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ne(Object(s)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(s,i))})}return e}function Zs(e,t,s){return(t=Qs(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Qs(e){var t=en(e,"string");return typeof t=="symbol"?t:t+""}function en(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var i=s.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pe(e,t){return e&&e!=="none"?e:t}var tn=e=>{var{dataKey:t,name:s,stroke:i,fill:r,legendType:l,hide:d}=e;return[{inactive:d,dataKey:t,type:l,color:pe(i,r),value:Ze(s,t),payload:e}]},sn=c.memo(e=>{var{dataKey:t,data:s,stroke:i,strokeWidth:r,fill:l,name:d,hide:o,unit:x,tooltipType:f,id:h}=e,g={dataDefinedOnItem:s,positions:void 0,settings:{stroke:i,strokeWidth:r,fill:l,dataKey:t,nameKey:void 0,name:Ze(d,t),hide:o,type:f,color:pe(i,l),unit:x,graphicalItemId:h}};return c.createElement(Ut,{tooltipEntrySettings:g})});function nn(e){var{clipPathId:t,points:s,props:i}=e,{needClip:r,dot:l,dataKey:d}=i,o=Qe(i);return c.createElement(gs,{points:s,dot:l,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:d,baseProps:o,needClip:r,clipPathId:t})}function rn(e){var{showLabels:t,children:s,points:i}=e,r=i.map(l=>{var d,o,x={x:(d=l.x)!==null&&d!==void 0?d:0,y:(o=l.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Z(Z({},x),{},{value:l.value,payload:l.payload,parentViewBox:void 0,viewBox:x,fill:void 0})});return c.createElement(ps,{value:t?r:void 0},s)}function $e(e){var{points:t,baseLine:s,needClip:i,clipPathId:r,props:l}=e,{layout:d,type:o,stroke:x,connectNulls:f,isRange:h}=l,{id:g}=l,m=lt(l,Js),v=Qe(m),A=xs(m);return c.createElement(c.Fragment,null,t?.length>1&&c.createElement(de,{clipPath:i?"url(#clipPath-".concat(r,")"):void 0},c.createElement(we,U({},A,{id:g,points:t,connectNulls:f,type:o,baseLine:s,layout:d,stroke:"none",className:"recharts-area-area"})),x!=="none"&&c.createElement(we,U({},v,{className:"recharts-area-curve",layout:d,type:o,connectNulls:f,fill:"none",points:t})),x!=="none"&&h&&c.createElement(we,U({},v,{className:"recharts-area-curve",layout:d,type:o,connectNulls:f,fill:"none",points:s}))),c.createElement(nn,{points:t,props:m,clipPathId:r}))}function an(e){var t,s,{alpha:i,baseLine:r,points:l,strokeWidth:d}=e,o=(t=l[0])===null||t===void 0?void 0:t.y,x=(s=l[l.length-1])===null||s===void 0?void 0:s.y;if(!ue(o)||!ue(x))return null;var f=i*Math.abs(o-x),h=Math.max(...l.map(g=>g.x||0));return Q(r)?h=Math.max(r,h):r&&Array.isArray(r)&&r.length&&(h=Math.max(...r.map(g=>g.x||0),h)),Q(h)?c.createElement("rect",{x:0,y:o<x?o:o-f,width:h+(d?parseInt("".concat(d),10):1),height:Math.floor(f)}):null}function on(e){var t,s,{alpha:i,baseLine:r,points:l,strokeWidth:d}=e,o=(t=l[0])===null||t===void 0?void 0:t.x,x=(s=l[l.length-1])===null||s===void 0?void 0:s.x;if(!ue(o)||!ue(x))return null;var f=i*Math.abs(o-x),h=Math.max(...l.map(g=>g.y||0));return Q(r)?h=Math.max(r,h):r&&Array.isArray(r)&&r.length&&(h=Math.max(...r.map(g=>g.y||0),h)),Q(h)?c.createElement("rect",{x:o<x?o:o-f,y:0,width:f,height:Math.floor(h+(d?parseInt("".concat(d),10):1))}):null}function ln(e){var{alpha:t,layout:s,points:i,baseLine:r,strokeWidth:l}=e;return s==="vertical"?c.createElement(an,{alpha:t,points:i,baseLine:r,strokeWidth:l}):c.createElement(on,{alpha:t,points:i,baseLine:r,strokeWidth:l})}function cn(e){var{needClip:t,clipPathId:s,props:i,previousPointsRef:r,previousBaselineRef:l}=e,{points:d,baseLine:o,isAnimationActive:x,animationBegin:f,animationDuration:h,animationEasing:g,onAnimationStart:m,onAnimationEnd:v}=i,A=c.useMemo(()=>({points:d,baseLine:o}),[d,o]),P=as(A,"recharts-area-"),R=os(),[D,S]=c.useState(!1),M=!D,j=c.useCallback(()=>{typeof v=="function"&&v(),S(!1)},[v]),I=c.useCallback(()=>{typeof m=="function"&&m(),S(!0)},[m]);if(R==null)return null;var L=r.current,$=l.current;return c.createElement(rn,{showLabels:M,points:d},i.children,c.createElement(ls,{animationId:P,begin:f,duration:h,isActive:x,easing:g,onAnimationEnd:j,onAnimationStart:I,key:P},y=>{if(L){var E=L.length/d.length,W=y===1?d:d.map((T,G)=>{var N=Math.floor(G*E);if(L[N]){var F=L[N];return Z(Z({},T),{},{x:q(F.x,T.x,y),y:q(F.y,T.y,y)})}return T}),B;return Q(o)?B=q($,o,y):cs(o)||ds(o)?B=q($,0,y):B=o.map((T,G)=>{var N=Math.floor(G*E);if(Array.isArray($)&&$[N]){var F=$[N];return Z(Z({},T),{},{x:q(F.x,T.x,y),y:q(F.y,T.y,y)})}return T}),y>0&&(r.current=W,l.current=B),c.createElement($e,{points:W,baseLine:B,needClip:t,clipPathId:s,props:i})}return y>0&&(r.current=d,l.current=o),c.createElement(de,null,x&&c.createElement("defs",null,c.createElement("clipPath",{id:"animationClipPath-".concat(s)},c.createElement(ln,{alpha:y,points:d,baseLine:o,layout:R,strokeWidth:i.strokeWidth}))),c.createElement(de,{clipPath:"url(#animationClipPath-".concat(s,")")},c.createElement($e,{points:d,baseLine:o,needClip:t,clipPathId:s,props:i})))}),c.createElement(us,{label:i.label}))}function dn(e){var{needClip:t,clipPathId:s,props:i}=e,r=c.useRef(null),l=c.useRef();return c.createElement(cn,{needClip:t,clipPathId:s,props:i,previousPointsRef:r,previousBaselineRef:l})}class un extends c.PureComponent{render(){var{hide:t,dot:s,points:i,className:r,top:l,left:d,needClip:o,xAxisId:x,yAxisId:f,width:h,height:g,id:m,baseLine:v,zIndex:A}=this.props;if(t)return null;var P=At("recharts-area",r),R=m,{r:D,strokeWidth:S}=ss(s),M=ns(s),j=D*2+S,I=o?"url(#clipPath-".concat(M?"":"dots-").concat(R,")"):void 0;return c.createElement(is,{zIndex:A},c.createElement(de,{className:P},o&&c.createElement("defs",null,c.createElement(rs,{clipPathId:R,xAxisId:x,yAxisId:f}),!M&&c.createElement("clipPath",{id:"clipPath-dots-".concat(R)},c.createElement("rect",{x:d-j/2,y:l-j/2,width:h+j,height:g+j}))),c.createElement(dn,{needClip:o,clipPathId:R,props:this.props})),c.createElement(Fe,{points:i,mainColor:pe(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}),this.props.isRange&&Array.isArray(v)&&c.createElement(Fe,{points:v,mainColor:pe(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}))}}var ct={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Kt.area};function pn(e){var t,s=Ue(e,ct),{activeDot:i,animationBegin:r,animationDuration:l,animationEasing:d,connectNulls:o,dot:x,fill:f,fillOpacity:h,hide:g,isAnimationActive:m,legendType:v,stroke:A,xAxisId:P,yAxisId:R}=s,D=lt(s,Us),S=qt(),M=Zt(),{needClip:j}=Qt(P,R),I=qe(),{points:L,isRange:$,baseLine:y}=(t=es(N=>Ys(N,e.id,I)))!==null&&t!==void 0?t:{},E=ts();if(S!=="horizontal"&&S!=="vertical"||E==null||M!=="AreaChart"&&M!=="ComposedChart")return null;var{height:W,width:B,x:T,y:G}=E;return!L||!L.length?null:c.createElement(un,U({},D,{activeDot:i,animationBegin:r,animationDuration:l,animationEasing:d,baseLine:y,connectNulls:o,dot:x,fill:f,fillOpacity:h,height:W,hide:g,layout:S,isAnimationActive:m==="auto"?!hs.isSsr:m,isRange:$,legendType:v,needClip:j,points:L,stroke:A,width:B,left:T,top:G,xAxisId:P,yAxisId:R}))}var xn=(e,t,s,i,r)=>{var l=s??t;if(Q(l))return l;var d=e==="horizontal"?r:i,o=d.scale.domain();if(d.type==="number"){var x=Math.max(o[0],o[1]),f=Math.min(o[0],o[1]);return l==="dataMin"?f:l==="dataMax"||x<0?x:Math.max(Math.min(o[0],o[1]),0)}return l==="dataMin"?o[0]:l==="dataMax"?o[1]:o[0]};function gn(e){var{areaSettings:{connectNulls:t,baseValue:s,dataKey:i},stackedData:r,layout:l,chartBaseValue:d,xAxis:o,yAxis:x,displayedData:f,dataStartIndex:h,xAxisTicks:g,yAxisTicks:m,bandSize:v}=e,A=r&&r.length,P=xn(l,d,s,o,x),R=l==="horizontal",D=!1,S=f.map((j,I)=>{var L,$,y;if(A)y=r[h+I];else{var E=We(j,i);Array.isArray(E)?(y=E,D=!0):y=[P,E]}var W=(L=($=y)===null||$===void 0?void 0:$[1])!==null&&L!==void 0?L:null,B=W==null||A&&!t&&We(j,i)==null;return R?{x:ze({axis:o,ticks:g,bandSize:v,entry:j,index:I}),y:B?null:x.scale(W),value:y,payload:j}:{x:B?null:o.scale(W),y:ze({axis:x,ticks:m,bandSize:v,entry:j,index:I}),value:y,payload:j}}),M;return A||D?M=S.map(j=>{var I=Array.isArray(j.value)?j.value[0]:null;return R?{x:j.x,y:I!=null&&j.y!=null?x.scale(I):null,payload:j.payload}:{x:I!=null?o.scale(I):null,y:j.y,payload:j.payload}}):M=R?x.scale(P):o.scale(P),{points:S,baseLine:M,isRange:D}}function hn(e){var t=Ue(e,ct),s=qe();return c.createElement(Vt,{id:t.id,type:"area"},i=>c.createElement(c.Fragment,null,c.createElement(Xt,{legendPayload:tn(t)}),c.createElement(sn,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),c.createElement(Yt,{type:"area",id:i,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Jt(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:s,connectNulls:t.connectNulls}),c.createElement(pn,U({},t,{id:i}))))}var dt=c.memo(hn,_t);dt.displayName="Area";var fn=["axis"],mn=c.forwardRef((e,t)=>c.createElement(fs,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fn,tooltipPayloadSearcher:ms,categoricalChartProps:e,ref:t}));function yn({data:e,fillColor:t,textColor:s,linesColor:i,backgroundColor:r}){return e?.length?n.jsx(ys,{width:"100%",height:"100%",className:"areachart",children:n.jsxs(mn,{data:e,margin:{top:8,right:5,bottom:8},children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"weightGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:t,stopOpacity:.7}),n.jsx("stop",{offset:"100%",stopColor:t,stopOpacity:0})]})}),n.jsx(vs,{strokeDasharray:"3 3",stroke:i,vertical:!1}),n.jsx(bs,{dataKey:"date",tickLine:!0,axisLine:!0,fontSize:11,stroke:s}),n.jsx(js,{tickLine:!0,axisLine:!0,fontSize:11,stroke:s,domain:["dataMin - 2","dataMax + 2"]}),n.jsx(ws,{labelStyle:{color:s},contentStyle:{background:r,border:"1px solid #1f2933"},formatter:l=>[`${l.toFixed(1)} кг`,"Вес"]}),n.jsx(dt,{type:"monotone",dataKey:"weight",stroke:t,strokeWidth:2,fill:"url(#weightGradient)",dot:!0,activeDot:{r:4,fill:t,strokeWidth:0}})]})}):null}const vn=({startValue:e=50,endValue:t=70,mediumValue:s=60,unit:i="kg",langIndex:r=0,goal:l=0,size:d=120,textColor:o="#acbac3ff",linesColor:x="#34495e",minColor:f="#e74c3c",maxColor:h="#2ecc71",mediumcolor:g="#3498db",baseColor:m="#95a5a6"})=>{const v=x,A=g,P=t-e,R=Math.abs(P),D=P===0,S=l===0?P>0:P<0,M=D?"➖":S?"↗️":"↘️",j=P>=0?"+":"−",I=D?o:S?h:f;let L=S?f:h,$=S?h:f;D&&(L=h,$=h);const y=d/2,E=9,W=E/2,B=y-E/2,T=B-W-E/2,G=T-W-E/2,N=2*Math.PI*B,F=2*Math.PI*T,he=2*Math.PI*G,J=Math.max(e,s,t)*1.1,fe=r===0?`Начало: ${e.toFixed(2)} ${i}
Конец: ${t.toFixed(2)} ${i}
Среднее: ${s.toFixed(2)} ${i}
Изменение: ${j}${R.toFixed(2)} ${i}`:`Start: ${e.toFixed(2)} ${i}
End: ${t.toFixed(2)} ${i}
Average: ${s.toFixed(2)} ${i}
Change: ${j}${R.toFixed(2)} ${i}`;return n.jsxs("div",{style:{display:"inline-block",width:d,height:d,position:"relative",cursor:"help"},title:fe,children:[n.jsxs("svg",{width:d,height:d,viewBox:`0 0 ${d} ${d}`,children:[n.jsx("circle",{cx:y,cy:y,r:B,fill:"none",stroke:v,strokeWidth:E}),n.jsx("circle",{cx:y,cy:y,r:B,fill:"none",stroke:L,strokeWidth:E,strokeDasharray:N,strokeDashoffset:N*(1-e/J),strokeLinecap:"round"}),n.jsx("circle",{cx:y,cy:y,r:T,fill:"none",stroke:v,strokeWidth:E}),n.jsx("circle",{cx:y,cy:y,r:T,fill:"none",stroke:A,strokeWidth:E,strokeDasharray:F,strokeDashoffset:F*(1-s/J),strokeLinecap:"round"}),n.jsx("circle",{cx:y,cy:y,r:G,fill:"none",stroke:v,strokeWidth:E}),n.jsx("circle",{cx:y,cy:y,r:G,fill:"none",stroke:$,strokeWidth:E,strokeDasharray:he,strokeDashoffset:he*(1-t/J),strokeLinecap:"round"})]}),n.jsxs("div",{style:{position:"absolute",top:0,left:0,width:d,height:d,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:o,fontSize:"12px",fontWeight:"bold",lineHeight:1.2},children:[n.jsxs("div",{style:{fontSize:"14px",opacity:.8,color:L},children:[r===0?"Начало:":"Start:"," ",e.toFixed(1)," ",i]}),n.jsxs("div",{style:{fontSize:"24px",marginTop:"4px",display:"flex",alignItems:"center",color:I,gap:"4px"},children:[M,n.jsxs("span",{children:[j,R.toFixed(1)," ",i]})]}),n.jsxs("div",{style:{fontSize:"14px",color:$,marginTop:"4px"},children:[r===0?"Конец:":"End:"," ",t.toFixed(1)," ",i]}),n.jsxs("div",{style:{fontSize:"10px",color:A,marginTop:"4px"},children:[r===0?"Среднее:":"Medium:"," ",s.toFixed(1)," ",i]})]})]})},Oe=[["Вес","Weight"],["Талия","Waist"],["Бицепс","Biceps"],["Грудь","Chest"],["Бёдра","Hips"]],Ge=[["месяц","month"],["пол года","half year"],["год","year"]],bn=[28,180,360],jn=({theme:e,langIndex:t,fSize:s,data:i})=>{const[r,l]=c.useState(0),[d,o]=c.useState(0),[x,f]=c.useState(C.pData.goal);c.useEffect(()=>{f(C.pData.goal)},[C.pData.goal]);const g=(()=>{const D=i[r]||[];if(D.length===0)return[];const S=new Date,M=new Date(S);return M.setDate(S.getDate()-bn[d]),D.filter(j=>new Date(j.date)>=M).sort((j,I)=>new Date(j.date)-new Date(I.date))})(),m=wn(g),v=g.length>0?g[g.length-1].value:0,A=g.length>0?g[0].value:v,P=g.length>0?g.reduce((D,S)=>D+S.value,0)/g.length:v,R=D=>D===0?"kg":"cm";return n.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",marginRight:"40px"},children:[n.jsx("div",{style:{width:"100%",height:"240px"},children:n.jsx(yn,{data:m,fillColor:a.get(An(x,A,v),e),textColor:a.get("subText",e),linesColor:a.get("border",e),backgroundColor:a.get("background",e)})}),n.jsxs("div",{style:{width:"100%",height:"35vh",display:"flex",flexDirection:"column",justifyContent:"space-between",marginLeft:"30px",alignItems:"center"},children:[n.jsx(Sn,{theme:e,langIndex:t,fSize:s,metricIndex:r,setMetricIndex:l}),n.jsx(kn,{theme:e,langIndex:t,fSize:s,periodIndex:d,setPeriodIndex:o}),n.jsx(vn,{startValue:A,endValue:v,mediumValue:P,unit:R(r),langIndex:t,goal:x===2?1:0,size:210,textColor:a.get("mainText",e),linesColor:a.get("linesColor",e),minColor:a.get("regress",e),maxColor:a.get("areaChart",e),mediumcolor:a.get("icons",e),baseColor:a.get("background",e)})]})]})};function wn(e){return e.map(t=>({date:Cn(t.date),weight:t.value}))}function Cn(e){const t=e.split("-");return`${t[2]}.${t[1]}`}const Sn=({theme:e,langIndex:t,fSize:s,metricIndex:i,setMetricIndex:r})=>n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottm:"5px",padding:"2px",backgroundColor:a.get("panel",e),borderRadius:"12px"},children:Oe.map((l,d)=>n.jsxs("span",{onClick:()=>r(d),style:{padding:"6px 10px",cursor:"pointer",fontSize:s===0?"12px":"14px",fontWeight:i===d?"600":"400",color:i===d?a.get("mainText",e):a.get("subText",e),opacity:i===d?1:.7,transition:"all 0.2s ease"},children:[l[t],d<Oe.length-1&&n.jsx("span",{style:{margin:"0 8px",color:a.get("border",e)},children:"|"})]},d))}),kn=({theme:e,langIndex:t,fSize:s,periodIndex:i,setPeriodIndex:r})=>n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:"8px 0"},children:Ge.map((l,d)=>n.jsxs("span",{onClick:()=>r(d),style:{padding:"6px 10px",cursor:"pointer",fontSize:s===0?"11px":"13px",fontWeight:i===d?"600":"400",color:i===d?a.get("mainText",e):a.get("subText",e),opacity:i===d?1:.8,transition:"all 0.2s ease"},children:[l[t],d<Ge.length-1&&n.jsx("span",{style:{margin:"0 8px",color:a.get("border",e),fontSize:s===0?"12px":"14px"},children:"|"})]},d))}),An=(e,t,s)=>e===2?t<s?"regress":"areaChart":t<s?"areaChart":"regress",Pn=[["Вес тела","Body weight"],["Обхват талии","Waist circumference"],["Обхват бицепса","Biceps circumference"],["Обхват груди","Chest circumference"],["Обхват бедра","Hip circumference"]],Y=new Date,Dn=[["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],["January","February","March","April","May","June","July","August","September","October","November","December"]],He=[["Набор массы","Mass gain"],["Сила","Strength"],["Жиросжигание","Weight loss"],["Здоровье","Health"]],zn=()=>{const[e,t]=c.useState("dark"),[s,i]=c.useState(C.prefs[0]),[r,l]=c.useState(C.prefs[4]),[d,o]=c.useState(Pt.hasPremium),[x,f]=c.useState(-2),[h,g]=c.useState(-1),[m,v]=c.useState(C.measurements),[A,P]=c.useState(!1),[R,D]=c.useState(!1),[S,M]=c.useState(!1),[j,I]=c.useState(!1),[L,$]=c.useState(0),[y,E]=c.useState(Y.getFullYear()),[W,B]=c.useState(Y.getMonth()),[T,G]=c.useState(Y.getDate()),[N,F]=c.useState(0),[he,J]=c.useState({start:0,end:0}),[fe,ut]=c.useState(C.pData.filled),[te,me]=c.useState(C.pData.age),[_,Ae]=c.useState(C.pData.gender),[se,ye]=c.useState(C.pData.height),[ne,ve]=c.useState(C.pData.wrist),[ie,Pe]=c.useState(C.pData.goal),[re,pt]=c.useState("volume");c.useEffect(()=>{const u=_e.subscribe(t),w=Ke.subscribe(O=>{i(O==="ru"?0:1)}),b=Ve.subscribe(O=>{l(O)}),k=Dt.subscribe(o);return()=>{u.unsubscribe(),w.unsubscribe(),b.unsubscribe(),k.unsubscribe()}},[]),c.useEffect(()=>{const u=m[0];if(!Array.isArray(u)||u.length===0){J({start:0,end:0});return}if(u.length<2){J({start:0,end:0});return}const w=u[0].value,b=u[u.length-1].value;J({start:w,end:b})},[L,m]);const xt=K(()=>H(!1,0)),gt=K(()=>H(!0,0)),ht=K(()=>H(!1,1)),ft=K(()=>H(!0,1)),mt=K(()=>H(!1,2)),yt=K(()=>H(!0,2)),De=K(()=>F(u=>u-.1>1?u-.1:1)),Ie=K(()=>F(u=>u+.1)),H=(u,w)=>{w===2?G(b=>{const k=new Date(y,W,0).getDate();let O=b;return u?b<k&&new Date(y,W-1,b+1).getTime()<=Y.getTime()&&(O=b+1):b>1&&(O=b-1),O}):w===1?B(b=>{let k=b;u?b<12&&new Date(y,b,T).getTime()<=Y.getTime()&&(k=b+1):b>1&&(k=b-1);const O=new Date(y,k,0).getDate();return T>O&&G(O),k}):w===0&&E(b=>{let k=b;u?b<Y.getFullYear()&&new Date(b+1,W-1,T).getTime()<=Y.getTime()&&(k=b+1):b>Y.getFullYear()-1&&(k=b-1);const O=new Date(k,W,0).getDate();return T>O&&G(O),k})},be=u=>u<0||u>=C.measurements.length?[]:C.measurements[u],vt=async()=>{if(N===""||x===-1)return;const u=new Date(y,W,T).toISOString().split("T")[0],w=parseFloat(N);if(isNaN(w))return;const b={date:u,value:w},k=[...be(x)],O=k.findIndex(je=>je.date===u);O>=0?k[O]=b:k.push(b),k.sort((je,kt)=>new Date(je.date)-new Date(kt.date)),C.measurements[x]=k,await le(),P(!1),F(""),v(C.measurements)},bt=async()=>{if(x===-1||h===-1)return;const u=[...be(x)];u.splice(h,1),C.measurements[x]=u,await le(),M(!1),v(C.measurements)},jt=async()=>{if(N===""||x===-1||h===-1)return;const u=new Date(y,W,T).toISOString().split("T")[0],w=parseFloat(N);if(isNaN(w))return;const b={date:u,value:w},k=[...be(x)];k[h]=b,C.measurements[x]=k,await le(),D(!1),F(""),v(C.measurements)},wt=u=>{g(u),F(m[x][u].value),D(!0)},Ct=u=>{g(u),M(!0)},St=async()=>{C.pData={filled:!0,age:te,gender:_,height:se,wrist:ne,goal:ie},await le(),ut(!0),I(!1)};return n.jsxs("div",{style:p(e).container,children:[n.jsx(Cs,{type:1,theme:e,langIndex:s,activeTab:re,onChange:pt}),re==="volume"&&n.jsxs("div",{style:p(e).container,children:[n.jsx("div",{style:p(e).panel,children:n.jsxs("div",{style:p(e,r,x===-1).groupPanel,onClick:()=>{f(u=>u===-1?-2:-1)},children:[x===-1?n.jsx(Te,{style:p(e).icon}):n.jsx(Me,{style:p(e).icon}),n.jsx("div",{style:p(e,r).text,children:s===0?"Личные данные":"Personal data"}),x===-1?n.jsx(Re,{onClick:u=>{I(!0),u.stopPropagation()},style:{...p(e).icon,fontSize:"18px",marginRight:"50px",marginLeft:"auto"}}):null,n.jsx(It,{style:{...p(e).icon,fontSize:"28px",marginRight:"35px",marginLeft:"auto"}})]})}),x===-1&&n.jsxs("div",{style:{marginTop:"8px",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[n.jsx("div",{style:p(e,r).panelRow,children:n.jsx("div",{style:p(e,r).text,children:(s===0?"Возраст: ":"Age: ")+te+(s===0?" лет":" yers old")})}),n.jsx("div",{style:p(e,r).panelRow,children:n.jsx("div",{style:p(e,r).text,children:(s===0?"Пол: ":"Gender: ")+(_===0?s===0?"мужской":"male":s===0?"женский":"female")})}),n.jsx("div",{style:p(e,r).panelRow,children:n.jsx("div",{style:p(e,r).text,children:(s===0?"Рост: ":"Height: ")+se+(s===0?" см":" sm")})}),n.jsx("div",{style:p(e,r).panelRow,children:n.jsx("div",{style:p(e,r).text,children:(s===0?"Запястье: ":"Wrist size: ")+ne+(s===0?" см":" sm")})}),n.jsx("div",{style:p(e,r).panelRow,children:n.jsx("div",{style:p(e,r).text,children:(s===0?"Цель: ":"Goal: ")+He[ie][s]})})]}),m.map((u,w)=>n.jsxs("div",{style:p(e).panel,children:[n.jsxs("div",{style:p(e,r,x===w).groupPanel,onClick:()=>{f(b=>b===w?-2:w)},children:[x===w?n.jsx(Te,{style:p(e).icon}):n.jsx(Me,{style:p(e).icon}),n.jsx("div",{style:p(e,r).text,children:Pn[w][s]}),x===w?n.jsx(Rt,{onClick:b=>{P(!0),F(m[w][m[w].length-1]?.value||0),b.stopPropagation()},style:{...p(e).icon,fontSize:"18px",marginRight:"50px",marginLeft:"auto"}}):null,w>0?Ss.get(w-1,s,e):n.jsx(Tt,{style:{...p(e).icon,fontSize:"28px",marginRight:"35px",marginLeft:"auto"}})]}),x===w&&n.jsx("div",{style:{marginTop:"8px",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:u.length>0?u.map((b,k)=>n.jsxs("div",{style:p(e,r).panelRow,children:[n.jsxs("div",{style:p(e,r).subtext,children:[b.date,":"]}),n.jsxs("span",{style:p(e,r).text,children:[" ",Number.isInteger(b.value)?b.value:b.value.toFixed(1)+(w===0?s===0?" кг":" kg":s===0?" см":" sm")]}),n.jsx(In,{data:m,type:w,ind:k,theme:e,langIndex:s}),n.jsxs("div",{style:{display:"flex",flexDirection:"row",marginRight:"10px",marginLeft:"auto"},children:[n.jsx(Re,{onClick:()=>wt(k),style:{...p(e).icon,fontSize:"14px",marginRight:"10px"}}),n.jsx(Mt,{onClick:()=>Ct(k),style:{...p(e).icon,fontSize:"14px",marginRight:"10px"}})]})]},k)):n.jsx("div",{style:p(e,r).subtext,children:s===0?"Нет данных":"No data"})})]},w)),A&&n.jsx("div",{style:p(e).confirmContainer,children:n.jsxs("div",{style:p(e).cP,children:[n.jsxs("div",{style:{...p(e).simplePanelRow,flexDirection:"column",justifyContent:"space-around",alignItems:"center",backgroundColor:a.get("background",e),width:"95%",height:"60%",borderRadius:"24px"},children:[n.jsx("p",{style:p(e,!1,r).subtext,children:s===0?"установите дату":"set date"}),n.jsxs("div",{style:{...p(e).simplePanelRow,width:"70%"},children:[n.jsx("div",{...xt,onClick:()=>{H(!1,0)},style:{...p(e).miniIcon,fontSize:"20px",marginTop:"15px"},children:n.jsx(V,{style:{userSelect:"none",touchAction:"none"}})}),n.jsxs("p",{style:p(e).textDate,children:[" ",y," "]}),n.jsx("div",{...gt,onClick:()=>{H(!0,0)},style:{...p(e).miniIcon,fontSize:"20px",marginTop:"15px"},children:n.jsx(X,{style:{userSelect:"none",touchAction:"none"}})})]}),n.jsxs("div",{style:{...p(e).simplePanelRow,width:"70%"},children:[n.jsx("div",{...ht,onClick:()=>{H(!1,1)},style:{...p(e).miniIcon,fontSize:"20px",marginTop:"15px"},children:n.jsx(V,{style:{userSelect:"none",touchAction:"none"}})}),n.jsxs("p",{style:p(e).textDate,children:[" ",Dn[s][W]," "]}),n.jsx("div",{...ft,onClick:()=>{H(!0,1)},style:{...p(e).miniIcon,fontSize:"20px",marginTop:"15px"},children:n.jsx(X,{style:{userSelect:"none",touchAction:"none"}})})]}),n.jsxs("div",{style:{...p(e).simplePanelRow,width:"70%"},children:[n.jsx("div",{...mt,onClick:()=>{H(!1,2)},style:{...p(e).miniIcon,fontSize:"20px",marginTop:"15px"},children:n.jsx(V,{style:{userSelect:"none",touchAction:"none"}})}),n.jsxs("p",{style:p(e).textDate,children:[" ",T," "]}),n.jsx("div",{...yt,onClick:()=>{H(!0,2)},style:{...p(e).miniIcon,fontSize:"20px",marginTop:"15px"},children:n.jsx(X,{style:{userSelect:"none",touchAction:"none"}})})]})]}),n.jsxs("div",{style:{...p(e).simplePanelRow,flexDirection:"column",justifyContent:"space-around",alignItems:"center",backgroundColor:a.get("background",e),width:"95%",height:"30%",borderRadius:"24px"},children:[n.jsx("p",{style:p(e,!1,r).subtext,children:s===0?"установите значение":"set value"}),n.jsxs("div",{style:{...p(e).simplePanelRow,width:"70%"},children:[n.jsx(V,{...De,style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{F(u=>u-.1>1?u-.1:1)}}),n.jsx(ee,{theme:e,w:"100px",h:"40px",fSize:28,placeholder:"0",value:N,onChange:u=>{F(parseInt(u))}}),n.jsx(X,{...Ie,style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{F(u=>u+.1)}})]})]}),n.jsxs("div",{style:{...p(e).simplePanelRow,height:"60px",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:[n.jsx(ae,{style:{fontSize:"38px",color:a.get("icons",e)},onClick:()=>P(!1)}),n.jsx(oe,{style:{fontSize:"38px",color:a.get("icons",e)},onClick:()=>{vt()}})]})]})}),R&&n.jsx("div",{style:p(e).confirmContainer,children:n.jsxs("div",{style:{...p(e).cP,height:"35%"},children:[n.jsxs("div",{style:{...p(e).simplePanelRow,flexDirection:"column",justifyContent:"space-around",alignItems:"center",backgroundColor:a.get("background",e),width:"95%",height:"30%",borderRadius:"24px"},children:[n.jsx("p",{style:p(e,!1,r).subtext,children:s===0?"установите новое значение":"set new value"}),n.jsxs("div",{style:{...p(e).simplePanelRow,width:"70%"},children:[n.jsx(V,{...De,style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{F(u=>u-.1>1?u-.1:1)}}),n.jsx(ee,{theme:e,w:"100px",h:"40px",fSize:28,placeholder:"0",value:N,onChange:u=>{F(parseInt(u))}}),n.jsx(X,{...Ie,style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{F(u=>u+.1)}})]})]}),n.jsxs("div",{style:{...p(e).simplePanelRow,height:"60px",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:[n.jsx(ae,{style:{fontSize:"38px",color:a.get("icons",e)},onClick:()=>D(!1)}),n.jsx(oe,{style:{fontSize:"38px",color:a.get("icons",e)},onClick:()=>{jt()}})]})]})}),S&&n.jsx("div",{style:p(e).confirmContainer,children:n.jsxs("div",{style:{...p(e).cP,height:"20%"},children:[n.jsx("p",{style:p(e,!1,r).subtext,children:s===0?"удалить данные ?":"delete data?"}),n.jsxs("div",{style:{...p(e).simplePanelRow,height:"60px",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:[n.jsx(ae,{style:{fontSize:"38px",color:a.get("icons",e)},onClick:()=>M(!1)}),n.jsx(oe,{style:{fontSize:"38px",color:a.get("icons",e)},onClick:()=>{bt()}})]})]})}),j&&n.jsx("div",{style:p(e).confirmContainer,children:n.jsxs("div",{style:{...p(e).cP,height:"82%",border:_===0?"2px solid #5fb6c6ff":"2px solid #c65f9dff"},children:[n.jsxs("div",{style:{...p(e).simplePanelRow,flexDirection:"column",justifyContent:"space-around",alignItems:"center",backgroundColor:a.get("background",e),width:"95%",height:"80%",borderRadius:"24px"},children:[n.jsx("p",{style:p(e,!1,r).subtext,children:s===0?"ваш возраст":"your age"}),n.jsxs("div",{style:{...p(e).simplePanelRow,width:"70%"},children:[n.jsx(V,{style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{me(u=>u-1>1?u-1:1)}}),n.jsx(ee,{theme:e,w:"100px",h:"40px",fSize:28,placeholder:"0",value:te,onChange:u=>{me(parseInt(u))}}),n.jsx(X,{style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{me(u=>u+1)}})]}),n.jsx("p",{style:p(e,!1,r).subtext,children:s===0?"ваш пол":"your gender"}),n.jsxs("div",{style:{...p(e).simplePanelRow,width:"70%"},children:[n.jsx(zt,{style:{fontSize:_===0?"40px":"30px",color:_===0?"#5fb6c6ff":a.get("iconsDisabled",e),userSelect:"none",touchAction:"none"},onClick:()=>{Ae(0)}}),n.jsx(Lt,{style:{fontSize:_===1?"40px":"30px",color:_===1?"#c65f9dff":a.get("iconsDisabled",e),userSelect:"none",touchAction:"none"},onClick:()=>{Ae(1)}})]}),n.jsx("p",{style:p(e,!1,r).subtext,children:s===0?"ваш рост":"your height"}),n.jsxs("div",{style:{...p(e).simplePanelRow,width:"70%"},children:[n.jsx(V,{style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{ye(u=>u-1>1?u-1:1)}}),n.jsx(ee,{theme:e,w:"100px",h:"40px",fSize:28,placeholder:"0",value:se,onChange:u=>{ye(parseInt(u))}}),n.jsx(X,{style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{ye(u=>u+1)}})]}),n.jsx("p",{style:p(e,!1,r).subtext,children:s===0?"обхват запястья":"wrist circumference"}),n.jsxs("div",{style:{...p(e).simplePanelRow,width:"70%"},children:[n.jsx(V,{style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{ve(u=>u-.5>1?u-.5:1)}}),n.jsx(ee,{theme:e,w:"100px",h:"40px",fSize:28,placeholder:"0",value:ne,onChange:u=>{ve(parseInt(u))}}),n.jsx(X,{style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{ve(u=>u+.5)}})]}),n.jsx("p",{style:p(e,!1,r).subtext,children:s===0?"цель тренировок":"training goal"}),n.jsxs("div",{style:{...p(e).simplePanelRow,width:"70%"},children:[n.jsx(Et,{style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{Pe(u=>u+1<4?u+1:0)}}),n.jsx("p",{style:{color:a.get("mainText",e),fontSize:"26px"},children:He[ie][s]}),n.jsx(Ft,{style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{Pe(u=>u-1>-1?u-1:3)}})]})]}),n.jsxs("div",{style:{...p(e).simplePanelRow,height:"60px",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:[n.jsx(ae,{style:{fontSize:"38px",color:a.get("icons",e)},onClick:()=>I(!1)}),n.jsx(oe,{style:{fontSize:"38px",color:a.get("icons",e)},onClick:()=>{St()}})]})]})})]}),re==="muscles"&&n.jsx(Rs,{theme:e,langIndex:s,fSize:r,data:m,filled:fe,age:te,height:se,gender:_,goal:ie,wrist:ne}),re==="exercises"&&n.jsx(jn,{theme:e,langIndex:s,fSize:r,data:m}),!d&&n.jsxs("div",{onClick:u=>{u.stopPropagation()},style:{position:"absolute",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100vw",height:"170vw",top:"15.5%",borderRadius:"24px",backdropFilter:"blur(12px)",zIndex:2},children:[n.jsx("p",{style:{...p(e,r).text,textAlign:"center"},children:s===0?"Отслеживание тела и веса 📏⚖️":"Body & Weight Tracking 📏⚖️"}),n.jsx("p",{style:{...p(e,r).text,textAlign:"center"},children:s===0?"Следите за изменениями: вес, объёмы, ИМТ — всё в одном месте!":"Track every change: weight, body measurements, BMI — all in one place!"}),n.jsx("p",{style:{...p(e,r).text,textAlign:"center"},children:s===0?"Получите персональные рекомендации по питанию 🥗":"Get personalized nutrition recommendations 🥗"}),n.jsxs("p",{style:{...p(e,r).text,textAlign:"center"},children:[" ",s===0?"✨ Перейдите на Premium, чтобы сохранять историю и видеть прогресс со временем!":"✨ Go Premium to save your history and visualize your progress over time!"]}),n.jsxs("p",{style:{...p(e,r).text},children:[" ",s===0?"👑 Только для премиум пользователей 👑":"👑 Only for premium users 👑"," "]}),n.jsx("button",{onClick:()=>{Wt("premium")},style:{...p(e,r).btn,margin:"10px"},children:s===0?"Стать премиум":"Get premium"})]})]})},p=(e,t,s=!1)=>({container:{display:"flex",width:"100vw",flexDirection:"column",overflowY:"scroll",overflowX:"hidden",justifyContent:"flex-start",alignItems:"center",backgroundColor:a.get("background",e),height:"78vh",top:"16vh",paddingTop:"10px"},groupPanel:{display:"flex",flexDirection:"row",width:"100%",height:"6vh",backgroundColor:s?a.get("trainingGroupSelected",e):a.get("trainingGroup",e),borderTop:`1px solid ${a.get("border",e)}`,alignItems:"center",justifyContent:"left",alignContent:"center"},panel:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyItems:"center"},panelRow:{display:"flex",width:"90%",alignItems:"center",justifyContent:"flex-start",marginTop:"10px",gap:"10px",borderBottom:`1px solid ${a.get("border",e)}`},textDate:{textAlign:"center",fontSize:"18px",color:a.get("mainText",e),marginBottom:"4px"},text:{textAlign:"left",fontSize:t===0?"13px":"15px",color:a.get("mainText",e),marginLeft:"15px"},subtext:{textAlign:"left",fontSize:t===0?"11px":"13px",color:a.get("subText",e)},icon:{fontSize:"18px",marginLeft:"15px",color:a.get("icons",e)},cP:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",borderRadius:"24px",backgroundColor:a.get("bottomPanel",e),width:"100%",height:"50vh"},confirmContainer:{position:"fixed",top:0,left:-10,bottom:0,width:"95vw",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2900,padding:"20px"},simplePanelRow:{width:"75vw",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"}}),In=({data:e,type:t,ind:s,theme:i,langIndex:r})=>{if(s>0){const l=e[t][s].value-e[t][s-1].value,d=l>0;if(l===0)return n.jsx("span",{style:{fontSize:"12px",color:a.get("subText",i)},children:"-"});const o=d?"+":"";return n.jsxs("span",{style:{fontSize:"12px",color:d?a.get("maxValColor",i):a.get("minValColor",i)},children:[o,Number.isInteger(l)?l:l.toFixed(1)+(t===0?r===0?" кг":" kg":r===0?" см":" sm")]})}};export{zn as default,Pn as names};
