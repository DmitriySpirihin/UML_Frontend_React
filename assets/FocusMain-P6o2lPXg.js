import{A as D,t as Re,l as Be,f as De,C as n,j as e,d as ve,m as y,cC as we,c2 as Xe,bD as Ze,L as re,g as et,z as tt,cD as st,U as nt,p as it,c1 as rt,F as ot,bo as at,co as lt,cK as ct}from"./index-Cgkkm6qK.js";import{r as i}from"./recharts-k8ghPecL.js";import{G as dt}from"./index-CHVtKR6J.js";import{f as C,s as xt}from"./MentalHelper-Br8ChI8A.js";import{B as ut}from"./BreathAudio-C20VYN3v.js";const Ce=["â—","â–²","â– ","â—†","â¬Ÿ","âœš","â¬¢","â¬Ÿ","âœ¦","âœ³","â„","â¬Ÿ"];function gt(s,l,o){if(s!==3)return[[],""];const x=Math.max(0,Math.min(l,C.length-1)),t=C[x],h=t.targetSymbol||"â˜…";let r;switch(x){case 0:r=Te(t);break;case 1:r=pt(t);break;case 2:r=mt(t);break;case 3:r=ft(t);break;default:r=Te(t)}const T=r.filter(R=>R===h).length;return[r,T.toString()]}const Te=s=>_(s),pt=s=>_(s),mt=s=>_(s),ft=s=>_(s);function _(s,l){const o=Ie(...s.totalItemsRange);let x=Ie(...s.targetsPerRoundRange);x=Math.min(x,o);const t=s.targetSymbol||"â˜…",h=Array.from({length:o},()=>Ce[Math.floor(Math.random()*Ce.length)]),r=new Set;for(;r.size<x;)r.add(Math.floor(Math.random()*o));return r.forEach(T=>{h[T]=t}),h.sort(()=>Math.random()-.5)}function Ie(s,l){return s==null||l==null||isNaN(s)||isNaN(l)?(console.error("[randomInRange] Invalid range:",{min:s,max:l}),4):Math.floor(Math.random()*(l-s+1))+s}function ht(s,l,o,x,t,h,r){if(s!==3)return 0;const R=[100,200,300,400][l]||100,M=Number(h),v=Number(t),S=v!==0?Math.abs(v-M)/v:1,g=S===0?1:S<.15?.5:0,I=Math.min(1+o*.02,1.3),z=x/1e3,F=C[l]?.timeLimitSec||20,p=z/F,m=g===1?Math.max(1,1.3-(p-1)*.6):1,w=r>=5&&g===1?Math.min(1+.1*Math.min(r/10,4),1.5):1;return Math.round(R*g*I*m*w)}const bt=3e3,yt=({show:s,type:l,difficulty:o,setShow:x})=>{const[t,h]=i.useState("dark"),[r,T]=i.useState(D.prefs[0]),[R,M]=i.useState(D.prefs[4]),[v,S]=i.useState(!1),[g,I]=i.useState(!1),[z,F]=i.useState(!1),[p,m]=i.useState(!1),[w,G]=i.useState(!1),[Me,oe]=i.useState(0),[B,Pe]=i.useState(null),[A,N]=i.useState(new Set),[ae,H]=i.useState({}),[Ae,We]=i.useState(0),[Tt,le]=i.useState(!1),[W,ce]=i.useState(0),[de,xe]=i.useState(!1),{initAudio:$e,playRight:Ee,playWrong:J}=ut(D.prefs[2]===0),[P,$]=i.useState(0),[U,O]=i.useState(1),[ue,X]=i.useState(0),[Z,q]=i.useState(0),[E,Le]=i.useState(D.mentalRecords[l]?.[o]||0),[ge,pe]=i.useState(0),[me,fe]=i.useState(0),[b,ee]=i.useState(!1),[L,te]=i.useState(0),[he,V]=i.useState(""),[be,ye]=i.useState("");i.useEffect(()=>{const a=Re.subscribe(h),c=Be.subscribe(j=>T(j==="ru"?0:1)),u=De.subscribe(M);return()=>{a.unsubscribe(),c.unsubscribe(),u.unsubscribe()}},[]),i.useEffect(()=>{let a=null;return v&&(a=setInterval(()=>pe(c=>c+100),100)),()=>clearInterval(a)},[v]),i.useEffect(()=>{if(!z)return;const a=Math.ceil(bt/1e3);fe(a);const c=setInterval(()=>{fe(u=>u<=1?(clearInterval(c),Ge(),F(!1),0):u-1)},1e3);return()=>clearInterval(c)},[z]),i.useEffect(()=>{if(A.size===0||b)return;const a=setTimeout(()=>{Se()},800);return()=>clearTimeout(a)},[A,b]),i.useEffect(()=>{if(!de||W<=0){W<=0&&g&&!b&&!p&&Se();return}const a=setTimeout(()=>{ce(c=>c-1)},1e3);return()=>clearTimeout(a)},[de,W,g,b,p]),i.useEffect(()=>{if(!b)return;const a=setTimeout(()=>{const c=P+L;$(c),te(0),N(new Set),H({}),U>=20?je(c):(O(u=>u+1),se()),ee(!1)},1200);return()=>clearTimeout(a)},[b,P,L,U]);const Ve=i.useCallback(a=>{if(!g||p||b||w)return;const u=B.items[a]===B.targetSymbol;N(j=>{const f=new Set(j);return f.has(a)?f.delete(a):f.add(a),f}),H(j=>({...j,[a]:u?"correct":"wrong"})),u||J()},[B,g,p,b,w,J]),Se=()=>{if(!B||b)return;const{items:a,targetSymbol:c}=B,j=a.map((k,Je)=>k===c?Je:-1).filter(k=>k!==-1).length,f=Array.from(A).filter(k=>a[k]===c).length,qe=Array.from(A).filter(k=>a[k]!==c).length,Qe=f,K=j,Ke=Date.now()-Ae,Ye=ht(l,o,U,Ke,K,Qe,ue),Y=qe===0&&f===K;let ne="";Y?(ne=St(r),q(k=>k+1)):ne=r===0?`ÐÐ°Ð¹Ð´ÐµÐ½Ð¾: ${f}/${K}`:`Found: ${f}/${K}`;const _e=Y?n.get("maxValColor",t):n.get("minValColor",t);ye(_e),V(ne),te(Ye),X(k=>Y?k+1:0),Y?Ee():J(),ee(!0),le(!1),xe(!1)},Ge=()=>{$e(),$(0),O(1),q(0),X(0),V(""),I(!0),S(!0),G(!1),pe(0),oe(Date.now()),se()},se=a=>{const c=C[o],[u,j]=gt(l,o),f=c.roundTimeSec||10;if(ce(f),xe(!0),!u||u.length===0){V(r===0?"ÐžÑˆÐ¸Ð±ÐºÐ°":"Error"),ye(n.get("minValColor",t)),ee(!0);return}Pe({items:u,targetSymbol:c.targetSymbol||"â˜…"}),N(new Set),H({}),We(Date.now()),le(!0)},Ne=()=>{$(0),O(1),q(0),X(0),V(""),N(new Set),H({}),oe(Date.now()),g&&se()},je=a=>{He(a);const c=a>E,u=vt(!1,r,a,Z,20,c);S(!1),V(u),m(!0),I(!1)},He=a=>{a>E&&(Le(a),D.mentalRecords[l][o]=a);const c=Date.now(),u=Math.round((c-Me)/1e3);xt(u,a>E,l,o,a,Z),te(0),O(1)},Ue={hidden:{y:"100%"},visible:{y:0,transition:{type:"spring",damping:25,stiffness:200}},exit:{y:"100%"}},Q={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3}},exit:{opacity:0,scale:.95,transition:{duration:.2}}},Oe=()=>!B||!B.items?null:e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"10px",width:"100%",maxWidth:"300px"},children:B.items.map((a,c)=>{let u=n.get("bottomPanel",t),j=n.get("border",t),f=n.get("mainText",t);return ae[c]==="correct"?(u=n.get("maxValColor",t)+"30",j=n.get("maxValColor",t),f=n.get("maxValColor",t)):ae[c]==="wrong"?(u=n.get("minValColor",t)+"30",j=n.get("minValColor",t),f=n.get("minValColor",t)):A.has(c)&&(j=n.get("mainText",t),u=n.get("mainText",t)+"20"),e.jsx(y.div,{whileTap:{scale:.9},onClick:()=>Ve(c),style:{aspectRatio:"1/1",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",fontWeight:"bold",color:f,backgroundColor:u,border:`2px solid ${j}`,borderRadius:"12px",cursor:g&&!b&&!w?"pointer":"default",userSelect:"none"},children:a},c)})});return e.jsx(ve,{children:s&&e.jsx(y.div,{variants:Ue,initial:"hidden",animate:"visible",exit:"exit",style:d(t).container,children:e.jsxs(ve,{mode:"wait",children:[!g&&!z&&!p&&e.jsxs(y.div,{variants:Q,initial:"hidden",animate:"visible",exit:"exit",style:d(t).contentWrapper,children:[e.jsxs("div",{style:d(t).header,children:[e.jsx(we,{onClick:()=>{x(!1),m(!1)},style:d(t).iconButton}),e.jsx("h2",{style:d(t,R).title,children:C[o].level[r]}),e.jsx("div",{style:{width:40}})]}),e.jsxs("div",{style:d(t).card,children:[e.jsx("div",{style:{...d(t).title,textAlign:"center",fontSize:"16px",marginBottom:10},children:C[o].title[r]}),e.jsx("p",{style:d(t).description,children:C[o].description[r]}),e.jsxs("div",{style:d(t).statsGrid,children:[e.jsx(ke,{theme:t,label:r===0?"Ð­Ð»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð²":"Items",value:`${C[o].totalItemsRange[0]}â€“${C[o].totalItemsRange[1]}`}),e.jsx(ke,{theme:t,label:r===0?"Ð’Ñ€ÐµÐ¼Ñ":"Time",value:`${C[o].timeLimitSec}s`})]}),e.jsx("p",{style:d(t).disclaimer,children:jt(r)})]}),e.jsx("div",{style:d(t).playButtonContainer,children:e.jsxs(y.button,{whileTap:{scale:.9},onClick:()=>F(!0),style:d(t).playButton,children:[e.jsx(Xe,{style:{marginRight:10}})," ",r===0?"ÐÐ°Ñ‡Ð°Ñ‚ÑŒ":"Start"]})})]},"start-screen"),!p&&z&&e.jsxs(y.div,{variants:Q,initial:"hidden",animate:"visible",exit:"exit",style:d(t).centeredFull,children:[e.jsx(y.div,{initial:{scale:.5,opacity:0},animate:{scale:1.5,opacity:1},exit:{scale:2,opacity:0},style:{fontSize:"8rem",fontWeight:"bold",color:n.get("icons",t)},children:me},me),e.jsx("p",{style:{color:n.get("subText",t),marginTop:20,fontSize:"1.5rem"},children:r===0?"ÐŸÑ€Ð¸Ð³Ð¾Ñ‚Ð¾Ð²ÑŒÑ‚ÐµÑÑŒ!":"Get ready!"})]},"countdown"),!p&&g&&e.jsxs(y.div,{variants:Q,initial:"hidden",animate:"visible",exit:"exit",style:d(t).gameContainer,children:[e.jsxs("div",{style:d(t).gameHeader,children:[e.jsx(we,{onClick:()=>je(P+L),style:d(t).iconButtonSmall}),e.jsxs("div",{style:d(t).gameStat,children:[e.jsx(Ze,{style:{marginRight:6}})," ",ze(ge)]}),e.jsxs("div",{style:{...d(t).gameStat,color:n.get("maxValColor",t)},children:[e.jsx(re,{style:{marginRight:6}})," ",P]})]}),e.jsxs("div",{style:d(t).subStatsBar,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,color:n.get("minValColor",t)},children:[e.jsx(et,{})," ",ue]}),e.jsx("div",{style:{color:n.get("difficulty",t),fontWeight:"bold"},children:`${U} / 20`})]}),e.jsx("div",{style:d(t).timerWrapper,children:e.jsxs("svg",{viewBox:"0 0 28 28",style:{width:"100%",height:"100%"},children:[e.jsx("circle",{cx:"14",cy:"14",r:"12",fill:n.get("background",t),stroke:n.get("border",t),strokeWidth:"1"}),e.jsx("text",{x:"14",y:"18",textAnchor:"middle",fill:W<=3?n.get("minValColor",t):n.get("mainText",t),fontSize:"10",fontWeight:"bold",children:W})]})}),e.jsx(y.div,{style:{...d(t).problemCard,backgroundColor:b?be||n.get("simplePanel",t):n.get("simplePanel",t),borderColor:b?be:"transparent"},animate:b?{scale:[1,1.05,1]}:{scale:1},children:b?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#fff"},children:L>0?`+${L}`:r===0?"ÐžÑˆÐ¸Ð±ÐºÐ°":"Mistake"}),e.jsx("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",marginTop:5},children:he})]}):e.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("div",{style:{fontSize:"14px",marginBottom:"16px",color:n.get("subText",t),textAlign:"center",opacity:.8},children:C[o].rules?.[r]||(r===0?"ÐÐ°Ð¶Ð¼Ð¸ Ð½Ð° Ð²ÑÐµ â˜…":"Click all â˜…")}),Oe()]})})]},"game-screen"),p&&e.jsxs(y.div,{variants:Q,initial:"hidden",animate:"visible",exit:"exit",style:d(t).contentWrapper,children:[e.jsxs("div",{style:d(t).header,children:[e.jsx("div",{}),e.jsx("h2",{style:d(t,R).title,children:r===0?"Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚":"Result"}),e.jsx("div",{})]}),e.jsxs("div",{style:{...d(t).card,alignItems:"center",gap:20,paddingTop:30},children:[e.jsx(re,{size:60,color:n.get("maxValColor",t)}),e.jsx("div",{style:{fontSize:"48px",fontWeight:"bold",color:n.get("mainText",t)},children:P}),e.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",gap:10},children:[e.jsx(ie,{theme:t,label:r===0?"Ð’Ñ€ÐµÐ¼Ñ":"Time",value:ze(ge)}),e.jsx(ie,{theme:t,label:r===0?"ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾":"Correct",value:`${Z} / 20`}),P>E?e.jsxs("div",{style:d(t).recordBox,children:[e.jsx(tt,{color:"#FFD700"})," ",r===0?"ÐÐ¾Ð²Ñ‹Ð¹ Ñ€ÐµÐºÐ¾Ñ€Ð´!":"New Record!"]}):e.jsx(ie,{theme:t,label:r===0?"Ð›ÑƒÑ‡ÑˆÐ¸Ð¹":"Best",value:E})]}),e.jsx("p",{style:{textAlign:"center",fontSize:"14px",color:n.get("subText",t),marginTop:10},children:he})]}),e.jsx(y.div,{initial:{scale:.8},animate:{scale:1},style:{width:"54px",height:"154px",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",marginTop:"25px"},children:e.jsx("img",{style:{width:"14vh"},src:"images/Congrat.png",alt:"logo"})}),e.jsxs("div",{style:d(t).controlsRow,children:[e.jsx(y.button,{whileTap:{scale:.9},onClick:()=>{Ne(),$(0)},style:d(t).secondaryButton,children:e.jsx(st,{size:20})}),e.jsx(y.button,{whileTap:{scale:.9},onClick:()=>{x(!1),m(!1),$(0),q(0)},style:d(t).primaryButton,children:r===0?"Ð—Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ÑŒ":"Finish"})]})]},"result-screen")]})},"modal-container")})},ke=({theme:s,label:l,value:o})=>e.jsxs("div",{style:{backgroundColor:n.get("background",s),padding:"10px",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"12px",color:n.get("subText",s)},children:l}),e.jsx("span",{style:{fontSize:"16px",fontWeight:"bold",color:n.get("mainText",s)},children:o})]}),ie=({theme:s,label:l,value:o})=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",padding:"5px 0",borderBottom:`1px solid ${n.get("border",s)}30`},children:[e.jsx("span",{style:{color:n.get("subText",s)},children:l}),e.jsx("span",{style:{color:n.get("mainText",s),fontWeight:"bold"},children:o})]});function St(s){const x=s===0?["ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾!","Ð˜Ð´ÐµÐ°Ð»ÑŒÐ½Ð¾!","Ð¢Ð¾Ñ‡Ð½Ð¾!","Ð’ÐµÑ€Ð½Ð¾!","Ð¡ÑƒÐ¿ÐµÑ€!"]:["Great!","Perfect!","Sharp!","Focused!","Exact!"];return x[Math.floor(Math.random()*x.length)]}function ze(s){const l=Math.floor(s/1e3),o=Math.floor(l/60),x=l%60;return`${String(o).padStart(2,"0")}:${String(x).padStart(2,"0")}`}const jt=s=>s===0?"Ð‘Ñ‹ÑÑ‚Ñ€Ð¾ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚Ðµ Ñ†ÐµÐ»ÐµÐ²Ñ‹Ðµ ÑÐ¸Ð¼Ð²Ð¾Ð»Ñ‹ ÑÑ€ÐµÐ´Ð¸ Ð¾Ñ‚Ð²Ð»ÐµÐºÐ°ÑŽÑ‰Ð¸Ñ…. ÐžÑˆÐ¸Ð±ÐºÐ¸ ÑÐ±Ñ€Ð°ÑÑ‹Ð²Ð°ÑŽÑ‚ ÑÐµÑ€Ð¸ÑŽ.":"Quickly find the target symbols among distractors. Mistakes break your streak.",vt=(s,l,o,x,t,h)=>h?l===0?`ÐÐ¾Ð²Ñ‹Ð¹ Ñ€ÐµÐºÐ¾Ñ€Ð´: ${o}!`:`New Record: ${o}!`:x>=18?l===0?"ÐžÑ€Ð»Ð¸Ð½Ñ‹Ð¹ Ð³Ð»Ð°Ð·!":"Eagle Eye!":l===0?"Ð¥Ð¾Ñ€Ð¾ÑˆÐ°Ñ ÐºÐ¾Ð½Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ñ†Ð¸Ñ!":"Good focus!",d=(s,l=14)=>({container:{backgroundColor:n.get("background",s),position:"fixed",top:0,left:0,height:"100vh",width:"100vw",zIndex:2e3,display:"flex",flexDirection:"column",fontFamily:"Segoe UI"},contentWrapper:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",width:"100%",boxSizing:"border-box"},centeredFull:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},header:{width:"90%",marginTop:"65px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},title:{fontSize:"20px",fontWeight:"bold",color:n.get("mainText",s),margin:0},card:{width:"100%",maxWidth:"400px",backgroundColor:n.get("simplePanel",s)+"80",backdropFilter:"blur(10px)",borderRadius:"24px",padding:"20px",boxSizing:"border-box",display:"flex",flexDirection:"column",border:`1px solid ${n.get("border",s)}40`},description:{fontSize:"15px",color:n.get("subText",s),textAlign:"center",marginBottom:"20px",lineHeight:1.4},statsGrid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",width:"100%",marginBottom:"20px"},disclaimer:{fontSize:"12px",color:n.get("subText",s),textAlign:"center",opacity:.7,marginTop:10},iconButton:{fontSize:"32px",color:n.get("skipped",s),cursor:"pointer"},iconButtonSmall:{fontSize:"28px",color:n.get("skipped",s),cursor:"pointer"},playButtonContainer:{marginTop:"auto",width:"100%",display:"flex",justifyContent:"center",paddingBottom:"40px"},playButton:{backgroundColor:n.get("barsColorMeasures",s),color:"#fff",border:"none",borderRadius:"16px",padding:"16px 40px",fontSize:"18px",fontWeight:"bold",display:"flex",alignItems:"center",cursor:"pointer",boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},gameContainer:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},gameHeader:{width:"90%",display:"flex",marginTop:"75px",justifyContent:"space-between",alignItems:"center",padding:"15px 0"},gameStat:{display:"flex",alignItems:"center",fontSize:"18px",fontWeight:"bold",color:n.get("mainText",s)},subStatsBar:{width:"90%",display:"flex",justifyContent:"space-between",marginBottom:"10px"},timerWrapper:{width:"48px",height:"48px",marginBottom:"10px"},problemCard:{width:"90%",maxWidth:"350px",minHeight:"300px",borderRadius:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",marginBottom:"20px",border:"2px solid transparent",padding:"20px",boxSizing:"border-box"},recordBox:{backgroundColor:"rgba(255, 215, 0, 0.15)",color:"#FFD700",padding:"10px",borderRadius:"12px",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontWeight:"bold",fontSize:"14px"},controlsRow:{display:"flex",gap:"20px",marginTop:"auto",marginBottom:"40px"},primaryButton:{backgroundColor:n.get("difficulty5",s),color:n.get("mainText",s),border:"none",borderRadius:"16px",padding:"14px 30px",fontSize:"16px",fontWeight:"bold",cursor:"pointer"},secondaryButton:{backgroundColor:n.get("background",s),color:n.get("subText",s),border:`1px solid ${n.get("border",s)}`,borderRadius:"16px",padding:"14px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"}}),Bt=()=>{const[s,l]=i.useState("dark"),[o,x]=i.useState(D.prefs[0]),[t,h]=i.useState(D.prefs[4]),[r,T]=i.useState(!1),[R,M]=i.useState(0),[v,S]=i.useState(nt.hasPremium);i.useEffect(()=>{const p=it.subscribe(S);return()=>p.unsubscribe()},[]),i.useEffect(()=>{const p=Re.subscribe(l),m=Be.subscribe(G=>x(G==="ru"?0:1)),w=De.subscribe(h);return()=>{p.unsubscribe(),m.unsubscribe(),w.unsubscribe()}},[]);const g=p=>D.mentalRecords?.[3]?.[p]||0,I={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},z={hidden:{opacity:0,y:10,scale:.98},show:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:300,damping:25}}},F={emoji:"ðŸŽ¯",ru:"Ð’Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ",en:"Focus"};return e.jsxs("div",{style:Fe(s).container,children:[e.jsxs("div",{style:Fe(s).scrollView,children:[e.jsx("div",{style:{height:"3vh"}}),e.jsxs("div",{style:{width:"92%",marginBottom:"20px",display:"flex",flexDirection:"column",gap:"5px",marginTop:"20px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{style:{fontSize:"28px"},children:F.emoji}),e.jsx("h1",{style:{margin:0,color:n.get("mainText",s),fontSize:"26px",fontFamily:"Segoe UI",fontWeight:"800"},children:o===0?F.ru:F.en})]}),e.jsx("span",{style:{fontSize:"14px",color:n.get("subText",s),opacity:.7,marginLeft:"4px"},children:o===0?"ÐšÐ¾Ð½Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ñ†Ð¸Ñ Ð¸ Ñ€ÐµÐ°ÐºÑ†Ð¸Ñ":"Concentration and reaction"})]}),e.jsx(y.div,{variants:I,initial:"hidden",animate:"show",style:{width:"94%",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",paddingBottom:"30px"},children:C.map((p,m)=>{const w=m>1&&!v;return e.jsx("div",{style:{},children:e.jsx(Ct,{variants:z,index:m,difficulty:m,protocol:p,theme:s,lang:o,fSize:t,needBlur:w,hasPremium:v,record:g(m),isFullWidth:!1,onClick:()=>{w||(M(m),T(!0))}})},m)})}),e.jsx("div",{style:{height:"10vh",width:"100%"}})," "]}),r&&e.jsx(yt,{type:3,difficulty:R,show:r,setShow:T})]})},wt=s=>{switch(s){case 0:return{accent:"#4DFF88",bgGlow:"radial-gradient(circle at 100% 0%, rgba(77, 255, 136, 0.15) 0%, transparent 50%)",icon:e.jsx(ct,{})};case 1:return{accent:"#00E5FF",bgGlow:"radial-gradient(circle at 100% 0%, rgba(0, 229, 255, 0.15) 0%, transparent 50%)",icon:e.jsx(lt,{})};case 2:return{accent:"#A64DFF",bgGlow:"radial-gradient(circle at 100% 0%, rgba(166, 77, 255, 0.15) 0%, transparent 50%)",icon:e.jsx(at,{})};case 3:return{accent:"#FFD700",bgGlow:"radial-gradient(circle at 100% 0%, rgba(255, 215, 0, 0.15) 0%, transparent 50%)",icon:e.jsx(dt,{})};default:return{accent:"#FF4D4D",bgGlow:"none",icon:e.jsx(re,{})}}};function Ct({protocol:s,difficulty:l,onClick:o,theme:x,lang:t,fSize:h,variants:r,needBlur:T,hasPremium:R,record:M,isFullWidth:v}){const S=x==="dark",g=T,{accent:I,bgGlow:z,icon:F}=wt(l),p={position:"relative",width:"100%",height:v?"120px":"185px",display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"22px",overflow:"hidden",cursor:g?"default":"pointer",backgroundColor:n.get("simplePanel",x),boxShadow:S?"0 4px 20px rgba(0,0,0,0.3)":"0 4px 15px rgba(0,0,0,0.05)",border:S?"1px solid rgba(255,255,255,0.05)":"1px solid rgba(0,0,0,0.02)",padding:"16px",boxSizing:"border-box"},m={width:"36px",height:"36px",borderRadius:"12px",backgroundColor:S?"rgba(255,255,255,0.08)":"rgba(0,0,0,0.04)",display:"flex",alignItems:"center",justifyContent:"center",color:I,fontSize:"16px"};return e.jsxs(y.div,{variants:r,whileTap:g?{}:{scale:.96},whileHover:g?{}:{y:-2},onClick:o,style:p,children:[e.jsx("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0,background:z,pointerEvents:"none"}}),g&&e.jsxs("div",{onClick:w=>{w.stopPropagation()},style:{position:"absolute",inset:0,zIndex:10,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:S?"rgba(0,0,0,0.5)":"rgba(255,255,255,0.6)",backdropFilter:"blur(8px)"},children:[e.jsx(rt,{size:18,color:I,style:{marginBottom:"8px"}}),e.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:n.get("mainText",x),marginBottom:"8px"},children:"PREMIUM"})]}),e.jsxs("div",{style:{zIndex:2},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[e.jsx("div",{style:m,children:F}),e.jsx("div",{style:{fontSize:"10px",fontWeight:"700",color:I,textTransform:"uppercase",letterSpacing:"0.5px",marginTop:"4px"},children:s.level[t]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px"},children:[e.jsx("div",{style:{fontSize:v?"17px":h===0?"16px":"18px",fontWeight:"700",color:n.get("mainText",x),lineHeight:"1.2"},children:s.title[t]}),e.jsx("div",{style:{fontSize:"12px",color:n.get("subText",x),opacity:.8,lineHeight:"1.3"},children:s.difficulty?s.difficulty[t]:t===0?"Ð‘Ñ‹ÑÑ‚Ñ€Ð°Ñ Ñ€ÐµÐ°ÐºÑ†Ð¸Ñ":"Quick reaction"})]})]}),!g&&e.jsxs("div",{style:{zIndex:2,marginTop:"auto",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",background:S?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.03)",padding:"4px 10px",borderRadius:"8px"},children:[e.jsx(ot,{size:10,color:I}),e.jsx("span",{style:{fontSize:"12px",fontWeight:"bold",color:n.get("mainText",x),opacity:.9},children:M})]}),e.jsx("span",{style:{fontSize:"10px",color:n.get("subText",x),opacity:.5},children:t===0?"Ñ€ÐµÐºÐ¾Ñ€Ð´":"best"})]})]})}const Fe=s=>({container:{backgroundColor:n.get("background",s),display:"flex",flexDirection:"column",justifyItems:"center",alignItems:"center",height:"90vh",marginTop:"110px",width:"100vw",fontFamily:"Segoe UI, sans-serif",overflow:"hidden"},scrollView:{height:"100%",width:"100%",overflowY:"scroll",display:"flex",flexDirection:"column",alignItems:"center"}});export{Bt as default};
