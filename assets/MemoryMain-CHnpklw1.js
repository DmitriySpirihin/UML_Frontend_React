import{A as M,t as Me,l as $e,f as Re,C as r,j as e,bi as se,bj as Te,bt as Ie,bk as Je,bu as Qe,bv as Xe,bp as N,bw as Ze,U as et,p as tt,s as nt,bo as st,bx as ot,w as rt}from"./index-CctTinAl.js";import{r as i,R as it}from"./recharts-Bg6K2Pzo.js";import{G as lt,a as at}from"./index-D_CeShlC.js";import{m as S,s as ct}from"./MentalHelper-BuCW3eAE.js";import{B as ut}from"./BreathAudio-BrJNN4AB.js";import{M as dt}from"./MentalInput-CBKVw0nM.js";function xt(n,s,o){if(n!==1)return["","",!1];const a=S[s]||S[0],{sequence:t}=St(s,o),x=bt(t),l=t.join(""),c=!!(a.reverseEnabled&&o>=11);return[x,l,c]}const ze=["1","2","3","4","5","6","7","8","9","0"],ft=["‚Üê","‚Üë","‚Üí","‚Üì"],pt=[...ft,...ze],gt=(n,s)=>(n=Math.ceil(n),s=Math.floor(s),Math.floor(Math.random()*(s-n+1))+n),mt=(n,s,o)=>Math.max(s,Math.min(o,n)),ht=(n,s,o)=>n+(s-n)*o;function yt(n,s){const o=Math.max(0,Math.min(3,n??0)),a=S[o],t=mt((s-1)/19,0,1),x=a.elementsRange[0],l=a.elementsRange[1],c=Math.round(ht(x,l,t)),h=a.charShowMs||600,C=a.retentionDelayMs||2e3;return{sequenceLength:c,charShowMs:h,retentionDelayMs:C,memorizeTimeMs:Math.max(1e3,(a.memorizeTimeSecRange?.[0]||5)*1e3)}}function St(n,s){const{sequenceLength:o,charShowMs:a,retentionDelayMs:t}=yt(n,s),x=n===0?ze:pt,l=[];for(let c=0;c<o;c++){let h;do h=x[gt(0,x.length-1)];while(c>0&&h===l[c-1]);l.push(h)}return{sequence:l,charShowMs:a,retentionDelayMs:t}}function bt(n){return Array.isArray(n)?n.join(" "):""}const ke=(n,s)=>{if(!n)return 1;const o=String(n),a=String(s||""),t=o.length;let x=0;for(let l=0;l<t;l++)a[l]===o[l]&&(x+=1);return 1-x/t};function jt(n,s,o,a,t,x,l){if(n!==1)return 0;const h=[140,200,260,330][s]||140,j=1-ke(t,x),b=Math.min(1+o*.02,1.3),d=Math.min(a/6e3,2),y=j===1?Math.max(1.3-(d-1)*.3,1):1,T=l>=5&&j===1?Math.min(1+.1*Math.min(l/10,4),1.5):1;return Math.round(h*j*b*y*T)}function vt(n,s,o){return n!==1?!1:String(o||"")===String(s||"")}function Ct(n,s,o){return n!==1?1:ke(s,o)}const we=3e3,Tt=({show:n,type:s,difficulty:o,setShow:a})=>{const[t,x]=i.useState("dark"),[l,c]=i.useState(M.prefs[0]),[h,C]=i.useState(M.prefs[4]),[j,b]=i.useState(600),[d,y]=i.useState(2e3),[T,z]=i.useState(""),[k,D]=i.useState(""),[re,q]=i.useState(!1),[R,K]=i.useState(!1),[L,ie]=i.useState(!1),[v,A]=i.useState("memorize"),[le,ae]=i.useState(0),[I,ce]=i.useState(!1),[Pe,U]=i.useState(!1),[Fe,ue]=i.useState(0),[de,xe]=i.useState(!1),[J,We]=i.useState(1),{initAudio:Ee,playRight:Ye,playWrong:Le}=ut(M.prefs[2]===0),[Dt,fe]=i.useState(0),[P,pe]=i.useState(!1),[$,V]=i.useState(0),[B,H]=i.useState(1),[ge,Q]=i.useState(0),[g,Ge]=i.useState(""),[me,Ne]=i.useState(!1),[F,X]=i.useState(0),[he,G]=i.useState(""),[qe,Ae]=i.useState(""),[W,ye]=i.useState(0),[Z,_]=i.useState(0),[E,Ve]=i.useState(M.mentalRecords[s]?.[o]||0),[Se,be]=i.useState(0),[Be,ee]=i.useState(0);i.useEffect(()=>{if(!R||I||v!=="recall"){z("");return}T==="CC"?D(u=>u.length>0?u.slice(0,-1):""):T===">>>"?je():T.length===1&&D(u=>u.length<g.length?u+T:u),z("")},[T,R,I,v,g.length]),i.useEffect(()=>{!R||I||P||v!=="recall"||k.length===g.length&&je()},[k,g.length,v,R,I,P]),i.useEffect(()=>{let u=null;return re&&(u=setInterval(()=>be(f=>f+100),100)),()=>clearInterval(u)},[re]),i.useEffect(()=>{if(v!=="memorize"||!g||g.length===0)return;const u=g.length,f=j,p=d;if(F<u){const m=setTimeout(()=>X(w=>w+1),f);return()=>clearTimeout(m)}else{const m=setTimeout(()=>{A("recall"),ae(Date.now())},p);return()=>clearTimeout(m)}},[v,g,F,j,d]),i.useEffect(()=>{const u=Me.subscribe(x),f=$e.subscribe(m=>c(m==="ru"?0:1)),p=Re.subscribe(C);return()=>{u.unsubscribe(),f.unsubscribe(),p.unsubscribe()}},[]),i.useEffect(()=>{if(!L){ee(0);return}const u=Math.ceil(we/1e3);ee(u);const f=setInterval(()=>{ee(p=>p<=1?(clearInterval(f),He(),ie(!1),0):p-1)},1e3);return()=>clearInterval(f)},[L,we]),i.useEffect(()=>{if(!P)return;const u=setInterval(()=>{fe(f=>{if(f>=900){clearInterval(u),pe(!1),fe(0);const p=$+W;return V(p),ye(0),D(""),de?Ke(p):(H(J),te(J)),0}return f+100})},100);return()=>clearInterval(u)},[P,$,W,de,J]),i.useEffect(()=>{if(v!=="memorize"||!g||g.length===0)return;const u=g.length;if(F<u){const f=setTimeout(()=>{X(p=>p+1)},600);return()=>clearTimeout(f)}else{const f=setTimeout(()=>{A("recall"),ae(Date.now())},2e3);return()=>clearTimeout(f)}},[v,g,F]);const He=()=>{Ee(),V(0),H(1),_(0),Q(0),D(""),G(""),te(1),K(!0),q(!0),U(!1),be(0),ue(Date.now())},te=(u=B)=>{const[f,p,m]=xt(s,o,u),w=S[o];Ge(p||""),Ne(m),X(0),A("memorize"),b(w.charShowMs),y(w.retentionDelayMs),D(""),G(""),We(u+1),xe(!1)},je=()=>{if(v!=="recall")return;const u=me?g.split("").reverse().join(""):g,f=le>0?Date.now()-le:0,p=jt(s,o,B,f,u,k,ge),m=Ct(s,u,k);Mt(m===0?"light":"medium");let w="";m===0?(w=$t(l),_(ne=>ne+1)):m<.15?w=Rt(l):w=(l===0?"–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ":"Correct answer: ")+u;const Ue=m===0?r.get("maxValColor",t):m<.15?r.get("difficulty2",t):r.get("minValColor",t);Ae(Ue),G(w),ye(p),Q(ne=>vt(s,u,k)?ne+1:0),m===0?Ye():Le(),xe(B>=20),A("feedback"),pe(!0)},_e=()=>{q(!1),U(!0)},Oe=()=>{q(!0),U(!1)},ve=()=>{V(0),H(1),_(0),Q(0),D(""),G(""),te(),ue(Date.now())},Ke=u=>{const f=Date.now(),p=Math.round((f-Fe)/1e3);ct(p);const m=u>E,w=wt(!1,l,u,Z,20,m,!1);q(!1),G(w),ce(!0),K(!1)},Ce=()=>{$>E&&(Ve($),M.mentalRecords[s]||(M.mentalRecords[s]={}),M.mentalRecords[s][o]=$),V(0),H(1),_(0),ce(!1),a(!1)};return e.jsxs("div",{style:O(t,n).container,children:[!R&&!L&&!I&&e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",width:"100%",height:"80%"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:r.get("mainText",t)},children:S[o].level[l]}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"12px",justifyContent:"center",fontSize:"15px",color:r.get("subText",t)},children:S[o].title[l]}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"12px",justifyContent:"center",fontSize:"15px",color:r.get("subText",t)},children:S[o].description[l]}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"12px",justifyContent:"center",fontSize:"15px",color:r.get("mainText",t)},children:(l===0?"–î–ª–∏–Ω–∞: ":"Length: ")+S[o].elementsRange[0]+"‚Äì"+S[o].elementsRange[1]}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"12px",justifyContent:"center",fontSize:"15px",color:r.get("subText",t)},children:l===0?`–ü–æ–∫–∞–∑: ${S[o].charShowMs} –º—Å/—Å–∏–º–≤–æ–ª`:`Flash: ${S[o].charShowMs} ms/char`}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"8px",justifyContent:"center",fontSize:"15px",color:r.get("subText",t)},children:l===0?`–ü–∞—É–∑–∞ –ø–µ—Ä–µ–¥ –æ—Ç–≤–µ—Ç–æ–º: ${S[o].retentionDelayMs} –º—Å`:`Recall delay: ${S[o].retentionDelayMs} ms`}),S[o].reverse&&e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"8px",justifyContent:"center",fontSize:"15px",color:r.get("maxValColor",t),fontStyle:"italic"},children:l===0?"–û–±—Ä–∞—Ç–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫":"Reverse order"}),e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"50px",fontSize:"12px",color:r.get("subText",t)},children:It(l)})]}),!R&&!L&&!I&&e.jsxs("div",{style:O(t,n).controls,children:[e.jsx(se,{onClick:()=>Ce(),style:{fontSize:"60px",color:r.get("close",t)}}),e.jsx(Te,{onClick:()=>ie(!0),style:{fontSize:"60px",color:r.get("play",t)}}),e.jsx(Ie,{onClick:ve,style:{fontSize:"60px",color:r.get("reload",t)}})]}),!I&&L&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",width:"90%",height:"80%"},children:[e.jsx("div",{style:{fontSize:"10rem",marginTop:"180px",color:r.get("icons",t),fontWeight:"bold",lineHeight:1},children:Be}),e.jsx("div",{style:{fontSize:"2rem",marginBottom:"80px",textAlign:"center"},children:e.jsx("div",{style:{color:r.get("icons",t),marginBottom:"80px"},children:l===0?"–ü—Ä–∏–≥–æ—Ç–æ–≤—å—Ç–µ—Å—å!":"Get ready!"})})]}),!I&&R&&e.jsxs("div",{style:O(t).playContainer,children:[e.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"86%",borderBottom:`1px solid ${r.get("border",t)}`},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"row",marginTop:"6px",width:"60%",gap:"20px",marginRight:"auto"},children:[e.jsx(se,{onClick:()=>K(!1),style:{fontSize:"25px",color:r.get("close",t)}}),Pe?e.jsx(Te,{onClick:Oe,style:{fontSize:"25px",color:r.get("play",t)}}):e.jsx(Je,{onClick:_e,style:{fontSize:"25px",color:r.get("pause",t)}}),e.jsx(Ie,{onClick:ve,style:{fontSize:"25px",color:r.get("reload",t)}})]}),e.jsxs("div",{style:{display:"flex",marginLeft:"auto",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:r.get("subText",t)},children:[e.jsx(Qe,{}),De(Se)]})]}),e.jsxs("div",{style:{display:"flex",width:"86%",flexDirection:"row",marginTop:"20px",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:r.get("minValColor",t)},children:[e.jsx(Xe,{}),ge]}),e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:r.get("difficulty",t)},children:B+"/ 20"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:r.get("maxValColor",t)},children:[e.jsx(N,{}),$]})]}),e.jsxs("div",{children:[v==="recall"&&!P&&e.jsx("div",{style:{...oe(t,!1),fontSize:"16px"},children:me?l===0?"–ü–æ–≤—Ç–æ—Ä–∏ –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ":"Repeat in reverse":l===0?"–ü–æ–≤—Ç–æ—Ä–∏":"Repeat"}),v==="memorize"&&e.jsxs("div",{style:oe(t,!1),children:[F<g.length?g[F]:"‚è≥"," "]}),P&&e.jsxs("div",{style:oe(t,!0,qe),children:[e.jsxs("p",{style:{fontSize:"22px",fontWeight:"bold",color:W>0?r.get("maxValColor",t):r.get("minValColor",t)},children:[W>0&&e.jsx(N,{}),W>0?W:l===0?"–Ω–µ –≤–µ—Ä–Ω–æ":"wrong answer"]}),e.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",color:r.get("mainText",t)},children:he})]})]}),e.jsx("div",{style:{fontSize:"34px",fontWeight:"bold",color:r.get("subText",t),marginTop:"auto"},children:k})]}),!I&&R&&v==="recall"&&e.jsx(dt,{setInput:z,type:s}),I&&e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",width:"100%",height:"80%"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:r.get("maxValColor",t)},children:[e.jsx(N,{}),$]}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:r.get("medium",t)},children:zt(l,Se)}),$>E&&e.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:r.get("medium",t)},children:[e.jsx(Ze,{}),l===0?"–ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥!":"New record!"]}),$<=E&&e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:r.get("subText",t)},children:l===0?"—Ä–µ–∫–æ—Ä–¥: "+E:"record: "+E}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"22px",fontWeight:"bold",color:r.get("mainText",t)},children:o<4?Z+" / 20":Z}),e.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:r.get("mainText",t)},children:he})]}),I&&e.jsx("div",{style:O(t,n).controls,children:e.jsx(se,{onClick:()=>{Ce()},style:{fontSize:"60px",color:r.get("close",t)}})})]})},oe=(n,s,o)=>({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"95vw",height:"16vh",marginTop:"20px",backgroundColor:r.get("bottomPanel",n),boxShadow:s?"0px 0px 9px 9px"+o:"2px 2px"+r.get("shadow",n),borderRadius:"24px",fontSize:"39px",fontWeight:"bold",color:r.get("mainText",n),alignContent:"center"}),O=(n,s)=>({container:{backgroundColor:r.get("background",n),display:"flex",position:"fixed",flexDirection:"column",alignItems:"center",height:"86vh",transform:s?"translateY(0)":"translateY(100%)",bottom:"0",transition:"transform 0.2s ease-in-out",width:"100vw",fontFamily:"Segoe UI",borderTop:`2px solid ${r.get("border",n)}`,borderTopLeftRadius:"12px",borderTopRightRadius:"12px",zIndex:2e3},controls:{display:"flex",marginTop:"30px",gap:"50px"},playContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",height:"50vh",bottom:"0",width:"100vw"}}),It=n=>n===0?"–û—Ç–≤–µ—á–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ –±—ã—Å—Ç—Ä–æ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –º–∞–∫—Å–∏–º—É–º –æ—á–∫–æ–≤. –ö–∞–∂–¥–∞—è –æ—à–∏–±–∫–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –º–Ω–æ–∂–∏—Ç–µ–ª—å –ø–æ–¥—Ä—è–¥ –∏–¥—É—â–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤. –ó–∞ –∫–∞–∂–¥—ã–µ 5 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–¥—Ä—è–¥ –º–Ω–æ–∂–∏—Ç–µ–ª—å —Ä–∞—Å—Ç—ë—Ç (–º–∞–∫—Å. √ó1.5). –ù–∞ —Å–ª–æ–∂–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω—É–∂–Ω–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ ‚Äî —Ç—Ä–µ–Ω–∏—Ä—É–π—Ç–µ —Ä–∞–±–æ—á—É—é –ø–∞–º—è—Ç—å!":"Answer correctly and quickly to maximize your score. Every mistake resets your streak multiplier. For every 5 correct answers in a row, the multiplier increases (up to √ó1.5). On harder levels, repeat the sequence in reverse ‚Äî train your working memory under pressure!",wt=(n,s,o,a,t,x,l=!1)=>{const c=Math.round(a/t*100),h=c>=80,C=c>=50&&!h,j={ru:{high:[`üéâ –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! ${a}/${t} (${c}%) ‚Äî –º–æ–ª–æ–¥–µ—Ü!`,`‚ú® –ü–æ—Ç—Ä—è—Å–∞—é—â–µ! –¢—ã —Å–ø—Ä–∞–≤–∏–ª—Å—è –Ω–∞ ${c}%.`,`üî• –¢—ã –Ω–∞–±—Ä–∞–ª(–∞) ${o} –æ—á–∫–æ–≤ ‚Äî —ç—Ç–æ –≤–ø–µ—á–∞—Ç–ª—è–µ—Ç!`,`üöÄ –í–∞—É! ${a}/${t} ‚Äî —Ç—ã –≤ —É–¥–∞—Ä–µ!`,`üíØ –ò–¥–µ–∞–ª—å–Ω–æ! –¢–∞–∫ –¥–µ—Ä–∂–∞—Ç—å! (${c}%)`],moderate:[`üôÇ –•–æ—Ä–æ—à–∞—è –ø–æ–ø—ã—Ç–∫–∞! ${a}/${t} (${c}%).`,"üå± –¢—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏! –ü—Ä–æ–¥–æ–ª–∂–∞–π –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ.",`üìà –ù–∞–±—Ä–∞–Ω–æ ${o} –æ—á–∫–æ–≤. –£–∂–µ –ª—É—á—à–µ!`,`üëç –ü–æ–ª–æ–≤–∏–Ω–∞ –∏ –±–æ–ª—å—à–µ ‚Äî —ç—Ç–æ –ø—Ä–æ–≥—Ä–µ—Å—Å! (${c}%)`,"üí™ –ù–µ–ø–ª–æ—Ö–æ! –° –∫–∞–∂–¥—ã–º —Ä–∞–∑–æ–º –±—É–¥–µ—Ç –ª—É—á—à–µ."],low:["ü§ó –¢—ã —Å—Ç–∞—Ä–∞–ª—Å—è(–ª–∞—Å—å) ‚Äî —ç—Ç–æ –≥–ª–∞–≤–Ω–æ–µ. –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë!","üå± –ù–µ —Å–¥–∞–≤–∞–π—Å—è! –ö–∞–∂–¥–∞—è –ø–æ–ø—ã—Ç–∫–∞ ‚Äî —à–∞–≥ –≤–ø–µ—Ä—ë–¥.","üå§Ô∏è –°–µ–≥–æ–¥–Ω—è –Ω–µ —Ç–≤–æ–π –¥–µ–Ω—å, –Ω–æ –∑–∞–≤—Ç—Ä–∞ –±—É–¥–µ—Ç –ª—É—á—à–µ!",`üéØ –¢—ã –Ω–∞–±—Ä–∞–ª(–∞) ${o} –æ—á–∫–æ–≤. –ü—Ä–æ–¥–æ–ª–∂–∞–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è!`,`üå± –î–∞–∂–µ ${a} –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ ‚Äî —ç—Ç–æ –Ω–∞—á–∞–ª–æ!`],record:[`üèÜüî• –ù–û–í–´–ô –†–ï–ö–û–†–î! ${o} –æ—á–∫–æ–≤ ‚Äî –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!`,`üéâ‚ú® –¢—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª(–∞) –ª–∏—á–Ω—ã–π —Ä–µ–∫–æ—Ä–¥: ${a}/${t} (${c}%)!`,"üåüüí• –î–∞–∂–µ –µ—Å–ª–∏ –±—ã–ª–æ —Ç—Ä—É–¥–Ω–æ ‚Äî —Ç—ã –ø–æ–±–∏–ª(–∞) —Ä–µ–∫–æ—Ä–¥! –ú–æ–ª–æ–¥–µ—Ü!"],relax_any:["üßò‚Äç‚ôÄÔ∏è –û—Ç–ª–∏—á–Ω–æ –ø–æ—Ä–∞–±–æ—Ç–∞–ª(–∞) –≤ —Å–ø–æ–∫–æ–π–Ω–æ–º —Ä–µ–∂–∏–º–µ!",`üåº –¢—ã —Ä–µ—à–∏–ª(–∞) ${t} –∑–∞–¥–∞—á ‚Äî –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞!`,"‚ú® –°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ –∏ –≤–Ω–∏–º–∞–Ω–∏–µ ‚Äî –∑–∞–ª–æ–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞. –ú–æ–ª–æ–¥–µ—Ü!",`üå± ${a} –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ ‚Äî —Ä–æ—Å—Ç –Ω–∞–ª–∏—Ü–æ!`,"üå§Ô∏è –•–æ—Ä–æ—à–∏–π —Ç–µ–º–ø, –±–µ–∑ —Å–ø–µ—à–∫–∏. –¢–∞–∫ –¥–µ—Ä–∂–∞—Ç—å!"],relax_record:["üåü –ù–æ–≤—ã–π –ª–∏—á–Ω—ã–π –º–∞–∫—Å–∏–º—É–º ‚Äî –¥–∞–∂–µ –≤ —Å–ø–æ–∫–æ–π–Ω–æ–º —Ä–µ–∂–∏–º–µ!",`üßò‚Äç‚ôÇÔ∏èüèÜ –¢—ã –Ω–∞–±—Ä–∞–ª(–∞) ${o} –æ—á–∫–æ–≤ –≤ Relax-—Ä–µ–∂–∏–º–µ ‚Äî –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!`,"üí´ –î–∞–∂–µ –±–µ–∑ —Ç–∞–π–º–µ—Ä–∞ ‚Äî —Ç—ã —É–ª—É—á—à–∏–ª(–∞) —Å–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –†–µ—Å–ø–µ–∫—Ç!"]},en:{high:[`üéâ Awesome! ${a}/${t} (${c}%) ‚Äî well done!`,`‚ú® Outstanding! You scored ${c}%.`,`üî• You got ${o} points ‚Äî impressive!`,`üöÄ Wow! ${a}/${t} ‚Äî you‚Äôre on fire!`,`üíØ Perfect! Keep it up! (${c}%)`],moderate:[`üôÇ Good effort! ${a}/${t} (${c}%).`,"üå± You're making progress! Keep going.",`üìà You scored ${o} points. Getting better!`,`üëç More than half right ‚Äî that‚Äôs growth! (${c}%)`,"üí™ Nice try! You‚Äôll do even better next time."],low:["ü§ó You gave it your best ‚Äî that matters most. Try again!","üå± Don‚Äôt give up! Every attempt brings you closer.","üå§Ô∏è Not your best round, but tomorrow‚Äôs a new chance!",`üéØ You earned ${o} points. Keep practicing!`,`üå± Even ${a} correct answers is a start!`],record:[`üèÜüî• NEW RECORD! ${o} points ‚Äî congratulations!`,`üéâ‚ú® You set a personal best: ${a}/${t} (${c}%)!`,"üåüüí• Even on a tough day ‚Äî you broke your record! Amazing!"],relax_any:["üßò‚Äç‚ôÄÔ∏è Great job practicing in Relax Mode!",`üåº You solved ${t} problems ‚Äî wonderful focus!`,"‚ú® Calm and steady wins the race. Well done!",`üå± ${a} correct answers ‚Äî you're growing!`,"üå§Ô∏è A peaceful pace, great accuracy. Keep it up!"],relax_record:["üåü New personal best ‚Äî even in Relax Mode!",`üßò‚Äç‚ôÇÔ∏èüèÜ You scored ${o} points in Relax Mode ‚Äî congrats!`,"üí´ No timer, no stress ‚Äî and still a new record! Amazing!"]}},b=s===0?j.ru:j.en;let d=[];if(l?x?d=[...b.relax_record]:d=[...b.relax_any]:x?d=[...b.record]:h?d=[...b.high]:C?d=[...b.moderate]:d=[...b.low],d.length===0)return s===0?"–•–æ—Ä–æ—à–æ! üòä":"Good job! üòä";const y=Math.floor(Math.random()*d.length);return d[y]};function Mt(n){M.prefs[3]==0&&Telegram.WebApp.HapticFeedback&&Telegram.WebApp.HapticFeedback.impactOccurred(n)}function $t(n){const a=n===0?["–û—Ç–ª–∏—á–Ω–æ!","–ü—Ä–µ–∫—Ä–∞—Å–Ω–æ!","–í–µ—Ä–Ω–æ!","–¢–æ—á–Ω–æ!","–ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ!","–ò–¥–µ–∞–ª—å–Ω–æ!","–ü—Ä–∞–≤–∏–ª—å–Ω–æ!","–ú–æ–ª–æ–¥–µ—Ü!","–¢–æ—á–Ω–æ –≤ —Ü–µ–ª—å!","–ë–µ–∑ –æ—à–∏–±–æ–∫!"]:["Great!","Perfect!","Yes!","Exactly!","Awesome!","Brilliant!","Spot on!","Well done!","Nailed it!","Correct!"];return a[Math.floor(Math.random()*a.length)]}function Rt(n){const a=n===0?["–†—è–¥–æ–º!","–ü–æ—á—Ç–∏!","–ï—â–µ —á—É—Ç—å-—á—É—Ç—å!","–ü—Ä–æ–¥–æ–ª–∂–∞–π!","–ü–æ–ø—Ä–æ–±—É–π –µ—â–µ!","–û—á–µ–Ω—å –±–ª–∏–∑–∫–æ!","–•–æ—Ä–æ—à–∞—è –ø–æ–ø—ã—Ç–∫–∞!","–ù–µ —Å–æ–≤—Å–µ–º‚Ä¶","–ü–æ—á—Ç–∏ –ø–æ–ª—É—á–∏–ª–æ—Å—å!","–¢—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏!"]:["Close!","Almost!","Nearly!","Keep going!","Try again!","So close!","Good attempt!","Not quite!","One more try!","You're getting there!"];return a[Math.floor(Math.random()*a.length)]}function De(n){const s=Math.floor(n/1e3),o=Math.floor(s/60),a=s%60;return`${String(o).padStart(2,"0")}:${String(a).padStart(2,"0")}`}function zt(n,s){const o=De(s);return n===0?`–í–∞—à–µ –≤—Ä–µ–º—è: ${o}`:`Your time is: ${o}`}const Gt=()=>{const[n,s]=it.useState("dark"),[o,a]=i.useState(M.prefs[0]),[t,x]=i.useState(M.prefs[4]),[l,c]=i.useState(!1),[h,C]=i.useState(0),[j,b]=i.useState(et.hasPremium);return i.useEffect(()=>{const d=tt.subscribe(b);return()=>d.unsubscribe()},[]),i.useEffect(()=>{const d=Me.subscribe(s),y=$e.subscribe(z=>{a(z==="ru"?0:1)}),T=Re.subscribe(z=>{x(z)});return()=>{d.unsubscribe(),y.unsubscribe(),T.unsubscribe()}},[]),e.jsxs("div",{style:Y(n).container,children:[e.jsx("div",{style:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyItems:"center"},children:e.jsx("div",{style:{width:"100%",display:"grid",gridTemplateColumns:"1fr 1fr",alignItems:"center",justifyItems:"center"},children:S.map((d,y)=>{const T="difficulty"+y;return e.jsx(kt,{width:"46vw",difficulty:y,protocol:d,setLevel:C,color:r.get(T,n),theme:n,lang:o,click:()=>{C(y),c(!0)},fSize:t,hasPremium:j,needBlur:y>1},y)})})}),e.jsx(Tt,{type:1,difficulty:h,show:l,setShow:c})]})},Y=(n,s)=>({container:{backgroundColor:r.get("background",n),display:"flex",flexDirection:"column",overflowY:"scroll",justifyItems:"center",alignItems:"center",height:"78vh",paddingTop:"5vh",width:"100vw",fontFamily:"Segoe UI"},scrollView:{height:"95%",width:"100%",overflowY:"scroll",display:"flex",flexDirection:"column"},mainText:{textAlign:"left",fontSize:s===0?"15px":"17px",color:r.get("mainText",n)},subtext:{textAlign:"center",fontSize:s===0?"12px":"14px",color:r.get("mainText",n),margin:"2px"},icon:{fontSize:"32px",color:r.get("mainText",n)},simplePanelRow:{width:"75vw",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},cardText:{textAlign:"left",marginBottom:"5px",fontSize:s===0?"14px":"16px",color:r.get("mainText",n),marginLeft:"30px"},text:{textAlign:"left",fontSize:s===0?"10px":"12px",color:r.get("subText",n),marginLeft:"30px"},btn:{width:"70%",height:"40px",borderRadius:"12px",fontSize:s===0?"13px":"14px",color:r.get("mainText",n),backgroundColor:r.get("simplePanel",n)}});function kt({protocol:n,difficulty:s,click:o,width:a,color:t,theme:x,lang:l,fSize:c,hasPremium:h=!1,needBlur:C=!1}){const j=()=>s===0?e.jsx(st,{style:d}):s===1?e.jsx(N,{style:d}):s===2?e.jsx(lt,{style:d}):s===3?e.jsx(at,{style:d}):s===4?e.jsx(ot,{style:d}):e.jsx(rt,{style:d}),b={alignItems:"center",justifyContent:"center",display:"flex",width:a,flexDirection:"row",height:"12vh",marginTop:"15px",borderRadius:"24px",backgroundColor:t,overflow:"hidden",position:"relative",boxShadow:"3px 3px 2px rgba(0,0,0,0.3)"},d={fontSize:"86px",rotate:"-20deg",position:"absolute",right:"-10px",top:"30%",color:r.get("svgColor",x)};return e.jsxs("div",{style:b,onClick:o,children:[!h&&C&&e.jsxs("div",{onClick:y=>{y.stopPropagation()},style:{position:"absolute",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",width:"100%",height:"100%",left:"0",top:"0",backdropFilter:"blur(8px)",zIndex:2},children:[e.jsxs("div",{style:{...Y(x,c).mainText},children:[" ",l===0?"–ü—Ä–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è":"Pro category"," "]}),e.jsxs("div",{style:{...Y(x,c).mainText},children:[" ",l===0?"üëë–ø—Ä–µ–º–∏—É–ºüëë":"üëëpremiumüëë"," "]}),e.jsx("button",{onClick:()=>{nt("premium")},style:{...Y(x,c).btn},children:l===0?"–°—Ç–∞—Ç—å –ø—Ä–µ–º–∏—É–º":"Get premium"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"65%",height:"22%",alignItems:"center",justifyContent:"flex-end",position:"absolute",top:"5%",left:"30%",fontWeight:"bold",fontSize:"16px",color:r.get("maxValColor",x)},children:[e.jsx(N,{})," ",M.mentalRecords[1][s]]}),e.jsxs("div",{style:{width:"90%",height:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},children:[e.jsx("h2",{style:Y(x,c).cardText,children:n.level[l]}),e.jsx("p",{style:Y(x,c).text,children:n.title[l]})]}),j()]})}export{Gt as default};
