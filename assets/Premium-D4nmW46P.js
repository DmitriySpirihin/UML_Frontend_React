import{t as D,f as k,p as z,A,U as o,l as L,j as e,C as r,bc as B,x as M,bd as V,be as G,s as N,bf as _,a0 as C,bg as J}from"./index-DVvzoHFo.js";import{r as l}from"./recharts-DVuIdjrD.js";const P=new Date;P.setDate(P.getDate()+365);const H=[["–Ø–Ω–≤–∞—Ä—è","–§–µ–≤—Ä–∞–ª—è","–ú–∞—Ä—Ç–∞","–ê–ø—Ä–µ–ª—è","–ú–∞—è","–ò—é–Ω—è","–ò—é–ª—è","–ê–≤–≥—É—Å—Ç–∞","–°–µ–Ω—Ç—è–±—Ä—è","–û–∫—Ç—è–±—Ä—è","–ù–æ—è–±—Ä—è","–î–µ–∫–∞–±—Ä—è"],["January","February","March","April","May","June","July","August","September","October","November","December"]],q=()=>{const[t,g]=l.useState(D.value),[m,c]=l.useState(k.value),[b,y]=l.useState(z.value),[n,E]=l.useState(A.prefs[0]),[d,f]=l.useState(1),[j,v]=l.useState(o.premiumEndDate),[T,w]=l.useState(!1),F=()=>{const a=d===3?30:d===2?90:365,s=new Date;return s.setDate(s.getDate()+a),s},[W,U]=l.useState(F());l.useEffect(()=>{const a=d===3?30:d===2?90:365,s=new Date;s.setDate(s.getDate()+a),U(s)},[d]),l.useEffect(()=>{const a=D.subscribe(g),s=k.subscribe(c),p=L.subscribe(h=>{E(h==="ru"?0:1)}),x=z.subscribe(y);return()=>{a.unsubscribe(),p.unsubscribe(),s.unsubscribe(),x.unsubscribe()}},[]),l.useEffect(()=>{v(o.premiumEndDate)},[o.premiumEndDate]),l.useEffect(()=>{const a=async()=>{const p=localStorage.getItem("pendingPaymentId");if(p){w(!0);try{let x=0;const h=20;for(;x<h;){const S=await getPaymentStatus(p);if(S.success&&S.payment?.status==="succeeded"){const u=await fetchUserPremiumStatus();o.hasPremium=u.hasPremium,o.premiumEndDate=u.premiumEndDate,y(u.hasPremium),v(u.premiumEndDate);break}await new Promise(u=>setTimeout(u,3e3)),x++}}catch(x){console.warn("Payment verification failed:",x)}finally{w(!1),localStorage.removeItem("pendingPaymentId")}}};a();const s=()=>{document.hidden||setTimeout(a,1e3)};return document.addEventListener("visibilitychange",s),()=>{document.removeEventListener("visibilitychange",s)}},[]);function I(){if(!j)return n===0?"–ù–µ—Ç –ø–æ–¥–ø–∏—Å–∫–∏":"No subscription";const a=new Date(j).toISOString().split("T")[0],s=a.slice(0,4),p=parseInt(a.slice(8),10),x=parseInt(a.slice(5,7),10)-1;return`${p} ${H[n][x]} ${s}`}async function $(){if(o.id===null){C(n===0?"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π ID –Ω–µ –Ω–∞–π–¥–µ–Ω...":"User ID not found...",2e3,!1);return}try{localStorage.setItem("selectedPlan",d),await J(o.id,d)}catch{C(n===0?"–ù–µ –≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–ø–ª–∞—Ç—É...":"Could not start payment...",2e3,!1)}}return e.jsxs("div",{style:{...i(t).container},children:[!b&&e.jsxs("div",{style:{...i(t).panel},children:[e.jsx("img",{src:t==="dark"||t==="specialdark"?"images/Ui/Main_Dark.png":"images/Ui/Main_Light.png",style:{width:"50%"}}),e.jsx("div",{style:{...i(t).subtext,fontSize:"22px"},children:"premium"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"70vw",height:"22%",alignItems:"flex-start",justifyContent:"center"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyItems:"center",height:"35px"},children:[e.jsx(B,{style:{...i(t).miniIcon}}),e.jsx("div",{style:i(t).text,children:n===0?"–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –ò–ò –∞–Ω–∞–ª–∏—Ç–∏–∫–∞":"Personal AI analysis"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyItems:"center",height:"35px"},children:[e.jsx(M,{style:{...i(t).miniIcon}}),e.jsx("div",{style:i(t).text,children:n===0?"–¥–æ—Å—Ç—É–ø –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º":"get access to premium features"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyItems:"center",height:"35px"},children:[e.jsx(V,{style:{...i(t).miniIcon}}),e.jsx("div",{style:i(t).text,children:n===0?"–¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞":"detailed statistics"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyItems:"center",height:"35px"},children:[e.jsx(G,{style:{...i(t).miniIcon}}),e.jsx("div",{style:i(t).text,children:n===0?"–±–µ—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π":"beta testing new features"})]})]}),e.jsxs("div",{style:{position:"relative",display:"flex",margin:"5px",width:"70vw",height:"65px",borderRadius:"12px"},children:[e.jsx("div",{className:"premium-border"}),e.jsxs("div",{onClick:()=>{f(3)},id:3,style:{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:d===3?"#6197cdff":r.get("simplePanel",t),borderRadius:"12px",width:"100%",height:"100%",paddingLeft:"12px",paddingRight:"12px",zIndex:2},children:[e.jsx("div",{style:{...i(t).text,fontSize:"28px"},children:n===0?"1 –≥–æ–¥":"1 year"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[e.jsx("div",{style:{...i(t).text,fontSize:"24px"},children:"999 ‚ÇΩ"}),e.jsx("div",{style:{...i(t).text,fontSize:"14px"},children:"83‚ÇΩ/"+(n===0?"–º–µ—Å":"mon")})]})]}),e.jsx("div",{style:{position:"absolute",top:"-8px",left:"50%",transform:"translateX(-50%)",background:"linear-gradient(90deg, #00B4FF, #FF00C8)",color:"white",fontSize:"12px",fontWeight:"bold",padding:"2px 10px",borderRadius:"12px",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",zIndex:3,whiteSpace:"nowrap"},children:n===0?"–•–ò–¢":"HIT"})]}),e.jsxs("div",{onClick:()=>{f(2)},id:2,style:{display:"flex",margin:"5px",flexDirection:"row",borderRadius:"12px",alignItems:"center",backgroundColor:d===2?"#6197cdff":r.get("simplePanel",t),justifyContent:"space-between",width:"70vw",height:"65px"},children:[e.jsx("div",{style:{...i(t).text,marginLeft:"12px",fontSize:"28px"},children:n===0?"3 –º–µ—Å—è—Ü–∞":"3 month"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyItems:"center"},children:[e.jsx("div",{style:{...i(t).text,marginRight:"12px",fontSize:"24px"},children:"390 ‚ÇΩ"}),e.jsx("div",{style:{...i(t).text,marginRight:"12px",fontSize:"14px"},children:"130‚ÇΩ/"+(n===0?"–º–µ—Å":"mon")})]})]}),e.jsxs("div",{onClick:()=>{f(1)},id:1,style:{display:"flex",margin:"5px",flexDirection:"row",borderRadius:"12px",alignItems:"center",backgroundColor:d===1?"#6197cdff":r.get("simplePanel",t),justifyContent:"space-between",width:"70vw",height:"65px"},children:[e.jsx("div",{style:{...i(t).text,marginLeft:"12px",fontSize:"28px"},children:n===0?"1 –º–µ—Å—è—Ü":"1 month"}),e.jsx("div",{style:{...i(t).text,marginRight:"12px",fontSize:"24px"},children:"169 ‚ÇΩ"})]}),e.jsx(O,{langIndex:n,getPremium:$,theme:t}),e.jsx("button",{style:{...i(t).button,height:"40px",borderRadius:"20px",border:`2px solid ${r.get("border",t)}`},onClick:()=>N(_.value),children:n===0?"–û—Ñ–æ—Ä–º–ª—é –ø–æ–∑–¥–Ω–µ–µ":"I will do it later"}),e.jsx("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"12px",marginTop:"16px",padding:"0 10px"},children:e.jsxs("div",{style:{...i(t).subtext,display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx("span",{children:"üì±"}),e.jsx("span",{children:n===0?"–ë—ã—Å—Ç—Ä–∞—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ –°–ë–ü":"Fast and secure payment via SBP"})]})})]}),b&&e.jsxs("div",{style:{...i(t).panel},children:[e.jsx("img",{src:t==="dark"||t==="specialdark"?"images/Ui/Main_Dark.png":"images/Ui/Main_Light.png",style:{width:"50%"}}),e.jsxs("div",{style:{position:"relative",width:"60px",height:"60px",margin:"10px",borderRadius:"50%",overflow:"hidden",border:o.hasPremium?"none":`3px solid ${r.get("border",t)}`,boxSizing:"border-box"},children:[e.jsx("img",{style:{position:"absolute",top:2.5,left:3,width:"90%",height:"90%",objectFit:"cover",borderRadius:"50%",zIndex:1},src:Array.isArray(o.photo)?o.photo[0]:o.photo,alt:"images/Ui/Guest.jpg"}),e.jsx("img",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain",zIndex:2},src:"images/Ui/premiumborder.png"})]}),e.jsx("div",{style:{color:r.get("subText",t),fontSize:"18px",fontFamily:"Segoe UI"},children:o.name}),e.jsx("p",{style:i(t).text,children:n===0?"üëë –ø—Ä–µ–º–∏—É–º –ø–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞ üëë":"üëë premium subscription active üëë"}),e.jsx("div",{style:i(t).text,children:n===0?"–¥–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ "+I():"active until "+I()})]}),T&&e.jsxs("div",{style:{position:"fixed",top:"10px",left:"50%",transform:"translateX(-50%)",backgroundColor:t==="dark"?"#2a2a2a":"#f0f0f0",color:t==="dark"?"#e0e0e0":"#333",padding:"10px 16px",borderRadius:"12px",border:`1px solid ${r.get("border",t)}`,zIndex:1e3,display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:[e.jsx("span",{children:"‚è≥"}),e.jsx("span",{children:n===0?"–ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–ø–ª–∞—Ç—É... –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç.":"Verifying payment... This may take several minutes."})]})]})},i=(t,g,m)=>({container:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2900,width:"100vw"},panel:{display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"24px",border:`1px solid ${r.get("border",t)}`,margin:"5px",backgroundColor:r.get("background",t),width:"95vw",height:"85vh"},text:{textAlign:"center",fontSize:"15px",color:r.get("mainText",t)},subtext:{textAlign:"center",fontSize:"13px",color:r.get("subText",t)},button:{width:"85vw",height:"80px",marginTop:"5px",color:r.get("mainText",t),backgroundColor:r.get("background",t),borderRadius:"30px",marginBottom:"5px",fontSize:"15px"},miniIcon:{fontSize:"22px",marginRight:"12px",marginBottom:"8px",color:r.get("icons",t)}}),R=()=>e.jsx("span",{style:{marginRight:"8px",marginLeft:"8px",marginBottom:"8px",fontSize:"1.2em"},children:"üëë"});function O({langIndex:t,getPremium:g,theme:m}){return e.jsxs("button",{style:{...i(m).button,position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"14px 32px",fontSize:"17px",fontWeight:"700",color:"#ffffff",backgroundColor:"transparent",border:"none",borderRadius:"30px",cursor:"pointer",overflow:"hidden",zIndex:1,boxShadow:"0 6px 20px rgba(21, 79, 236, 0.4)",transition:"transform 0.3s ease, box-shadow 0.3s ease, filter 0.2s ease"},onMouseEnter:c=>{c.currentTarget.style.transform="translateY(-2px)",c.currentTarget.style.boxShadow="0 8px 28px rgba(21, 79, 236, 0.6)",c.currentTarget.style.filter="brightness(1.05)"},onMouseLeave:c=>{c.currentTarget.style.transform="translateY(0)",c.currentTarget.style.boxShadow="0 6px 20px rgba(21, 79, 236, 0.4)",c.currentTarget.style.filter="brightness(1)"},onClick:g,children:[e.jsx("div",{style:{position:"absolute",top:"-50%",left:"-50%",width:"200%",height:"200%",background:"linear-gradient(45deg, #154fec, #4e73f2, #154fec, #6a82fb, #154fec)",backgroundSize:"300% 300%",animation:"premiumGradient 4s ease infinite",zIndex:-1}}),e.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(10, 15, 40, 0.4)",borderRadius:"30px",zIndex:-1}}),e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"6px"},children:[e.jsx(R,{}),t===0?"–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–º–∏—É–º":"Get Premium",e.jsx(R,{})]}),e.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",borderRadius:"26px",boxShadow:"inset 0 0 12px rgba(255, 255, 255, 0.2)",pointerEvents:"none",zIndex:0}}),e.jsx("style",{children:`
        @keyframes premiumGradient {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
        button {
          will-change: transform, filter;
        }
      `})]})}export{q as default};
