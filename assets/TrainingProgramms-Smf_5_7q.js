import{r as o,A as I,t as be,l as Ce,J as Se,f as ve,j as t,C as a,aJ as Ie,aK as J,aL as V,S,i as M,k as v,_ as De,O as ke}from"./index-DrfZRza2.js";import{b as u,c as g}from"./index-cftEzdDa.js";import{c as Le,a as B,d as ze,M as q,e as Pe}from"./TrainingData-DQAxtelB.js";import{M as E,T as Ae,a as Re,b as Te}from"./MyInput-MGxqXzw6.js";const Ye=()=>{const[e,D]=o.useState("dark"),[r,h]=o.useState(I.prefs[0]),[m,j]=o.useState(!1),[c,K]=o.useState(I.prefs[1]),[y,_]=o.useState(-1),[Q,X]=o.useState(-1),[Be,Ee]=o.useState(0),[Z,ee]=o.useState(!1),[w,te]=o.useState(-1),[k,F]=o.useState(-1),[Fe,se]=o.useState(""),[Ne,ne]=o.useState(""),[b,Oe]=o.useState(""),[N,O]=o.useState(3),[C,$]=o.useState(4),[L,z]=o.useState(6),[ie,le]=o.useState(0),[d,oe]=o.useState(1),[P,G]=o.useState(r===0?"Ð”ÐµÐ½ÑŒ 1":"Day 1"),[p,A]=o.useState({1:[{exId:0,sets:"3x10-12"},{exId:5,sets:"3x10-12"},{exId:22,sets:"3x10-12"}]}),[ae,re]=o.useState(["Ð½Ð¾Ð³Ð¸"]),[ce,R]=o.useState(!1),[de,H]=o.useState(!1),[xe,fe]=o.useState(!1),[pe,ue]=o.useState(!1),[ge,W]=o.useState(!1);o.useEffect(()=>{C>L-2&&z(n=>n+1)},[C]),o.useEffect(()=>{const n=be.subscribe(D),i=Ce.subscribe(l=>{h(l==="ru"?0:1)});return()=>{i.unsubscribe(),n.unsubscribe()}},[]),o.useEffect(()=>{const n=Se.subscribe(l=>ee(l==="AddProgrammPanel")),i=ve.subscribe(K);return()=>{n.unsubscribe(),i.unsubscribe()}},[]);function ye(n){Me(null),_(y==n?-1:n),y===-1&&X(-1)}function Y(){j(!1),ke("")}function he(){re(n=>[...n,P.length>2?P:r===0?"Ð”ÐµÐ½ÑŒ "+daysAmount:"Day "+daysAmount]),oe(n=>n+1),G(r===0?"Ð”ÐµÐ½ÑŒ "+daysAmount:"Day "+daysAmount),j(!1),R(!1)}function me(){!d in p&&(p[d]=[]),p[d].push({exId:ie,sets:N+"x"+C+"-"+L}),j(!1),W(!1),H(!1)}function je(){Pe(w),Y()}function T(n,i){switch(n){case 0:A(l=>{if(!l.hasOwnProperty(d))return l;const f=l[d];if(i<0||i>=f.length)return l;const x=[...f.slice(0,i),...f.slice(i+1)];return{...l,[d]:x}});break;case 1:A(l=>{if(!l.hasOwnProperty(d))return l;const f=l[d];if(i<=0||i>=f.length)return l;const x=[...f];return[x[i-1],x[i]]=[x[i],x[i-1]],{...l,[d]:x}});break;case 2:A(l=>{if(!l.hasOwnProperty(d))return l;const f=l[d];if(i<0||i>=f.length-1)return l;const x=[...f];return[x[i],x[i+1]]=[x[i+1],x[i]],{...l,[d]:x}});break}}return t.jsxs("div",{style:s(e).container,children:[Le().map(n=>t.jsxs("div",{style:s(e).panel,children:[t.jsxs("div",{style:s(e,w===n.id,!1).groupPanel,onClick:()=>{te(i=>i===n.id?-1:n.id),F(-1)},children:[w===n.id?t.jsx(u,{style:s(e).icon}):t.jsx(g,{style:s(e).icon}),t.jsx(Ie,{style:{...s(e).icon,marginRight:"5px",marginLeft:"5px",fontSize:"16px"}}),t.jsx("p",{style:s(e,!1,!1,c).text,children:n.name[r]}),t.jsx("p",{style:{...s(e,!1,!1,c).subtext,marginRight:"5px",marginLeft:"auto"},children:n.creationDate})]}),w===n.id&&t.jsxs("div",{style:s(e).panel,children:[t.jsx("div",{style:{...s(e,!1,!1,c).subtext,marginRight:"15px",marginLeft:"15px"},children:n.description[r]}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center"},children:[t.jsx("div",{style:{display:"flex",flexDirection:"column",width:"68vw"},children:Object.keys(n.days).map((i,l)=>t.jsxs("div",{children:[t.jsxs("div",{style:{...s(e,!1,k===l).dayPanel,width:"98%",flexDirection:"row"},onClick:()=>F(f=>f===l?-1:l),children:[k===l?t.jsx(u,{style:{...s(e).icon,marginLeft:"2%",width:"10px",marginTop:"7px"}}):t.jsx(g,{style:{...s(e).icon,marginLeft:"2%",width:"10px",marginTop:"7px"}}),t.jsx(J,{style:{...s(e).icon,marginRight:"5px",marginLeft:"5px",fontSize:"14px"}}),t.jsx("p",{style:s(e,!1,!1,c).text,children:r===0?l+1+"-Ð´ÐµÐ½ÑŒ :   "+n.daysNames[l][0]:l+1+"-day :   "+n.daysNames[l][1]})]}),k===l&&t.jsx("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:n.days[i].map((f,x)=>{const U=B().find(we=>we.id===f.exId);return U?t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"95%",marginLeft:"6px",marginRight:"5%",justifyContent:"flex-start",alignItems:"center"},children:[t.jsx("p",{style:s(e,!1,!1,c).text,children:x+1+"."}),t.jsx(V,{style:{...s(e).icon,marginRight:"5px",marginLeft:"5px",fontSize:"14px"}}),t.jsx("p",{style:s(e,!1,!1,c).text,children:U.name[r]}),t.jsx("p",{style:{...s(e,!1,!1,c).subtext,marginLeft:"auto"},children:f.sets})]},x):null})})]},l))}),t.jsx(ze,{programmId:n.id,theme:e,langIndex:r})]})]})]},n.id)),Z&&t.jsx("div",{style:s(e).addContainer,children:t.jsxs("div",{style:{...s(e).additionalPanel,height:"80%"},children:[t.jsx("p",{style:s(e,!1,!1,c).text,children:r===0?"ÐÐ¾Ð²Ð°Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð°":"New programm"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",backgroundColor:a.get("background",e),height:"82%",width:"100%",alignItems:"center"},children:[t.jsx(E,{maxL:30,w:"80%",h:"8%",theme:e,onChange:n=>se(n),placeHolder:r===0?"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹":"Programm name"}),t.jsx(E,{maxL:100,w:"80%",h:"14%",theme:e,onChange:n=>ne(n),placeHolder:r===0?"ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹":"Programm description"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"95%",height:"75%",justifyContent:"flex-start",alignItems:"center",overflowY:"scroll",marginTop:"5px",backgroundColor:a.get("bottomPanel",e),borderRadius:"12px"},children:[Object.keys(p).length>0?Object.keys(p).map((n,i)=>t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"80%",height:"10%",justifyContent:"flex-start",alignItems:"center",borderBottom:`1px solid ${a.get("border",e)}`},children:[t.jsx("p",{style:s(e,!1,!1,c).text,children:i+1+"-"+(r===0?"Ð´ÐµÐ½ÑŒ":"day")+" : "}),t.jsx(J,{style:{...s(e).icon,fontSize:"16px",marginLeft:"5px",marginBottom:"2px"}}),t.jsx("p",{style:{...s(e,!1,!1,c).text,marginLeft:"5px"},children:ae[i]})]},i)):null,t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"80%",height:"10%",justifyContent:"flex-start",alignItems:"center"},children:[t.jsx(S,{onClick:()=>R(!0),style:{...s(e).icon,fontSize:"24px",marginLeft:"1px"}}),t.jsx("p",{style:{...s(e,!1,!1,c).subtext,marginLeft:"15px"},children:r===0?"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð´ÐµÐ½ÑŒ":"Add day"})]})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"60%",justifyContent:"space-between"},children:[t.jsx(M,{onClick:()=>Y(),style:{...s(e).icon,fontSize:"32px",marginBottom:"8px"}}),t.jsx(v,{onClick:()=>onAdd(),style:{...s(e).icon,fontSize:"32px",marginBottom:"8px"}})]})]})}),ce&&t.jsx("div",{style:s(e).addContainer,children:t.jsxs("div",{style:{...s(e).additionalPanel,height:"70%"},children:[t.jsx("p",{style:s(e,!1,!1,c).text,children:r===0?"Ð”Ð¾Ð±Ð°Ð²ÑŒ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð¾Ñ‡Ð½Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ":"Add training day"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",backgroundColor:a.get("background",e),height:"80%",width:"100%",alignItems:"center"},children:[t.jsx(E,{maxL:30,w:"90%",h:"20%",theme:e,value:P,onChange:n=>G(n),placeHolder:r===0?"Ð”ÐµÐ½ÑŒ":"Day"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"95%",height:"80%",justifyContent:"flex-start",alignItems:"center",overflowY:"scroll",marginTop:"5px",backgroundColor:a.get("bottomPanel",e),borderRadius:"12px"},children:[d in p&&p[d].length>0?p[d].map((n,i)=>t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"90%",height:"10%",justifyContent:"flex-start",alignItems:"center"},children:[t.jsx("p",{style:s(e,!1,!1,c).text,children:(i+1).toString()}),t.jsx(V,{style:{...s(e).icon,fontSize:"16px",marginLeft:"5px",marginBottom:"2px"}}),t.jsx("p",{style:{...s(e,!1,!1,c).text,marginLeft:"5px"},children:B().find(l=>l.id===n.exId)?.name[r]}),t.jsx("p",{style:{...s(e,!1,!1,c).subtext,marginLeft:"auto"},children:n.sets}),m&&i<p[d].length-1&&t.jsx(Ae,{onClick:()=>T(2,i),style:{...s(e).icon,fontSize:"18px",marginLeft:"3px"}}),m&&i>0&&t.jsx(Re,{onClick:()=>T(1,i),style:{...s(e).icon,fontSize:"18px",marginLeft:"3px"}}),m&&t.jsx(De,{onClick:()=>T(0,i),style:{...s(e).icon,fontSize:"16px",marginLeft:"3px"}}),t.jsx(Te,{onClick:()=>j(!m),style:{...s(e).icon,fontSize:"18px",marginLeft:"3px"}})]},i)):null,t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"90%",height:"20%",justifyContent:"flex-start",alignItems:"center"},children:[t.jsx(S,{onClick:()=>H(!0),style:{...s(e).icon,fontSize:"24px",marginLeft:"1px"}}),t.jsx("p",{style:{...s(e).subtext,marginLeft:"15px"},children:r===0?"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑƒÐ¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ðµ":"Add exercise"})]})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"60%",justifyContent:"space-between"},children:[t.jsx(M,{onClick:()=>R(!1),style:{...s(e).icon,fontSize:"32px",marginBottom:"8px"}}),t.jsx(v,{onClick:()=>he(),style:{...s(e).icon,fontSize:"32px",marginBottom:"8px"}})]})]})}),de&&t.jsx("div",{style:s(e).addContainer,children:t.jsx("div",{style:{...s(e).additionalPanel,height:"80%",overflowY:"scroll"},children:Object.keys(q.muscleIconsSrc).map(n=>t.jsxs("div",{style:s(e).panel,children:[t.jsxs("div",{style:s(e,y==n,!1).groupPanel,onClick:()=>ye(i=>i===n?-1:n),children:[y==n?t.jsx(u,{style:s(e).icon}):t.jsx(g,{style:s(e).icon}),q.get(n,r,e)]},n),y==n?t.jsxs("div",{style:s(e).panel,children:[B().filter(i=>i.mgId==n).map(i=>t.jsx("div",{style:s(e).panel,children:t.jsxs("div",{style:{...s(e,!1,Q==i.id).exercisePanel,width:"98%",flexDirection:"row"},children:[t.jsx("p",{style:{...s(e,!1,!1,c).text,marginLeft:"5%"},children:i.name[r]+(i.isCustom?" ðŸ”–":"")}),t.jsx("p",{style:{...s(e,!1,!1,c).subtext,marginLeft:"auto",marginRight:"5%",color:i.isBase?a.get("trainingBaseFont",e):a.get("trainingIsolatedFont",e)},children:i.isBase?r===0?"Ð‘Ð°Ð·Ð¾Ð²Ð¾Ðµ":"Base":r===0?"Ð˜Ð·Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ":"Isolated"}),t.jsx(S,{onClick:()=>{le(i.id),W(!0)},style:{...s(e).icon,marginLeft:"1px",marginRight:"12px"}})]})},i.id)),t.jsx("div",{style:s(e).panel,children:t.jsx("div",{style:{...s(e).exercisePanel,width:"98%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:t.jsx(S,{onClick:()=>ue(!0),style:{...s(e).icon,fontSize:"28px",marginLeft:"1px",marginRight:"6px"}})})})]}):null]},n))})}),ge&&t.jsx("div",{style:s(e).addContainer,children:t.jsxs("div",{style:{position:"fixed",top:"30vh",left:"7.5vw",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"80vw",height:"80vw",marginTop:"5px",borderRadius:"24px",border:`1px solid ${a.get("border",e)}`,backgroundColor:a.get("background",e),zIndex:"7000"},children:[t.jsx("p",{style:{...s(e,!1,!1,c).text,padding:"20px",marginLeft:"10%",marginRight:"5%"},children:r===0?"Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸ÑŽ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ"+b:"Set performing strategy"+b}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",height:"50%",width:"60%",justifyContent:"space-around"},children:[t.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[t.jsx(u,{onClick:()=>O(n=>n+1),style:{...s(e).icon,marginLeft:"1px",fontSize:"24px"}}),t.jsx("div",{style:{...s(e).text,fontSize:"24px"},children:N}),t.jsx(g,{onClick:()=>O(n=>n-1>0?n-1:1),style:{...s(e).icon,marginLeft:"1px",fontSize:"24px"}})]}),t.jsx("p",{style:{...s(e).text,fontSize:"24px",marginTop:"30%"},children:"x"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[t.jsx(u,{onClick:()=>$(n=>n+1),style:{...s(e).icon,marginLeft:"1px",fontSize:"24px"}}),t.jsx("div",{style:{...s(e).text,fontSize:"24px"},children:C}),t.jsx(g,{onClick:()=>$(n=>n-1>0?n-1:1),style:{...s(e).icon,marginLeft:"1px",fontSize:"24px"}})]}),t.jsx("p",{style:{...s(e).text,fontSize:"24px",marginTop:"30%"},children:"-"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[t.jsx(u,{onClick:()=>z(n=>n+1),style:{...s(e).icon,marginLeft:"1px",fontSize:"24px"}}),t.jsx("div",{style:{...s(e).text,fontSize:"24px"},children:L}),t.jsx(g,{onClick:()=>z(n=>n-1>0?n-1:1),style:{...s(e).icon,marginLeft:"1px",fontSize:"24px"}})]})]}),t.jsx("div",{style:{display:"flex",flexDirection:"row",width:"60%",justifyContent:"center"},children:t.jsx(v,{onClick:()=>me(),style:{...s(e).icon,fontSize:"32px",marginBottom:"8px"}})})]})}),pe&&t.jsx("div",{style:{position:"fixed",top:"50vh",left:"7.5vw",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"85vw",height:"40vw",marginTop:"5px",borderRadius:"24px",border:`1px solid ${a.get("border",e)}`,backgroundColor:a.get("background",e),zIndex:"7000"}}),xe&&t.jsxs("div",{style:{position:"fixed",top:"50vh",left:"7.5vw",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"85vw",height:"40vw",marginTop:"5px",borderRadius:"24px",border:`1px solid ${a.get("border",e)}`,backgroundColor:a.get("background",e),zIndex:"7000"},children:[t.jsx("p",{style:{...s(e,!1,!1,c).text,padding:"20px",marginLeft:"10%",marginRight:"5%"},children:r===0?"Ð’Ñ‹ ÑƒÐ²ÐµÑ€ÐµÐ½Ñ‹, Ñ‡Ñ‚Ð¾ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ ÑƒÐ¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ðµ? "+b:"Are you sure you want to delete the exercise?"+b}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"60%",justifyContent:"space-between"},children:[t.jsx(M,{onClick:()=>fe(!1),style:{...s(e).icon,fontSize:"32px",marginBottom:"8px"}}),t.jsx(v,{onClick:()=>je(),style:{...s(e).icon,fontSize:"32px",marginBottom:"8px"}})]})]})]})},s=(e,D,r,h)=>({container:{backgroundColor:a.get("background",e),display:"flex",flexDirection:"column",overflowY:"scroll",justifyContent:"start",alignItems:"center",height:"78vh",paddingTop:"5vh",width:"100vw",fontFamily:"Segoe UI"},groupPanel:{display:"flex",flexDirection:"row",width:"100%",height:"6vh",backgroundColor:D?a.get("trainingGroupSelected",e):a.get("trainingGroup",e),borderTop:`1px solid ${a.get("border",e)}`,alignItems:"center",justifyContent:"left",alignContent:"center"},dayPanel:{display:"flex",flexDirection:"column",width:"100vW",height:"4vh",backgroundColor:r?a.get("trainingGroupSelected",e):a.get("background",e),alignItems:"center",justifyContent:"left"},panel:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center"},text:{textAlign:"left",fontSize:h===0?"13px":"15px",color:a.get("mainText",e),marginBottom:"12px"},subtext:{textAlign:"left",fontSize:h===0?"11px":"13px",color:a.get("subText",e),marginBottom:"12px"},icon:{fontSize:"20px",color:a.get("icons",e),marginLeft:"20px"},addContainer:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"10px"},additionalPanel:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",borderRadius:"24px",border:`1px solid ${a.get("border",e)}`,backgroundColor:a.get("simplePanel",e),boxShadow:`4px 4px 6px ${a.get("shadow",e)}`,width:"100%",height:"100vw"},exercisePanel:{display:"flex",flexDirection:"column",width:"90vW",height:"5vh",backgroundColor:r?a.get("trainingGroupSelected",e):a.get("background",e),alignItems:"center",justifyContent:"left"}});function Me(e){I.prefs[2]==0,I.prefs[3]==0&&Telegram.WebApp.HapticFeedback&&Telegram.WebApp.HapticFeedback.impactOccurred("light")}export{Ye as default};
