import{r as f,j as e,A as O,t as L,l as W,f as V,C as o}from"./index-DyEQeQ_s.js";import{b as N,c as E}from"./index-Ce2qISpC.js";import{c as B}from"./TrainingLogHelper-onCOID53.js";const F=({data:t=[],mark:d="kg",barsColor:s="#676767ff",linesColor:p,choosenColor:r,maxValColor:C,minValColor:g,textColor:y})=>{const[u,c]=f.useState(null),v=new Date,T=[];for(let n=59;n>=0;n--){const j=new Date(v);j.setDate(v.getDate()-n),T.push(j.toISOString().split("T")[0])}const D=new Map;let R=0,S=0;t.forEach(n=>{D.set(n.date,n.value),R+=n.value,S++});const P=t.length>0,$=P?Math.min(...t.map(n=>n.value)):0,k=P?Math.max(...t.map(n=>n.value)):1,_=S>0?R/S:0,w=k*1.1,A=n=>w<=0?85:n/w*85,z=(n,j,I)=>{j!==void 0&&(u&&u.date===n?c(null):c({date:n,value:j,index:I}))};return e.jsxs("div",{style:{width:"100%",height:"30vh",position:"relative",margin:"20px 0",display:"flex",border:`1px solid ${p}`,justifyContent:"center"},children:[e.jsxs("div",{style:{width:"95%",height:"100%",position:"relative"},children:[e.jsx("div",{style:{position:"absolute",left:"0",top:"5%",bottom:"10%",width:"1px",backgroundColor:p}}),e.jsx("div",{style:{position:"absolute",left:"0",right:"0",bottom:"10%",height:"1px",backgroundColor:p}}),e.jsx("div",{style:{position:"absolute",left:"0",top:"5%",width:"100%",height:"85%",overflow:"hidden"},children:P&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{position:"absolute",left:"0",right:"0",top:`${90-A(k)}%`,height:"1px",backgroundColor:C,opacity:.7}}),e.jsx("div",{style:{position:"absolute",left:"0",right:"130%",top:`${90-A(k)}%`,fontSize:"6px",color:C,textAlign:"center"},children:k+d}),S>0&&e.jsx("div",{style:{position:"absolute",left:"0",right:"0",top:`${90-A(_)}%`,height:"1px",backgroundColor:p,opacity:.7}}),e.jsx("div",{style:{position:"absolute",left:"0",right:"130%",top:`${90-A(_)}%`,fontSize:"6px",color:p,textAlign:"center"},children:_.toFixed()+d}),e.jsx("div",{style:{position:"absolute",left:"0",right:"0",top:`${90-A($)}%`,height:"1px",backgroundColor:g,opacity:.7}}),e.jsx("div",{style:{position:"absolute",left:"0",right:"130%",top:`${90-A($)}%`,fontSize:"6px",color:g,textAlign:"center"},children:$+d})]})}),e.jsx("div",{style:{width:"100%",height:"85%",display:"flex",alignItems:"flex-end",position:"absolute",top:"5%",left:0,gap:"2px"},children:T.map((n,j)=>{const I=D.get(n),G=I!==void 0,M=u?.date===n?r:s;return e.jsx("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",cursor:G?"pointer":"default",transition:"transform 0.2s"},onClick:()=>z(n,I,j),children:e.jsx("div",{style:{width:"80%",height:"100%",backgroundColor:G?M:"transparent",borderLeft:"1px solid rgba(76, 69, 69, 0.2)",borderTopLeftRadius:"4px",borderTopRightRadius:"4px",...G&&{background:`linear-gradient(to top, ${M} ${I/w*100}%, transparent ${I/w*100}%)`}}})},n)})}),e.jsxs("div",{style:{width:"130%",display:"flex",justifyContent:"space-between",position:"absolute",bottom:"0",left:-60,right:0,height:"20px"},children:[e.jsx("div",{style:{fontSize:"10px",color:y,textAlign:"center",width:"33%"},children:T[0]}),e.jsx("div",{style:{fontSize:"10px",color:y,textAlign:"center",width:"33%"},children:T[Math.floor(60/2)]}),e.jsx("div",{style:{fontSize:"10px",color:y,textAlign:"center",width:"33%"},children:T[59]})]})]}),u&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:0},onClick:()=>c(null)}),e.jsxs("div",{style:{position:"absolute",top:"10%",left:`${u.index/59*95+5/2}%`,transform:"translateX(-50%)",backgroundColor:"rgba(30, 30, 30, 0.95)",color:y,padding:"8px 12px",borderRadius:"6px",fontSize:"14px",fontWeight:"bold",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",zIndex:1,border:`1px solid ${p}`},children:[e.jsx("div",{children:u.date}),e.jsxs("div",{style:{color:s,fontSize:"16px"},children:[u.value," ",d]})]})]})]})},Y=({maxValue:t=100,averageValue:d=70,minValue:s=40,unit:p="kg",maxColor:r="#e74c3c",minColor:C="#2ecc71",lineColor:g="#3498db",textColor:y="#3498db",size:x=120})=>{const l=x/2,a=7,H=a/2,b=l-a/2,m=b-H-a/2,h=m-H-a/2,u=2*Math.PI*b,c=2*Math.PI*m,v=2*Math.PI*h;return e.jsxs("div",{style:{display:"inline-block"},children:[e.jsxs("svg",{width:x,height:x,viewBox:`0 0 ${x} ${x}`,style:{transform:"rotate(-90deg)"},children:[e.jsx("circle",{cx:l,cy:l,r:b,fill:"none",stroke:g,strokeWidth:a}),e.jsx("circle",{cx:l,cy:l,r:b,fill:"none",stroke:r,strokeWidth:a,strokeDasharray:u,strokeDashoffset:0,strokeLinecap:"round"}),e.jsx("circle",{cx:l,cy:l,r:m,fill:"none",stroke:g,strokeWidth:a}),e.jsx("circle",{cx:l,cy:l,r:m,fill:"none",stroke:g,strokeWidth:a,strokeDasharray:c,strokeDashoffset:c*(1-d/t),strokeLinecap:"round"}),e.jsx("circle",{cx:l,cy:l,r:h,fill:"none",stroke:C,strokeWidth:a}),e.jsx("circle",{cx:l,cy:l,r:h,fill:"none",stroke:g,strokeWidth:a,strokeDasharray:v,strokeDashoffset:v*(1-s/t),strokeLinecap:"round"})]}),e.jsxs("div",{style:{position:"relative",top:`-${x}px`,width:`${x}px`,height:`${x}px`,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:{textColor:y},fontSize:"12px",fontWeight:"bold",lineHeight:1.2},children:[e.jsx("div",{children:"MAX"}),e.jsxs("div",{style:{fontSize:"16px",color:"#e74c3c"},children:[t," ",p]}),e.jsxs("div",{style:{marginTop:"4px",fontSize:"10px"},children:[e.jsxs("span",{style:{color:"#3498db"},children:["Avg: ",d," "]}),e.jsxs("span",{style:{color:"#2ecc71"},children:["Min: ",s]})]})]})]})},Z=()=>{const[t,d]=f.useState("dark"),[s,p]=f.useState(O.prefs[0]),[r,C]=f.useState(O.prefs[4]),[g,y]=f.useState(0),[x,l]=f.useState(0),[a,H]=f.useState("kg"),[b,m]=f.useState("Barbell press"),[h,u]=f.useState([{date:"2025-10-19",value:47},{date:"2025-10-21",value:67},{date:"2025-10-25",value:69},{date:"2025-10-17",value:72},{date:"2025-10-29",value:70},{date:"2025-11-04",value:73},{date:"2025-11-08",value:75},{date:"2025-11-12",value:78},{date:"2025-11-17",value:80},{date:"2025-11-24",value:82},{date:"2025-11-28",value:82},{date:"2025-12-05",value:85},{date:"2025-12-11",value:106}]);return f.useEffect(()=>{const c=L.subscribe(d),v=W.subscribe(D=>{p(D==="ru"?0:1)}),T=V.subscribe(D=>{C(D)});return()=>{c.unsubscribe(),v.unsubscribe(),T.unsubscribe()}},[]),e.jsxs("div",{style:i(t).container,children:[e.jsx("p",{style:{...i(t,r).text,paddingTop:"10px"},children:s===0?"Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ·Ğ° 2 Ğ¼ĞµÑÑÑ†Ğ°":"2 months data"}),e.jsxs("select",{style:i(t,r).select,onChange:c=>y(Number(c.target.value)),children:[e.jsx("option",{value:0,children:s===0?"Ğ£Ğ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ":"Exercises"}),e.jsx("option",{value:1,children:s===0?"Ğ˜Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ñ":"Measurments"})]}),e.jsxs("select",{style:i(t,r).select,onChange:c=>l(Number(c.target.value)),children:[e.jsx("option",{value:0,children:"Weight"}),e.jsx("option",{value:1,children:"Tonnage"})]}),g===0&&e.jsxs("div",{style:i(t).panelRow,children:[e.jsxs("div",{style:{...i(t).panelRow,width:"50%"},children:[e.jsx("div",{style:i(t,r).text,children:s===0?"Ğ’ĞµÑ":"Weight"}),x===0&&e.jsx(N,{onClick:()=>l(1),style:i(t,r).icon}),x===1&&e.jsx(E,{onClick:()=>l(0),style:i(t,r).icon})]}),e.jsxs("div",{style:{...i(t).panelRow,width:"50%"},children:[e.jsx("div",{style:i(t,r).text,children:s===0?"Ğ¢Ğ¾Ğ½Ğ½Ğ°Ğ¶":"Tonnage"}),x===1&&e.jsx(N,{onClick:()=>l(0),style:i(t,r).icon}),x===0&&e.jsx(E,{onClick:()=>l(1),style:i(t,r).icon})]})]}),e.jsx("div",{style:{...i(t,r).text,fontSize:"18px",paddingTop:"20px",borderBottom:`1px solid ${g===0?x===0?o.get("barsColorWeight",t):o.get("barsColorTonnage",t):o.get("barsColorMeasures",t)}`,textAlign:"center",width:"55%"},children:b}),e.jsx("div",{style:i(t).panel,children:e.jsx(F,{data:h,mark:a,barsColor:g===0?x===0?o.get("barsColorWeight",t):o.get("barsColorTonnage",t):o.get("barsColorMeasures",t),linesColor:o.get("linesColor",t),choosenColor:o.get("choosenColor",t),maxValColor:o.get("maxValColor",t),minValColor:o.get("minValColor",t),textColor:o.get("subText",t)})}),g===0&&x===0&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"90%"},children:[e.jsx("div",{style:{...i(t,r).text,color:o.get("maxValColor",t)},children:(s===0?"ğŸ”ºĞœĞ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ²ĞµÑ: ":"ğŸ”ºMax weight: ")+Math.max(...h.map(c=>c.value))+a}),e.jsx("div",{style:{...i(t,r).text,color:o.get("subText",t)},children:(s===0?"â–Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğ¹ Ğ²ĞµÑ: ":"â–Average weight: ")+(h.reduce((c,v)=>c+v.value,0)/h.length).toFixed(0)+a}),e.jsx("div",{style:{...i(t,r).text,color:o.get("minValColor",t)},children:(s===0?"ğŸ”»ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ²ĞµÑ: ":"ğŸ”»Min weight: ")+Math.min(...h.map(c=>c.value))+a}),e.jsx("div",{style:{...i(t,r).text,color:o.get("mainText",t)},children:U(h[0].value,h[h.length-1].value)+(s===0?"ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ: ":"Progress: ")+X(h[0].value,h[h.length-1].value)+a}),e.jsx("div",{style:{...i(t,r).text,color:o.get("mainText",t)},children:(s===0?"1ï¸âƒ£Ğ›ÑƒÑ‡ÑˆĞ¸Ğ¹ Ñ€Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ Ğ¼Ğ°ĞºÑ.: ":"Best one rep max: ")+B(10,84)+a}),e.jsx("div",{style:{...i(t,r).text,color:o.get("mainText",t)},children:(s===0?"1ï¸âƒ£Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ñ€Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ Ğ¼Ğ°ĞºÑ: ":"Current one rep max: ")+B(12,75)+a})]}),e.jsx(Y,{size:270,maxValue:100,averageValue:70,minValue:40,unit:a,lineColor:o.get("linesColor",t),maxColor:o.get("maxValColor",t),minColor:o.get("minValColor",t),textColor:o.get("subText",t)})]})},i=(t,d)=>({container:{backgroundColor:o.get("background",t),display:"flex",flexDirection:"column",overflowY:"scroll",justifyContent:"start",alignItems:"center",height:"78vh",top:"15vh",width:"100vw",fontFamily:"Segoe UI"},panel:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyContent:"start",borderBottom:`1px solid ${o.get("border",t)}`},select:{width:"90%",height:"30px",color:o.get("mainText",t),backgroundColor:o.get("background",t),fontSize:d===0?"13px":"15px",borderTop:"none",borderLeft:"none",borderRight:"none",borderBottom:`1px solid ${o.get("icons",t)}`},panelRow:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginTop:"10px",gap:"10px"},text:{textAlign:"left",fontSize:d===0?"13px":"15px",color:o.get("mainText",t)},subtext:{textAlign:"left",fontSize:d===0?"11px":"13px",color:o.get("subText",t)},icon:{fontSize:"18px",color:o.get("icons",t)}}),X=(t,d)=>{const s=d-t;return(s>0?"+":"-")+s},U=(t,d)=>d-t>0?"â†—ï¸":"â†˜ï¸";export{Z as default};
