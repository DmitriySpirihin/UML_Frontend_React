import{A as M,t as Re,l as Be,f as Me,C as n,j as e,a as ve,m as j,cg as we,bR as Xe,ch as Ze,bw as ie,g as et,z as tt,ci as st,U as nt,p as it,bQ as rt,F as ot,bf as at,cp as lt,cq as ct}from"./index-AEIGkK-V.js";import{r as i}from"./recharts-Bg6K2Pzo.js";import{G as dt}from"./index-BN_cl8FR.js";import{f as C,s as xt}from"./MentalHelper-Cgf8Szy3.js";import{B as pt}from"./BreathAudio-BrJNN4AB.js";const Ce=["â—","â–²","â– ","â—†","â¬Ÿ","âœš","â¬¢","â¬Ÿ","âœ¦","âœ³","â„","â¬Ÿ"];function ut(s,l,o){if(s!==3)return[[],""];const x=Math.max(0,Math.min(l,C.length-1)),t=C[x],h=t.targetSymbol||"â˜…";let r;switch(x){case 0:r=Te(t);break;case 1:r=gt(t);break;case 2:r=mt(t);break;case 3:r=ft(t);break;default:r=Te(t)}const T=r.filter(R=>R===h).length;return[r,T.toString()]}const Te=s=>J(s),gt=s=>J(s),mt=s=>J(s),ft=s=>J(s);function J(s,l){const o=Ie(...s.totalItemsRange);let x=Ie(...s.targetsPerRoundRange);x=Math.min(x,o);const t=s.targetSymbol||"â˜…",h=Array.from({length:o},()=>Ce[Math.floor(Math.random()*Ce.length)]),r=new Set;for(;r.size<x;)r.add(Math.floor(Math.random()*o));return r.forEach(T=>{h[T]=t}),h.sort(()=>Math.random()-.5)}function Ie(s,l){return s==null||l==null||isNaN(s)||isNaN(l)?(console.error("[randomInRange] Invalid range:",{min:s,max:l}),4):Math.floor(Math.random()*(l-s+1))+s}function ht(s,l,o,x,t,h,r){if(s!==3)return 0;const R=[100,200,300,400][l]||100,D=Number(h),v=Number(t),y=v!==0?Math.abs(v-D)/v:1,u=y===0?1:y<.15?.5:0,I=Math.min(1+o*.02,1.3),z=x/1e3,F=C[l]?.timeLimitSec||20,g=z/F,m=u===1?Math.max(1,1.3-(g-1)*.6):1,w=r>=5&&u===1?Math.min(1+.1*Math.min(r/10,4),1.5):1;return Math.round(R*u*I*m*w)}const bt=3e3,yt=({show:s,type:l,difficulty:o,setShow:x})=>{const[t,h]=i.useState("dark"),[r,T]=i.useState(M.prefs[0]),[R,D]=i.useState(M.prefs[4]),[v,y]=i.useState(!1),[u,I]=i.useState(!1),[z,F]=i.useState(!1),[g,m]=i.useState(!1),[w,G]=i.useState(!1),[De,re]=i.useState(0),[B,Pe]=i.useState(null),[A,L]=i.useState(new Set),[oe,N]=i.useState({}),[Ae,We]=i.useState(0),[Tt,ae]=i.useState(!1),[W,le]=i.useState(0),[ce,de]=i.useState(!1),{initAudio:$e,playRight:Ee,playWrong:K}=pt(M.prefs[2]===0),[P,H]=i.useState(0),[U,q]=i.useState(1),[xe,X]=i.useState(0),[pe,O]=i.useState(0),[$,Ve]=i.useState(M.mentalRecords[l]?.[o]||0),[ue,ge]=i.useState(0),[me,fe]=i.useState(0),[b,Z]=i.useState(!1),[E,ee]=i.useState(0),[he,V]=i.useState(""),[be,ye]=i.useState("");i.useEffect(()=>{const a=Re.subscribe(h),c=Be.subscribe(S=>T(S==="ru"?0:1)),p=Me.subscribe(D);return()=>{a.unsubscribe(),c.unsubscribe(),p.unsubscribe()}},[]),i.useEffect(()=>{let a=null;return v&&(a=setInterval(()=>ge(c=>c+100),100)),()=>clearInterval(a)},[v]),i.useEffect(()=>{if(!z)return;const a=Math.ceil(bt/1e3);fe(a);const c=setInterval(()=>{fe(p=>p<=1?(clearInterval(c),Le(),F(!1),0):p-1)},1e3);return()=>clearInterval(c)},[z]),i.useEffect(()=>{if(A.size===0||b)return;const a=setTimeout(()=>{Se()},800);return()=>clearTimeout(a)},[A,b]),i.useEffect(()=>{if(!ce||W<=0){W<=0&&u&&!b&&!g&&Se();return}const a=setTimeout(()=>{le(c=>c-1)},1e3);return()=>clearTimeout(a)},[ce,W,u,b,g]),i.useEffect(()=>{if(!b)return;const a=setTimeout(()=>{const c=P+E;H(c),ee(0),L(new Set),N({}),U>=20?je(c):(q(p=>p+1),te()),Z(!1)},1200);return()=>clearTimeout(a)},[b,P,E,U]);const Ge=i.useCallback(a=>{if(!u||g||b||w)return;const p=B.items[a]===B.targetSymbol;L(S=>{const f=new Set(S);return f.has(a)?f.delete(a):f.add(a),f}),N(S=>({...S,[a]:p?"correct":"wrong"})),p||K()},[B,u,g,b,w,K]),Se=()=>{if(!B||b)return;const{items:a,targetSymbol:c}=B,S=a.map((k,Ke)=>k===c?Ke:-1).filter(k=>k!==-1).length,f=Array.from(A).filter(k=>a[k]===c).length,Oe=Array.from(A).filter(k=>a[k]!==c).length,Qe=f,Y=S,Ye=Date.now()-Ae,_e=ht(l,o,U,Ye,Y,Qe,xe),_=Oe===0&&f===Y;let se="";_?(se=St(r),O(k=>k+1)):se=r===0?`ÐÐ°Ð¹Ð´ÐµÐ½Ð¾: ${f}/${Y}`:`Found: ${f}/${Y}`;const Je=_?n.get("maxValColor",t):n.get("minValColor",t);ye(Je),V(se),ee(_e),X(k=>_?k+1:0),_?Ee():K(),Z(!0),ae(!1),de(!1)},Le=()=>{$e(),H(0),q(1),O(0),X(0),V(""),I(!0),y(!0),G(!1),ge(0),re(Date.now()),te()},te=a=>{const c=C[o],[p,S]=ut(l,o),f=c.roundTimeSec||10;if(le(f),de(!0),!p||p.length===0){V(r===0?"ÐžÑˆÐ¸Ð±ÐºÐ°":"Error"),ye(n.get("minValColor",t)),Z(!0);return}Pe({items:p,targetSymbol:c.targetSymbol||"â˜…"}),L(new Set),N({}),We(Date.now()),ae(!0)},Ne=()=>{H(0),q(1),O(0),X(0),V(""),L(new Set),N({}),re(Date.now()),u&&te()},je=a=>{He(a);const c=a>$,p=vt(!1,r,a,pe,20,c);y(!1),V(p),m(!0),I(!1)},He=a=>{a>$&&(Ve(a),M.mentalRecords[l][o]=a);const c=Date.now(),p=Math.round((c-De)/1e3);xt(p,a>$,l,o,a),H(0),ee(0),q(1),O(0)},Ue={hidden:{y:"100%"},visible:{y:0,transition:{type:"spring",damping:25,stiffness:200}},exit:{y:"100%"}},Q={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3}},exit:{opacity:0,scale:.95,transition:{duration:.2}}},qe=()=>!B||!B.items?null:e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"10px",width:"100%",maxWidth:"300px"},children:B.items.map((a,c)=>{let p=n.get("bottomPanel",t),S=n.get("border",t),f=n.get("mainText",t);return oe[c]==="correct"?(p=n.get("maxValColor",t)+"30",S=n.get("maxValColor",t),f=n.get("maxValColor",t)):oe[c]==="wrong"?(p=n.get("minValColor",t)+"30",S=n.get("minValColor",t),f=n.get("minValColor",t)):A.has(c)&&(S=n.get("mainText",t),p=n.get("mainText",t)+"20"),e.jsx(j.div,{whileTap:{scale:.9},onClick:()=>Ge(c),style:{aspectRatio:"1/1",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",fontWeight:"bold",color:f,backgroundColor:p,border:`2px solid ${S}`,borderRadius:"12px",cursor:u&&!b&&!w?"pointer":"default",userSelect:"none"},children:a},c)})});return e.jsx(ve,{children:s&&e.jsx(j.div,{variants:Ue,initial:"hidden",animate:"visible",exit:"exit",style:d(t).container,children:e.jsxs(ve,{mode:"wait",children:[!u&&!z&&!g&&e.jsxs(j.div,{variants:Q,initial:"hidden",animate:"visible",exit:"exit",style:d(t).contentWrapper,children:[e.jsxs("div",{style:d(t).header,children:[e.jsx(we,{onClick:()=>{x(!1),m(!1)},style:d(t).iconButton}),e.jsx("h2",{style:d(t,R).title,children:C[o].level[r]}),e.jsx("div",{style:{width:40}})]}),e.jsxs("div",{style:d(t).card,children:[e.jsx("div",{style:{...d(t).title,textAlign:"center",fontSize:"16px",marginBottom:10},children:C[o].title[r]}),e.jsx("p",{style:d(t).description,children:C[o].description[r]}),e.jsxs("div",{style:d(t).statsGrid,children:[e.jsx(ke,{theme:t,label:r===0?"Ð­Ð»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð²":"Items",value:`${C[o].totalItemsRange[0]}â€“${C[o].totalItemsRange[1]}`}),e.jsx(ke,{theme:t,label:r===0?"Ð’Ñ€ÐµÐ¼Ñ":"Time",value:`${C[o].timeLimitSec}s`})]}),e.jsx("p",{style:d(t).disclaimer,children:jt(r)})]}),e.jsx("div",{style:d(t).playButtonContainer,children:e.jsxs(j.button,{whileTap:{scale:.9},onClick:()=>F(!0),style:d(t).playButton,children:[e.jsx(Xe,{style:{marginRight:10}})," ",r===0?"ÐÐ°Ñ‡Ð°Ñ‚ÑŒ":"Start"]})})]},"start-screen"),!g&&z&&e.jsxs(j.div,{variants:Q,initial:"hidden",animate:"visible",exit:"exit",style:d(t).centeredFull,children:[e.jsx(j.div,{initial:{scale:.5,opacity:0},animate:{scale:1.5,opacity:1},exit:{scale:2,opacity:0},style:{fontSize:"8rem",fontWeight:"bold",color:n.get("icons",t)},children:me},me),e.jsx("p",{style:{color:n.get("subText",t),marginTop:20,fontSize:"1.5rem"},children:r===0?"ÐŸÑ€Ð¸Ð³Ð¾Ñ‚Ð¾Ð²ÑŒÑ‚ÐµÑÑŒ!":"Get ready!"})]},"countdown"),!g&&u&&e.jsxs(j.div,{variants:Q,initial:"hidden",animate:"visible",exit:"exit",style:d(t).gameContainer,children:[e.jsxs("div",{style:d(t).gameHeader,children:[e.jsx(we,{onClick:()=>je(P+E),style:d(t).iconButtonSmall}),e.jsxs("div",{style:d(t).gameStat,children:[e.jsx(Ze,{style:{marginRight:6}})," ",ze(ue)]}),e.jsxs("div",{style:{...d(t).gameStat,color:n.get("maxValColor",t)},children:[e.jsx(ie,{style:{marginRight:6}})," ",P]})]}),e.jsxs("div",{style:d(t).subStatsBar,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,color:n.get("minValColor",t)},children:[e.jsx(et,{})," ",xe]}),e.jsx("div",{style:{color:n.get("difficulty",t),fontWeight:"bold"},children:`${U} / 20`})]}),e.jsx("div",{style:d(t).timerWrapper,children:e.jsxs("svg",{viewBox:"0 0 28 28",style:{width:"100%",height:"100%"},children:[e.jsx("circle",{cx:"14",cy:"14",r:"12",fill:n.get("background",t),stroke:n.get("border",t),strokeWidth:"1"}),e.jsx("text",{x:"14",y:"18",textAnchor:"middle",fill:W<=3?n.get("minValColor",t):n.get("mainText",t),fontSize:"10",fontWeight:"bold",children:W})]})}),e.jsx(j.div,{style:{...d(t).problemCard,backgroundColor:b?be||n.get("simplePanel",t):n.get("simplePanel",t),borderColor:b?be:"transparent"},animate:b?{scale:[1,1.05,1]}:{scale:1},children:b?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#fff"},children:E>0?`+${E}`:r===0?"ÐžÑˆÐ¸Ð±ÐºÐ°":"Mistake"}),e.jsx("div",{style:{fontSize:"16px",color:"rgba(255,255,255,0.9)",marginTop:5},children:he})]}):e.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("div",{style:{fontSize:"14px",marginBottom:"16px",color:n.get("subText",t),textAlign:"center",opacity:.8},children:C[o].rules?.[r]||(r===0?"ÐÐ°Ð¶Ð¼Ð¸ Ð½Ð° Ð²ÑÐµ â˜…":"Click all â˜…")}),qe()]})})]},"game-screen"),g&&e.jsxs(j.div,{variants:Q,initial:"hidden",animate:"visible",exit:"exit",style:d(t).contentWrapper,children:[e.jsxs("div",{style:d(t).header,children:[e.jsx("div",{}),e.jsx("h2",{style:d(t,R).title,children:r===0?"Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚":"Result"}),e.jsx("div",{})]}),e.jsxs("div",{style:{...d(t).card,alignItems:"center",gap:20,paddingTop:30},children:[e.jsx(ie,{size:60,color:n.get("maxValColor",t)}),e.jsx("div",{style:{fontSize:"48px",fontWeight:"bold",color:n.get("mainText",t)},children:P}),e.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",gap:10},children:[e.jsx(ne,{theme:t,label:r===0?"Ð’Ñ€ÐµÐ¼Ñ":"Time",value:ze(ue)}),e.jsx(ne,{theme:t,label:r===0?"ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾":"Correct",value:`${pe} / 20`}),P>$?e.jsxs("div",{style:d(t).recordBox,children:[e.jsx(tt,{color:"#FFD700"})," ",r===0?"ÐÐ¾Ð²Ñ‹Ð¹ Ñ€ÐµÐºÐ¾Ñ€Ð´!":"New Record!"]}):e.jsx(ne,{theme:t,label:r===0?"Ð›ÑƒÑ‡ÑˆÐ¸Ð¹":"Best",value:$})]}),e.jsx("p",{style:{textAlign:"center",fontSize:"14px",color:n.get("subText",t),marginTop:10},children:he})]}),e.jsx("img",{src:"images/Congrat.png",style:{position:"absolute",top:"595px",left:"36%",width:"120px",zIndex:10,filter:"drop-shadow(0 5px 5px rgba(0,0,0,0.3))"},alt:"Mascot"}),e.jsxs("div",{style:d(t).controlsRow,children:[e.jsx(j.button,{whileTap:{scale:.9},onClick:Ne,style:d(t).secondaryButton,children:e.jsx(st,{size:20})}),e.jsx(j.button,{whileTap:{scale:.9},onClick:()=>{x(!1),m(!1)},style:d(t).primaryButton,children:r===0?"Ð—Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ÑŒ":"Finish"})]})]},"result-screen")]})},"modal-container")})},ke=({theme:s,label:l,value:o})=>e.jsxs("div",{style:{backgroundColor:n.get("background",s),padding:"10px",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"12px",color:n.get("subText",s)},children:l}),e.jsx("span",{style:{fontSize:"16px",fontWeight:"bold",color:n.get("mainText",s)},children:o})]}),ne=({theme:s,label:l,value:o})=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",padding:"5px 0",borderBottom:`1px solid ${n.get("border",s)}30`},children:[e.jsx("span",{style:{color:n.get("subText",s)},children:l}),e.jsx("span",{style:{color:n.get("mainText",s),fontWeight:"bold"},children:o})]});function St(s){const x=s===0?["ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾!","Ð˜Ð´ÐµÐ°Ð»ÑŒÐ½Ð¾!","Ð¢Ð¾Ñ‡Ð½Ð¾!","Ð’ÐµÑ€Ð½Ð¾!","Ð¡ÑƒÐ¿ÐµÑ€!"]:["Great!","Perfect!","Sharp!","Focused!","Exact!"];return x[Math.floor(Math.random()*x.length)]}function ze(s){const l=Math.floor(s/1e3),o=Math.floor(l/60),x=l%60;return`${String(o).padStart(2,"0")}:${String(x).padStart(2,"0")}`}const jt=s=>s===0?"Ð‘Ñ‹ÑÑ‚Ñ€Ð¾ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚Ðµ Ñ†ÐµÐ»ÐµÐ²Ñ‹Ðµ ÑÐ¸Ð¼Ð²Ð¾Ð»Ñ‹ ÑÑ€ÐµÐ´Ð¸ Ð¾Ñ‚Ð²Ð»ÐµÐºÐ°ÑŽÑ‰Ð¸Ñ…. ÐžÑˆÐ¸Ð±ÐºÐ¸ ÑÐ±Ñ€Ð°ÑÑ‹Ð²Ð°ÑŽÑ‚ ÑÐµÑ€Ð¸ÑŽ.":"Quickly find the target symbols among distractors. Mistakes break your streak.",vt=(s,l,o,x,t,h)=>h?l===0?`ÐÐ¾Ð²Ñ‹Ð¹ Ñ€ÐµÐºÐ¾Ñ€Ð´: ${o}!`:`New Record: ${o}!`:x>=18?l===0?"ÐžÑ€Ð»Ð¸Ð½Ñ‹Ð¹ Ð³Ð»Ð°Ð·!":"Eagle Eye!":l===0?"Ð¥Ð¾Ñ€Ð¾ÑˆÐ°Ñ ÐºÐ¾Ð½Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ñ†Ð¸Ñ!":"Good focus!",d=(s,l=14)=>({container:{backgroundColor:n.get("background",s),position:"fixed",top:0,left:0,height:"100vh",width:"100vw",zIndex:2e3,display:"flex",flexDirection:"column",fontFamily:"Segoe UI"},contentWrapper:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",width:"100%",boxSizing:"border-box"},centeredFull:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},header:{width:"90%",marginTop:"65px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},title:{fontSize:"20px",fontWeight:"bold",color:n.get("mainText",s),margin:0},card:{width:"100%",maxWidth:"400px",backgroundColor:n.get("simplePanel",s)+"80",backdropFilter:"blur(10px)",borderRadius:"24px",padding:"20px",boxSizing:"border-box",display:"flex",flexDirection:"column",border:`1px solid ${n.get("border",s)}40`},description:{fontSize:"15px",color:n.get("subText",s),textAlign:"center",marginBottom:"20px",lineHeight:1.4},statsGrid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",width:"100%",marginBottom:"20px"},disclaimer:{fontSize:"12px",color:n.get("subText",s),textAlign:"center",opacity:.7,marginTop:10},iconButton:{fontSize:"32px",color:n.get("skipped",s),cursor:"pointer"},iconButtonSmall:{fontSize:"28px",color:n.get("skipped",s),cursor:"pointer"},playButtonContainer:{marginTop:"auto",width:"100%",display:"flex",justifyContent:"center",paddingBottom:"40px"},playButton:{backgroundColor:n.get("barsColorMeasures",s),color:"#fff",border:"none",borderRadius:"16px",padding:"16px 40px",fontSize:"18px",fontWeight:"bold",display:"flex",alignItems:"center",cursor:"pointer",boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},gameContainer:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},gameHeader:{width:"90%",display:"flex",marginTop:"75px",justifyContent:"space-between",alignItems:"center",padding:"15px 0"},gameStat:{display:"flex",alignItems:"center",fontSize:"18px",fontWeight:"bold",color:n.get("mainText",s)},subStatsBar:{width:"90%",display:"flex",justifyContent:"space-between",marginBottom:"10px"},timerWrapper:{width:"48px",height:"48px",marginBottom:"10px"},problemCard:{width:"90%",maxWidth:"350px",minHeight:"300px",borderRadius:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",marginBottom:"20px",border:"2px solid transparent",padding:"20px",boxSizing:"border-box"},recordBox:{backgroundColor:"rgba(255, 215, 0, 0.15)",color:"#FFD700",padding:"10px",borderRadius:"12px",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontWeight:"bold",fontSize:"14px"},controlsRow:{display:"flex",gap:"20px",marginTop:"auto",marginBottom:"40px"},primaryButton:{backgroundColor:n.get("difficulty5",s),color:n.get("mainText",s),border:"none",borderRadius:"16px",padding:"14px 30px",fontSize:"16px",fontWeight:"bold",cursor:"pointer"},secondaryButton:{backgroundColor:n.get("background",s),color:n.get("subText",s),border:`1px solid ${n.get("border",s)}`,borderRadius:"16px",padding:"14px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"}}),Bt=()=>{const[s,l]=i.useState("dark"),[o,x]=i.useState(M.prefs[0]),[t,h]=i.useState(M.prefs[4]),[r,T]=i.useState(!1),[R,D]=i.useState(0),[v,y]=i.useState(nt.hasPremium);i.useEffect(()=>{const g=it.subscribe(y);return()=>g.unsubscribe()},[]),i.useEffect(()=>{const g=Re.subscribe(l),m=Be.subscribe(G=>x(G==="ru"?0:1)),w=Me.subscribe(h);return()=>{g.unsubscribe(),m.unsubscribe(),w.unsubscribe()}},[]);const u=g=>M.mentalRecords?.[3]?.[g]||0,I={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},z={hidden:{opacity:0,y:10,scale:.98},show:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:300,damping:25}}},F={emoji:"ðŸŽ¯",ru:"Ð’Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ",en:"Focus"};return e.jsxs("div",{style:Fe(s).container,children:[e.jsxs("div",{style:Fe(s).scrollView,children:[e.jsx("div",{style:{height:"3vh"}}),e.jsxs("div",{style:{width:"92%",marginBottom:"20px",display:"flex",flexDirection:"column",gap:"5px",marginTop:"20px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{style:{fontSize:"28px"},children:F.emoji}),e.jsx("h1",{style:{margin:0,color:n.get("mainText",s),fontSize:"26px",fontFamily:"Segoe UI",fontWeight:"800"},children:o===0?F.ru:F.en})]}),e.jsx("span",{style:{fontSize:"14px",color:n.get("subText",s),opacity:.7,marginLeft:"4px"},children:o===0?"ÐšÐ¾Ð½Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ñ†Ð¸Ñ Ð¸ Ñ€ÐµÐ°ÐºÑ†Ð¸Ñ":"Concentration and reaction"})]}),e.jsx(j.div,{variants:I,initial:"hidden",animate:"show",style:{width:"94%",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",paddingBottom:"30px"},children:C.map((g,m)=>{const w=m>1&&!v;return e.jsx("div",{style:{},children:e.jsx(Ct,{variants:z,index:m,difficulty:m,protocol:g,theme:s,lang:o,fSize:t,needBlur:w,hasPremium:v,record:u(m),isFullWidth:!1,onClick:()=>{w||(D(m),T(!0))}})},m)})}),e.jsx("div",{style:{height:"10vh",width:"100%"}})," "]}),r&&e.jsx(yt,{type:3,difficulty:R,show:r,setShow:T})]})},wt=s=>{switch(s){case 0:return{accent:"#4DFF88",bgGlow:"radial-gradient(circle at 100% 0%, rgba(77, 255, 136, 0.15) 0%, transparent 50%)",icon:e.jsx(ct,{})};case 1:return{accent:"#00E5FF",bgGlow:"radial-gradient(circle at 100% 0%, rgba(0, 229, 255, 0.15) 0%, transparent 50%)",icon:e.jsx(lt,{})};case 2:return{accent:"#A64DFF",bgGlow:"radial-gradient(circle at 100% 0%, rgba(166, 77, 255, 0.15) 0%, transparent 50%)",icon:e.jsx(at,{})};case 3:return{accent:"#FFD700",bgGlow:"radial-gradient(circle at 100% 0%, rgba(255, 215, 0, 0.15) 0%, transparent 50%)",icon:e.jsx(dt,{})};default:return{accent:"#FF4D4D",bgGlow:"none",icon:e.jsx(ie,{})}}};function Ct({protocol:s,difficulty:l,onClick:o,theme:x,lang:t,fSize:h,variants:r,needBlur:T,hasPremium:R,record:D,isFullWidth:v}){const y=x==="dark",u=T,{accent:I,bgGlow:z,icon:F}=wt(l),g={position:"relative",width:"100%",height:v?"120px":"185px",display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"22px",overflow:"hidden",cursor:u?"default":"pointer",backgroundColor:n.get("simplePanel",x),boxShadow:y?"0 4px 20px rgba(0,0,0,0.3)":"0 4px 15px rgba(0,0,0,0.05)",border:y?"1px solid rgba(255,255,255,0.05)":"1px solid rgba(0,0,0,0.02)",padding:"16px",boxSizing:"border-box"},m={width:"36px",height:"36px",borderRadius:"12px",backgroundColor:y?"rgba(255,255,255,0.08)":"rgba(0,0,0,0.04)",display:"flex",alignItems:"center",justifyContent:"center",color:I,fontSize:"16px"};return e.jsxs(j.div,{variants:r,whileTap:u?{}:{scale:.96},whileHover:u?{}:{y:-2},onClick:o,style:g,children:[e.jsx("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0,background:z,pointerEvents:"none"}}),u&&e.jsxs("div",{onClick:w=>{w.stopPropagation()},style:{position:"absolute",inset:0,zIndex:10,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:y?"rgba(0,0,0,0.5)":"rgba(255,255,255,0.6)",backdropFilter:"blur(8px)"},children:[e.jsx(rt,{size:18,color:I,style:{marginBottom:"8px"}}),e.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:n.get("mainText",x),marginBottom:"8px"},children:"PREMIUM"})]}),e.jsxs("div",{style:{zIndex:2},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[e.jsx("div",{style:m,children:F}),e.jsx("div",{style:{fontSize:"10px",fontWeight:"700",color:I,textTransform:"uppercase",letterSpacing:"0.5px",marginTop:"4px"},children:s.level[t]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px"},children:[e.jsx("div",{style:{fontSize:v?"17px":h===0?"16px":"18px",fontWeight:"700",color:n.get("mainText",x),lineHeight:"1.2"},children:s.title[t]}),e.jsx("div",{style:{fontSize:"12px",color:n.get("subText",x),opacity:.8,lineHeight:"1.3"},children:s.difficulty?s.difficulty[t]:t===0?"Ð‘Ñ‹ÑÑ‚Ñ€Ð°Ñ Ñ€ÐµÐ°ÐºÑ†Ð¸Ñ":"Quick reaction"})]})]}),!u&&e.jsxs("div",{style:{zIndex:2,marginTop:"auto",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",background:y?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.03)",padding:"4px 10px",borderRadius:"8px"},children:[e.jsx(ot,{size:10,color:I}),e.jsx("span",{style:{fontSize:"12px",fontWeight:"bold",color:n.get("mainText",x),opacity:.9},children:D})]}),e.jsx("span",{style:{fontSize:"10px",color:n.get("subText",x),opacity:.5},children:t===0?"Ñ€ÐµÐºÐ¾Ñ€Ð´":"best"})]})]})}const Fe=s=>({container:{backgroundColor:n.get("background",s),display:"flex",flexDirection:"column",justifyItems:"center",alignItems:"center",height:"90vh",marginTop:"110px",width:"100vw",fontFamily:"Segoe UI, sans-serif",overflow:"hidden"},scrollView:{height:"100%",width:"100%",overflowY:"scroll",display:"flex",flexDirection:"column",alignItems:"center"}});export{Bt as default};
