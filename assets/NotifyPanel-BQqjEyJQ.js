import{r as d,A as f,by as U,t as L,l as F,bz as O,j as t,C as o,E as Y,H as q,I as G,bA as J,O as b,a as K,U as T,N as k}from"./index-B07mEY-M.js";import{a as Q}from"./index--H8OXwmN.js";const V=new Audio("Audio/Click.wav"),oe=()=>{const[e,s]=d.useState("dark"),[n,u]=d.useState(f.prefs[0]),[r,a]=d.useState(12),[c,h]=d.useState(0),[g,w]=d.useState("Habit"),[v,y]=d.useState(f.notify),[x,R]=d.useState([!0,!0,!0,!0,!0,!1,!1]),[D,N]=d.useState("10 12 * * 1,2,3,4,5"),[S,z]=d.useState(!1),C=[["Ð¿Ð½","Ð²Ñ‚","ÑÑ€","Ñ‡Ñ‚","Ð¿Ñ‚","ÑÐ±","Ð²Ñ"],["mon","tue","wed","thu","fri","sat","sun"]],$=Array.from({length:24},(i,p)=>p),B=Array.from({length:60},(i,p)=>p),A=(i,p)=>{i.current&&(i.current.scrollTop=p*70,N(Z(x,r,c)),te(V,0))},M=d.useRef(null),H=d.useRef(null);d.useEffect(()=>{A(M,r),A(H,c)},[r,c]),d.useEffect(()=>{const i=U.subscribe(w);return()=>i.unsubscribe()},[]),d.useEffect(()=>{const i=L.subscribe(s);return()=>i.unsubscribe()},[]),d.useEffect(()=>{const i=F.subscribe(p=>u(p==="ru"?0:1));return()=>i.unsubscribe()},[]),d.useEffect(()=>{const i=O.subscribe(y);return()=>i.unsubscribe()},[]);const j=i=>{let p=0;for(let m=0;m<x.length;m++)x[m]||p++;p==6&&x[i]||R(m=>[...m.slice(0,i),!m[i],...m.slice(i+1)])},P=()=>{g.startsWith("H")&&E(n,D,r,c),g.startsWith("T")&&I(n,D,r,c)},W=()=>{q(""),G(0),J(!1)};return d.useEffect(()=>{_(g,N,a,h,R,z)},[]),t.jsx("div",{style:l(e).container,children:t.jsxs("div",{style:l(e).panel,children:[t.jsx("p",{style:l(e).subText,children:X(n)}),t.jsxs("div",{style:l(e).timeContainer,children:[t.jsxs("div",{style:l(e).time,ref:M,onScroll:i=>{const p=Math.round(i.target.scrollTop/70);p!=r&&a(p)},children:[" ",$.map(i=>t.jsx("div",{style:{height:"70",lineHeight:"70px",fontSize:"28px",scrollSnapAlign:"start",color:o.get("mainText",e)},children:i.toString()},i))]}),t.jsxs("div",{style:{...l(e).time,borderLeft:`2px solid ${o.get("border",e)}`},ref:H,onScroll:i=>{const p=Math.round(i.target.scrollTop/70);p!=c&&h(p)},children:[" ",B.map(i=>t.jsx("div",{style:{height:"70",lineHeight:"70px",fontSize:"28px",scrollSnapAlign:"start",color:o.get("mainText",e)},children:i.toString().padStart(2,"0")},i))]})]}),t.jsxs("div",{style:l(e).daysContainer,children:[t.jsx("div",{style:{backgroundColor:x[0]?o.get("iconsDisabled",e):"transparent",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"21px",width:"42px",height:"42px"},children:t.jsx("p",{style:{...l(e).text,fontSize:"18px"},onClick:()=>j(0),children:C[n][0]})}),t.jsx("div",{style:{backgroundColor:x[1]?o.get("iconsDisabled",e):"transparent",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"21px",width:"42px",height:"42px"},children:t.jsx("p",{style:{...l(e).text,fontSize:"18px"},onClick:()=>j(1),children:C[n][1]})}),t.jsx("div",{style:{backgroundColor:x[2]?o.get("iconsDisabled",e):"transparent",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"21px",width:"42px",height:"42px"},children:t.jsx("p",{style:{...l(e).text,fontSize:"18px"},onClick:()=>j(2),children:C[n][2]})}),t.jsx("div",{style:{backgroundColor:x[3]?o.get("iconsDisabled",e):"transparent",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"21px",width:"42px",height:"42px"},children:t.jsx("p",{style:{...l(e).text,fontSize:"18px"},onClick:()=>j(3),children:C[n][3]})}),t.jsx("div",{style:{backgroundColor:x[4]?o.get("iconsDisabled",e):"transparent",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"21px",width:"42px",height:"42px"},children:t.jsx("p",{style:{...l(e).text,fontSize:"18px"},onClick:()=>j(4),children:C[n][4]})}),t.jsx("div",{style:{backgroundColor:x[5]?o.get("iconsDisabled",e):"transparent",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"21px",width:"42px",height:"42px"},children:t.jsx("p",{style:{...l(e).text,fontSize:"18px"},onClick:()=>j(5),children:C[n][5]})}),t.jsx("div",{style:{backgroundColor:x[6]?o.get("iconsDisabled",e):"transparent",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"21px",width:"42px",height:"42px"},children:t.jsx("p",{style:{...l(e).text,fontSize:"18px"},onClick:()=>j(6),children:C[n][6]})})]}),t.jsxs("div",{style:{display:"flex",width:"90%",flexDirection:"row",alignItems:"space-between",justifyContent:"center"},children:[t.jsx(Y,{onClick:()=>{W()},style:{fontSize:"28px",width:"30%",color:o.get("icons",e)}}),t.jsx(Q,{onClick:()=>{P()},style:{fontSize:"28px",width:"30%",color:o.get("icons",e),paddingRight:"18px"}}),t.jsxs("label",{style:{...l(e).switch},children:[t.jsx("input",{type:"checkbox",style:l(e).input,checked:S,onChange:()=>{z(!S),ee(g,!S)}}),t.jsx("span",{style:l(e,S).slider}),t.jsx("span",{style:l(e,S).sliderBefore})]})]})]})})},l=(e,s=!1)=>({container:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},panel:{display:"flex",flexDirection:"column",marginTop:"30vh",alignItems:"center",justifyContent:"space-around",borderRadius:"24px",border:`1px solid ${o.get("border",e)}`,backgroundColor:o.get("background",e),boxShadow:`4px 4px 6px ${o.get("shadow",e)}`,width:"90vw",height:"45vh"},text:{marginTop:"12px",textAlign:"center",fontSize:"12px",color:o.get("mainText",e),marginBottom:"12px"},subText:{margin:"5px",marginTop:"12px",textAlign:"center",fontSize:"12px",color:o.get("subText",e)},daysContainer:{backgroundColor:"rgba(0,0,0,0.5)",padding:"5px",marginTop:"10%",borderRadius:"24px",display:"flex",flexDirection:"row",width:"95%",height:"15%",margin:"5px",alignItems:"center",justifyContent:"space-between"},timeContainer:{padding:"5px",borderBottom:"2px solid "+o.get("border",e),borderTop:"2px solid "+o.get("border",e),marginTop:"10%",display:"flex",flexDirection:"row",width:"55%",height:"25%",margin:"5px",alignItems:"center",justifyContent:"space-around"},time:{display:"flex",flexDirection:"column",overflowY:"scroll",textAlign:"center",scrollBehavior:"auto",scrollbarWidth:"none",scrollSnapType:"y mandatory",width:"50%",height:"70%"},switch:{marginTop:"4px",position:"relative",display:"inline-block",width:"60px",height:"24px"},input:{opacity:0,width:"0",height:"0"},slider:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:s?o.get("habitCardDone",e):o.get("habitCardSkipped",e),transition:"0.4s",borderRadius:"24px"},sliderBefore:{position:"absolute",content:'""',height:"20px",width:"20px",left:s?"38px":"2px",bottom:"2px",backgroundColor:o.get("mainText",e),transition:"0.4s",borderRadius:"50%"}});function X(e){return e===0?"Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð¸ Ð´Ð½Ð¸ Ð½ÐµÐ´ÐµÐ»Ð¸, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð±Ð¾Ñ‚ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐ» Ð²Ð°Ð¼ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ":"Set a time and days of week to bot send notification to you"}function Z(e,s,n){let u=`${n>0?n:"*"} ${s>0?s:"*"} * *`;if(e.every(r=>r===!0))u+=" *";else{const r=[];for(let a=0;a<e.length;a++)e[a]&&r.push(a+1);u+=" "+r.join(",")}return u}function _(e,s,n,u,r,a){let c="";e.startsWith("H")&&(a(f.notify[0].enabled),c=f.notify[0].cron),e.startsWith("T")&&(a(f.notify[1].enabled),c=f.notify[1].cron),s(c);const h=c.split(" ");n(h[1]!=="*"?parseInt(h[1]):0),u(h[0]!=="*"?parseInt(h[0]):0);const g=[!0,!0,!0,!0,!0,!0,!0];if(h[4]==="*")r(g);else{const w=h[4].split(",").map(Number).filter(y=>y>=1&&y<=7),v=Array(7).fill(!1);w.forEach(y=>{y>=1&&y<=7&&(v[y-1]=!0)}),r(v)}}const E=(e,s,n,u)=>{const r=[["Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ð²Ð°ÑˆÐ¸Ñ… Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐµÐº,","Time for your habits,"],["Ð¿Ð¾Ñ€Ð° Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ð²Ð°ÑˆÑƒ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÑƒ,","Time to complete your habit,"],["Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ðµ Ð¾ Ð²Ð°ÑˆÐ¸Ñ… Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ°Ñ…,","Reminder about your habits,"],["Ð²Ñ€ÐµÐ¼Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ¸,","Time to check your habits,"],["Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ ÐµÐ¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾Ð³Ð¾ Ñ€Ð¸Ñ‚ÑƒÐ°Ð»Ð°,","Time for your daily ritual,"],["Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ ÑÐ°Ð¼Ð¾ÑÐ¾Ð²ÐµÑ€ÑˆÐµÐ½ÑÑ‚Ð²Ð¾Ð²Ð°Ð½Ð¸Ñ,","Time for self-improvement,"],["Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ð¿Ð¾Ð»ÐµÐ·Ð½Ð¾Ð³Ð¾ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ,","Time for a beneficial action,"],["Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ð²Ð°ÑˆÐµÐ³Ð¾ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑÐ°,","Time for your progress,"],["Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ð»Ð¸Ñ‡Ð½Ð¾Ð³Ð¾ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ñ,","Time for personal growth,"],["Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ð¿Ð¾Ð»ÐµÐ·Ð½Ð¾Ð¹ Ñ€ÑƒÑ‚Ð¸Ð½Ñ‹,","Time for a beneficial routine,"],["Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð½Ð°Ð´ ÑÐ¾Ð±Ð¾Ð¹,","Time to work on yourself,"],["Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ð¿Ð¾Ð»ÐµÐ·Ð½Ð¾Ð¹ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ¸,","Time for a good habit,"],["Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ ÑÐ°Ð¼Ð¾Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹,","Time for self-discipline,"]];if(!f.notify[0].enabled){b(e===0?"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‹ ,ÑÐ½Ð°Ñ‡Ð°Ð»Ð° Ð²ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Ð¸Ñ…":"Notifications disabled, first enable them",2e3,!1);return}try{if(!f.choosenHabits||f.choosenHabits.length===0){b(e===0?"ÐÐµÑ‚ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐµÐº":"No habits chosen",2e3,!1);return}const a=f.choosenHabits.map(g=>K?.find(w=>w.id===g)).filter(Boolean);let c="â° "+(T?.name||e===0?"ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ":"User")+" ,"+r[e][Math.floor(Math.random()*r[e].length)]+": ";const h=a.map(g=>g.name[e]).join(", ");c+=h+"$"+s,f.notify[0]={enabled:!0,cron:s},k.sendMessage("habit",c),b(e===0?"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾  Ð½Ð° "+n+":"+u:"Notification set on "+n+":"+u,2e3,!0)}catch(a){console.log(a),b(e===0?"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ":"Error sending notification",2e3,!1)}},I=(e,s,n,u)=>{const r=[["ÐŸÐ¾Ñ€Ð° Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ,","It's time to train,"],["Ð’Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ ÑÐ¿Ð¾Ñ€Ñ‚Ð°,","Time for some exercise,"],["Ð Ð°Ð·Ð¾Ð¼Ð½Ð¸ÑÑŒ Ð½ÐµÐ¼Ð½Ð¾Ð³Ð¾,","Time to stretch,"],["Ð’Ð¿ÐµÑ€Ñ‘Ð´ Ðº Ñ€ÐµÐºÐ¾Ñ€Ð´Ð°Ð¼,","Let's break some records,"],["Ð—Ð°Ñ€ÑÐ´ÐºÐ° Ð´Ð»Ñ Ñ‚ÐµÐ»Ð°,","Energize your body,"],["Ð’Ñ€ÐµÐ¼Ñ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸,","Stay active,"],["Ð Ð°Ð·Ð¾Ð³Ñ€ÐµÐ¹ÑÑ,","Warm up,"],["Ð’Ñ€ÐµÐ¼Ñ ÑÑ‚Ð°Ñ‚ÑŒ Ð»ÑƒÑ‡ÑˆÐµ,","Time to get better,"],["ÐŸÐ¾Ð´Ð²Ð¸Ð³Ð°ÐµÐ¼ÑÑ?","Shall we move a bit?"],["Ð¤Ð¸Ð·ÐºÑƒÐ»ÑŒÑ‚-Ð¿Ñ€Ð¸Ð²ÐµÑ‚!","Exercise time!"],["Ð‘Ð¾Ð´Ñ€Ð¾ÑÑ‚ÑŒ Ð´ÑƒÑ…Ð°!","Boost your energy!"],["Ð’Ñ€ÐµÐ¼Ñ Ñ€Ð°Ð·Ð¼ÑÑ‚ÑŒÑÑ!","Time to stretch!"],["ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð¿ÐµÑ€ÐµÑ€Ñ‹Ð²!","Active break time!"],["Ð’Ð¿ÐµÑ€Ñ‘Ð´ Ðº Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑŽ!","Onward to health!"],["Ð Ð°Ð·Ð¾Ð¼Ð½Ð¸ ÑˆÐµÑŽ Ð¸ ÑÐ¿Ð¸Ð½Ñƒ!","Stretch your neck and back!"],["Ð’Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ð·Ð°Ñ€ÑÐ´ÐºÐ¸!","Time for some exercise!"],["ÐŸÐ¾Ð´ÐºÐ°Ñ‡Ð°Ð¹ÑÑ!","Pump it up!"],["Ð’Ñ€ÐµÐ¼Ñ Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ!","Time to move!"],["Ð Ð°Ð·Ð¾Ð³Ñ€ÐµÐ¹ Ð¼Ñ‹ÑˆÑ†Ñ‹!","Warm up those muscles!"],["Ð’Ñ€ÐµÐ¼Ñ Ð¿Ð¾Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ!","Time for a workout!"]];if(!f.notify[1].enabled){b(e===0?"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‹,ÑÐ½Ð°Ñ‡Ð°Ð»Ð° Ð²ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Ð¸Ñ…":"Notifications disabled, first enable them",2e3,!1);return}try{const a=T?.name||"";let c="ðŸ‹ï¸â° "+r[e][Math.floor(Math.random()*r[e].length)]+" "+a+" !";c+="$"+s,f.notify[1]={enabled:!0,cron:s},k.sendMessage("training",c),b(e===0?"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾  Ð½Ð° "+n+":"+u:"Notification set on "+n+":"+u,2e3,!0)}catch(a){console.log(a),b(e===0?"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ":"Error sending notification",2e3,!1)}},ee=(e,s)=>{e.startsWith("H")&&(f.notify[0].enabled=s,T?.id&&(s?E():(k.sendMessage("habitoff",T.id),b(langIndex===0?"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾":"Notification disabled",2e3,!0)))),e.startsWith("T")&&(f.notify[1].enabled=s,T?.id&&(s?I():(k.sendMessage("trainingoff",T.id),b(langIndex===0?"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾":"Notification disabled",2e3,!0))))};function te(e,s){f.prefs[2]==0&&e!==null&&(e.paused?(e.volume=.5,e.play()):e.currentTime=0),f.prefs[3]==0&&navigator.vibrate(s)}export{oe as default};
