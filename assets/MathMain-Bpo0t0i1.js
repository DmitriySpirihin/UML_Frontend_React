import{A as z,t as Re,l as Pe,f as De,C as x,j as r,bj as ie,bk as Te,bu as Me,bl as Qe,bv as Ze,bw as et,bq as G,bx as tt,U as nt,p as st,s as ot,bp as rt,by as it,w as lt}from"./index-Bp8ytNI-.js";import{r as p,R as at}from"./recharts-Bg6K2Pzo.js";import{G as ct,a as ut}from"./index-CnP2slGU.js";import{s as dt,q as R}from"./MentalHelper-wBW83ljp.js";import{B as xt}from"./BreathAudio-BrJNN4AB.js";import{M as pt}from"./MentalInput-Z5IKsPv0.js";function ft(t,e,s){switch(t){case 0:switch(e){case 0:return ae(s);case 1:return ce(s);case 2:return Ee(s);case 3:return Y(s);case 4:return gt(s);case 5:return mt(s)}break}return[problem,answer.toString()]}const h=(t,e)=>(t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t),ae=t=>{let e,s,o,l=0;if(t>=0&&t<=5){do l++,e=h(2,10),s=h(2,10),o=e+s;while(o>20&&l<20);return[`${e} + ${s}`,o.toString()]}if(t>=6&&t<=10){do l++,e=h(10,90),s=h(2,9),o=e+s;while(o>100&&l<20);return[`${e} + ${s}`,o.toString()]}if(t>=11&&t<=15){do l++,e=h(20,99),s=h(2,9),o=e-s;while(o<10&&l<20);return[`${e} ‚Äì ${s}`,o.toString()]}if(t>=16&&t<=20){do l++,e=h(2,10),s=h(2,10),o=e*s;while(o>100&&l<20);return[`${e} √ó ${s}`,o.toString()]}return["2 + 3","5"]},ce=t=>{if(t>=0&&t<=5){let e,s,o,l=0;do e=h(10,99),s=h(10,99),o=e+s;while(o>200&&++l<20);return[`${e} + ${s}`,o.toString()]}if(t>=6&&t<=10){let e,s,o,l,n,u=0;do e=h(30,99),s=h(2,9),o=h(10,80),l=e+s,n=l-o;while((n<10||n>150)&&++u<30);return[`${e} + ${s} ‚Äì ${o}`,n.toString()]}if(t>=11&&t<=15){let e,s,o,l,n,u=0;do e=h(25,99),s=h(2,9),o=h(2,12),l=e-s,!(l<=5)&&(n=l*o);while((n<30||n>1e3)&&++u<30);return[`(${e} ‚Äì ${s}) √ó ${o}`,n.toString()]}if(t>=16&&t<=20){let e,s,o,l,n,u=0;do o=h(2,9),l=h(3,12),s=o*l,!(s<10||s>99)&&(e=h(15,80),n=e+l);while((n<20||n>120)&&++u<30);return[`${e} + ${s} √∑ ${o}`,n.toString()]}return["50 + 40","90"]},Ee=t=>{if(t>=0&&t<=5){let e,s,o,l,n=0;do e=h(20,80),s=h(20,80),o=h(10,70),l=e+s-o;while((l<10||l>200)&&++n<30);return[`${e} + ${s} ‚àí ${o}`,l.toString()]}if(t>=6&&t<=10){let e,s,o,l,n,u,i,f=0;do e=h(12,30),s=h(3,8),o=h(40,85),l=h(20,o-5),n=e*s,u=o-l,i=n+u;while((i<20||i>500)&&++f<30);return[`${e} √ó ${s} + (${o} ‚àí ${l})`,i.toString()]}if(t>=11&&t<=15){let e,s,o,l,n,u,i=0;do e=h(5,12),s=e*e,o=h(6,14),l=o*o,n=h(20,70),u=s-o+n;while((u<25||u>300)&&++i<30);return[`(${e}¬≤ ‚àí ‚àö${l}) + ${n}`,u.toString()]}if(t>=16&&t<=20){let e,s,o,l,n,u,i,f=0;do e=h(6,12),s=e*e,o=h(2,9),l=h(5,15),n=o*l,!(n<10||n>99)&&(u=h(3,12),i=s+l-u);while((i<30||i>400)&&++f<30);return[`${e}¬≤ + ${n} √∑ ${o} ‚àí ${u}`,i.toString()]}return["12¬≤ + 80 √∑ 5 ‚àí 7","153"]},Y=t=>{t<0&&(t=0);const e=(n,u)=>Math.floor(Math.random()*(u-n+1))+n,s=n=>{const u={0:"‚Å∞",1:"¬π",2:"¬≤",3:"¬≥",4:"‚Å¥",5:"‚Åµ",6:"‚Å∂",7:"‚Å∑",8:"‚Å∏",9:"‚Åπ"};return String(n).split("").map(i=>u[i]||i).join("")},o={2:[[2,1],[4,2],[8,3],[16,4],[32,5],[64,6],[128,7],[256,8],[512,9],[1024,10]],3:[[3,1],[9,2],[27,3],[81,4],[243,5],[729,6]],5:[[5,1],[25,2],[125,3],[625,4]],10:[[10,1],[100,2],[1e3,3],[1e4,4]]},l=(n,u)=>Number.isInteger(u)&&u>0&&u<1e4;if(t<=5){const n=[2,3,5,10],u=n[e(0,n.length-1)],i=o[u][e(0,o[u].length-1)],[f,g]=i,m=e(3,8),S=m**3,j=g+S;return l("",j)?[`${u===10?`log‚ÇÅ‚ÇÄ(${f})`:u===2?`log‚ÇÇ(${f})`:`log${u}(${f})`} + ${m}${s(3)}`,j.toString()]:Y(t)}if(t<=10)if(e(1,3)===1){const n=e(2,12),u=e(3,15),i=e(1,20),f=n*u+i;return[`${n}X + ${i} = ${f}`,u.toString()]}else if(e(0,4)===2){const n=e(2,12),u=e(3,10),i=e(11,20),f=e(11,20),g=n*u-i+f;return[`${n}X - ${i} + ${f} = ${g}`,u.toString()]}else{const n=e(12,52),u=e(13,30),i=e(11,20),f=e(11,20),g=n+i+f-u;return[`${n} + ${i} + ${f} - X = ${g}`,u.toString()]}if(t<=15){const n=e(4,9),u=e(5,15),i=n**3,f=u**2;if(i<=f)return Y(t);const g=[2,3,5][e(0,2)],m=o[g][e(0,o[g].length-1)],[S,j]=m,v=i-f+j;if(!l("",v))return Y(t);const C=g===2?`log‚ÇÇ(${S})`:`log${g}(${S})`;return[`(${n}${s(3)} ‚àí ${u}${s(2)}) + ${C}`,v.toString()]}if(t<=20){let n,u,i,f,g,m,S=0;do{const $=e(7,13),v=e(8,14),C=e(5,11),T=e(4,10),P=e(50,200);if(n=$**2,u=v**2,i=C**3,f=T**2,g=P,m=n+u-i-f+g,S++,S>20)break}while(m<=0||m>=1e4);return m<=0||m>=1e4?["12¬≤ + 11¬≤ ‚àí 5¬≥ ‚àí 6¬≤ + 100","210"]:[`${a}${s(2)} + ${b}${s(2)} ‚àí ${c}${s(3)} ‚àí ${d}${s(2)} + ${g}`,m.toString()]}return["(‚àö4096 + 6¬≥) √∑ log‚ÇÇ(64)","10"]},gt=t=>{if(t<0&&(t=0),t<20)return ae(t);if(t<40)return ce(t-20);if(t<60)return Ee(t-40);{const e=(t-60)%21;return Y(e)}},mt=t=>{t<0&&(t=0);const e=t%40;return e<20?ae(e):ce(e-20)};function ht(t,e,s,o,l,n,u){const f=[100,200,300,400,250,50][e]||100;let g=0;if(t===0){const C=Number(n),T=Number(l);g=Math.abs(T-C)/T}const m=g===0?1:g<.15?.5:0,S=Math.min(1+s*.02,1.3),j=Math.min(o/1e4,2),$=m===1?Math.max(1.3-(j-1)*.3,1):1,v=u>=5&&m===1?Math.min(1+.1*Math.min(u/10,4),1.5):1;return Math.round(f*m*S*$*v)}function bt(t,e,s){if(t===0){const o=Number(s),l=Number(e);if(o===l)return!0}return!1}function yt(t,e,s){if(t===0){const o=Number(s),l=Number(e);return Math.abs(l-o)/l}return 0}const ke=3e3,St=({show:t,type:e,difficulty:s,maxTimer:o,setShow:l})=>{const[n,u]=p.useState("dark"),[i,f]=p.useState(z.prefs[0]),[g,m]=p.useState(z.prefs[4]),[S,j]=p.useState(""),[$,v]=p.useState(""),[C,T]=p.useState(!1),[P,O]=p.useState(!1),[V,ue]=p.useState(!1),[U,X]=p.useState(0),[We,K]=p.useState(0),[E,de]=p.useState(!1),[Fe,J]=p.useState(!1),[Ne,xe]=p.useState(0),{initAudio:Le,playRight:Ve,playWrong:Be}=xt(z.prefs[2]===0),[pe,A]=p.useState(!1),[fe,Q]=p.useState(0),[q,Z]=p.useState(0),[Ge,ge]=p.useState(0),[_,me]=p.useState(!1),[M,ee]=p.useState(0),[F,te]=p.useState(1),[he,be]=p.useState(0),[Ye,qe]=p.useState(""),[B,_e]=p.useState(""),[ye,ne]=p.useState(""),[He,Oe]=p.useState(""),[W,Se]=p.useState(0),[se,oe]=p.useState(0),[N,Ue]=p.useState(z.mentalRecords[e][s]),[je,$e]=p.useState(0);p.useEffect(()=>{S.length===1?v(y=>y.length<6?y+S:y):S.length===2?v(y=>y.length>0?y.slice(0,y.length-1):""):S.length===3&&we(),j("")},[S]),p.useEffect(()=>{let y=null;return C&&(y=setInterval(()=>{$e(w=>w+100)},100)),()=>{y&&clearInterval(y)}},[C]),p.useEffect(()=>{if(!pe||!P||s===5){Q(0),Z(0);return}const y=Date.now()-q,w=setInterval(()=>{const I=Date.now()-y,k=Math.min(I,o);Z(k),Q(k/(o-U)*100),k>=o-U-500&&(A(!1),we())},50);return()=>clearInterval(w)},[pe,P,o,q]),p.useEffect(()=>{const y=Re.subscribe(u),w=Pe.subscribe(k=>{f(k==="ru"?0:1)}),I=De.subscribe(k=>{m(k)});return()=>{y.unsubscribe(),w.unsubscribe(),I.unsubscribe()}},[]),p.useEffect(()=>{if(!V){K(0);return}const y=Math.ceil(ke/1e3);K(y);const w=setInterval(()=>{K(I=>I<=1?(clearInterval(w),Xe(),ue(!1),0):I-1)},1e3);return()=>{clearInterval(w)}},[V,ke]),p.useEffect(()=>{if(!_)return;const y=setInterval(()=>{ge(w=>w>=900?(clearInterval(y),me(!1),ee(I=>I+W/2),Se(0),A(!0),ge(0),0):w+100)},100);return()=>{clearInterval(y)}},[_,Ge]);const Xe=()=>{Le(),re(),O(!0),A(!0),T(!0),J(!1),$e(0),xe(Date.now())};function re(){const y=ft(e,s,F);qe(y[0]),_e(y[1])}const we=()=>{A(!1);const y=ht(e,s,F,q,B,$,he),w=yt(e,B,$);wt(w===0?"light":"medium");let I="";w===0?(I=It(i),oe(D=>D+1)):w<.15?I=Ct(i):I=i===0?"–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: "+B:"Correct answer: "+B;const k=w===0?x.get("maxValColor",n):w<.15?x.get("difficulty2",n):x.get("minValColor",n);Oe(k),ne(I),Se(y),re(),v(""),be(D=>bt(e,B,$)?D+1:0),te(D=>D+1<20?D+1:20),w===0?Ve():Be(),F===20&&Ie(),s===4&&F%5===0&&X(D=>D+1e3),s===4&&w>.15&&Ie(),me(!0)},Ke=()=>{T(!1),J(!0)},Je=()=>{T(!0),J(!1)},ve=()=>{A(!1),Z(0),Q(0),ee(0),te(1),oe(0),be(0),v(""),ne(""),X(0),re(),xe(Date.now()),A(!0)},Ie=()=>{const y=Date.now(),w=Math.round((y-Ne)/1e3);dt(w,M>N,e,s,M+W);const I=$t(s===4,s===5,i,M+W,se,20,!1);T(!1),ne(I),de(!0),O(!1),A(!1)},Ce=()=>{M>N&&(Ue(M),z.mentalRecords[e][s]=M),ee(0),X(0),te(1),oe(0),de(!1),l(!1)};return r.jsxs("div",{style:H(n,t).container,children:[!P&&!V&&!E&&r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",width:"100%",height:"80%"},children:[r.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:x.get("mainText",n)},children:R[s].level[i]}),r.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"15px",color:x.get("subText",n)},children:R[s].description[i]}),r.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"15px",color:x.get("mainText",n)},children:(i===0?"–°–ª–æ–∂–Ω–æ—Å—Ç—å: ":"Difficulty: ")+R[s].difficulty[i]}),r.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"15px",color:x.get("subText",n)},children:(i===0?"–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏: ":"Time limit: ")+R[s].timeLimitSec}),r.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"20px",fontSize:"15px",color:x.get("subText",n)},children:(i===0?"–û–ø–µ—Ä–∞—Ü–∏–∏: ":"Operations: ")+R[s].operations}),r.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"50px",fontSize:"12px",color:x.get("subText",n)},children:jt(i)})]}),!P&&!V&&!E&&r.jsxs("div",{style:H(n,t).controls,children:[r.jsx(ie,{onClick:()=>Ce(),style:{fontSize:"60px",color:x.get("close",n)}}),r.jsx(Te,{onClick:()=>ue(!0),style:{fontSize:"60px",color:x.get("play",n)}}),r.jsx(Me,{onClick:ve,style:{fontSize:"60px",color:x.get("reload",n)}})]}),!E&&V&&r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",width:"90%",height:"80%"},children:[r.jsx("div",{style:{fontSize:"10rem",marginTop:"180px",color:x.get("icons",n),fontWeight:"bold",lineHeight:1},children:We}),r.jsx("div",{style:{fontSize:"2rem",marginBottom:"80px",textAlign:"center"},children:r.jsx("div",{style:{color:x.get("icons",n),marginBottom:"80px"},children:i===0?"–ü—Ä–∏–≥–æ—Ç–æ–≤—å—Ç–µ—Å—å!":"Get ready!"})})]}),!E&&P&&r.jsxs("div",{style:H(n).playContainer,children:[r.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"86%",borderBottom:`1px solid ${x.get("border",n)}`},children:[r.jsxs("div",{style:{display:"flex",flexDirection:"row",marginTop:"6px",width:"60%",gap:"20px",marginRight:"auto"},children:[r.jsx(ie,{onClick:()=>O(!1),style:{fontSize:"25px",color:x.get("close",n)}}),Fe?r.jsx(Te,{onClick:Je,style:{fontSize:"25px",color:x.get("play",n)}}):r.jsx(Qe,{onClick:Ke,style:{fontSize:"25px",color:x.get("pause",n)}}),r.jsx(Me,{onClick:ve,style:{fontSize:"25px",color:x.get("reload",n)}})]}),r.jsxs("div",{style:{display:"flex",marginLeft:"auto",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:x.get("subText",n)},children:[r.jsx(Ze,{}),Ae(je)]})]}),r.jsxs("div",{style:{display:"flex",width:"86%",flexDirection:"row",marginTop:"20px",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:x.get("minValColor",n)},children:[r.jsx(et,{}),he]}),r.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:x.get("difficulty",n)},children:s>3?F:F+"/ 20"}),r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:x.get("maxValColor",n)},children:[r.jsx(G,{}),M]})]}),r.jsxs("div",{style:{width:"86%",height:"18px",position:"relative",marginTop:"66px"},children:[r.jsxs("svg",{width:"100%",height:"18",viewBox:"0 0 100 18",preserveAspectRatio:"none",style:{display:"block"},children:[r.jsx("rect",{x:"0",y:"0",width:"100",height:"18",fill:x.get("bottomPanel",n)}),r.jsx("rect",{x:"0",y:"0",width:fe,height:"18",fill:vt(x.get("done",n),x.get("skipped",n),fe/100)})]}),r.jsx("div",{style:{position:"relative",top:"-20px",color:x.get("subText",n),marginBottom:"80px"},children:Math.floor((o-U-q)/1e3)})]}),r.jsxs("div",{children:[!_&&r.jsx("div",{style:ze(n,!1),children:Ye}),_&&r.jsxs("div",{style:ze(n,!0,He),children:[r.jsxs("p",{style:{fontSize:"22px",fontWeight:"bold",color:W>0?x.get("maxValColor",n):x.get("minValColor",n)},children:[W>0&&r.jsx(G,{}),W>0?W:i===0?"–Ω–µ –≤–µ—Ä–Ω–æ":"wrong answer"]}),r.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",color:x.get("mainText",n)},children:ye})]})]}),r.jsx("div",{style:{fontSize:"34px",fontWeight:"bold",color:x.get("subText",n),marginTop:"auto"},children:$})]}),!E&&P&&r.jsx(pt,{setInput:j,type:e}),E&&r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",width:"100%",height:"80%"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:x.get("maxValColor",n)},children:[r.jsx(G,{}),M]}),r.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:x.get("medium",n)},children:Tt(i,je)}),M>N&&r.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:x.get("medium",n)},children:[r.jsx(tt,{}),i===0?"–ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥!":"New record!"]}),M<=N&&r.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:x.get("subText",n)},children:i===0?"—Ä–µ–∫–æ—Ä–¥: "+N:"record: "+N}),r.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"22px",fontWeight:"bold",color:x.get("mainText",n)},children:s<4?se+" / 20":se}),r.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:x.get("mainText",n)},children:ye})]}),E&&r.jsx("div",{style:H(n,t).controls,children:r.jsx(ie,{onClick:()=>{Ce()},style:{fontSize:"60px",color:x.get("close",n)}})})]})},ze=(t,e,s)=>({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"95vw",height:"16vh",marginTop:"20px",backgroundColor:x.get("bottomPanel",t),boxShadow:e?"0px 0px 9px 9px"+s:"2px 2px"+x.get("shadow",t),borderRadius:"24px",fontSize:"39px",fontWeight:"bold",color:x.get("mainText",t),alignContent:"center"}),H=(t,e)=>({container:{backgroundColor:x.get("background",t),display:"flex",position:"fixed",flexDirection:"column",alignItems:"center",height:"86vh",transform:e?"translateY(0)":"translateY(100%)",bottom:"0",transition:"transform 0.2s ease-in-out",width:"100vw",fontFamily:"Segoe UI",borderTop:`2px solid ${x.get("border",t)}`,borderTopLeftRadius:"12px",borderTopRightRadius:"12px",zIndex:2e3},controls:{display:"flex",marginTop:"30px",gap:"50px"},playContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",height:"50vh",bottom:"0",width:"100vw"}}),jt=t=>t===0?"–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –±–æ–ª—å—à–µ –æ—á–∫–æ–≤, –æ—Ç–≤–µ—á–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ –∫–∞–∫ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ. –ö–∞–∂–¥–∞—è –æ—à–∏–±–∫–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –º–Ω–æ–∂–∏—Ç–µ–ª—å. –ó–∞ –∫–∞–∂–¥—ã–µ 5 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–¥—Ä—è–¥ –º–Ω–æ–∂–∏—Ç–µ–ª—å –ø–æ–≤—ã—à–∞–µ—Ç—Å—è, –¥–æ—Å—Ç–∏–≥–∞—è –º–∞–∫—Å–∏–º—É–º–∞ √ó1.5.":"To earn more points, answer correctly and as quickly as possible. Every mistake resets your multiplier. For every 5 correct answers in a row, your multiplier increases‚Äîup to a maximum of √ó1.5.",$t=(t,e,s,o,l,n,u=!1)=>{const i=l>0?Math.round(o/l*100):0,f={ru:{record:[`üèÜüî• –ù–û–í–´–ô –†–ï–ö–û–†–î! ${s} –æ—á–∫–æ–≤ ‚Äî –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!`,`üéâ‚ú® –¢—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª(–∞) –ª–∏—á–Ω—ã–π —Ä–µ–∫–æ—Ä–¥: ${o}/${l} (${i}%)!`,"üåüüí• –î–∞–∂–µ –µ—Å–ª–∏ –±—ã–ª–æ —Ç—Ä—É–¥–Ω–æ ‚Äî —Ç—ã –ø–æ–±–∏–ª(–∞) —Ä–µ–∫–æ—Ä–¥! –ú–æ–ª–æ–¥–µ—Ü!"],endless_record:[`üèÜüî• –ù–û–í–´–ô –†–ï–ö–û–†–î –í –†–ï–ñ–ò–ú–ï –í–´–ñ–ò–í–ê–ù–ò–Ø: ${o} —Ä–∞—É–Ω–¥–æ–≤!`,`üéâ‚ú® –¢—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª(–∞) –ª–∏—á–Ω—ã–π —Ä–µ–∫–æ—Ä–¥: ${o} –±–µ–∑ –µ–¥–∏–Ω–æ–π –æ—à–∏–±–∫–∏!`,"üåüüí• –í Endless-—Ä–µ–∂–∏–º–µ ‚Äî –∞ —Ç—ã –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ–±–∏–ª(–∞) —Ä–µ–∫–æ—Ä–¥! –ú–æ–ª–æ–¥–µ—Ü!",`üõ°Ô∏èüëë –ù–æ–≤—ã–π –º–∞–∫—Å–∏–º—É–º: ${s} –æ—á–∫–æ–≤ –≤ —Ä–µ–∂–∏–º–µ "–æ–¥–Ω–∞ –æ—à–∏–±–∫–∞ ‚Äî –∫–æ–Ω–µ—Ü"!`],relax_record:["üåü –ù–æ–≤—ã–π –ª–∏—á–Ω—ã–π –º–∞–∫—Å–∏–º—É–º ‚Äî –¥–∞–∂–µ –≤ —Å–ø–æ–∫–æ–π–Ω–æ–º —Ä–µ–∂–∏–º–µ!",`üßò‚Äç‚ôÇÔ∏èüèÜ –¢—ã –Ω–∞–±—Ä–∞–ª(–∞) ${s} –æ—á–∫–æ–≤ –≤ Relax-—Ä–µ–∂–∏–º–µ ‚Äî –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!`,"üí´ –î–∞–∂–µ –±–µ–∑ —Ç–∞–π–º–µ—Ä–∞ ‚Äî —Ç—ã —É–ª—É—á—à–∏–ª(–∞) —Å–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –†–µ—Å–ø–µ–∫—Ç!"]},en:{record:[`üèÜüî• NEW RECORD! ${s} points ‚Äî congratulations!`,`üéâ‚ú® You set a personal best: ${o}/${l} (${i}%)!`,"üåüüí• Even on a tough day ‚Äî you broke your record! Amazing!"],endless_record:[`üèÜüî• NEW ENDLESS MODE RECORD: ${o} rounds!`,`üéâ‚ú® Personal best: ${o} flawless answers in a row!`,"üåüüí• You broke your record ‚Äî in Endless Mode! Amazing!",`üõ°Ô∏èüëë New high: ${s} points in "one mistake = game over" mode!`],relax_record:["üåü New personal best ‚Äî even in Relax Mode!",`üßò‚Äç‚ôÇÔ∏èüèÜ You scored ${s} points in Relax Mode ‚Äî congrats!`,"üí´ No timer, no stress ‚Äî and still a new record! Amazing!"]}},g=e===0?f.ru:f.en;let m=[];if(u?m=[...g.relax_record]:t?m=[...g.endless_record]:m=[...g.record],m.length===0)return e===0?"–•–æ—Ä–æ—à–æ! üòä":"Good job! üòä";const S=Math.floor(Math.random()*m.length);return m[S]};function wt(t){z.prefs[3]==0&&Telegram.WebApp.HapticFeedback&&Telegram.WebApp.HapticFeedback.impactOccurred(t)}function vt(t,e,s){if(!t||!e)return t||e||"#000000";s=Math.max(0,Math.min(1,s)),t=t.replace("#",""),e=e.replace("#","");const o=parseInt(t.slice(0,2),16),l=parseInt(t.slice(2,4),16),n=parseInt(t.slice(4,6),16),u=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),f=parseInt(e.slice(4,6),16),g=Math.round(o+(u-o)*s),m=Math.round(l+(i-l)*s),S=Math.round(n+(f-n)*s);return`rgb(${g}, ${m}, ${S})`}function It(t){const o=t===0?["–û—Ç–ª–∏—á–Ω–æ!","–ü—Ä–µ–∫—Ä–∞—Å–Ω–æ!","–í–µ—Ä–Ω–æ!","–¢–æ—á–Ω–æ!","–ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ!","–ò–¥–µ–∞–ª—å–Ω–æ!","–ü—Ä–∞–≤–∏–ª—å–Ω–æ!","–ú–æ–ª–æ–¥–µ—Ü!","–¢–æ—á–Ω–æ –≤ —Ü–µ–ª—å!","–ë–µ–∑ –æ—à–∏–±–æ–∫!"]:["Great!","Perfect!","Yes!","Exactly!","Awesome!","Brilliant!","Spot on!","Well done!","Nailed it!","Correct!"];return o[Math.floor(Math.random()*o.length)]}function Ct(t){const o=t===0?["–†—è–¥–æ–º!","–ü–æ—á—Ç–∏!","–ï—â–µ —á—É—Ç—å-—á—É—Ç—å!","–ü—Ä–æ–¥–æ–ª–∂–∞–π!","–ü–æ–ø—Ä–æ–±—É–π –µ—â–µ!","–û—á–µ–Ω—å –±–ª–∏–∑–∫–æ!","–•–æ—Ä–æ—à–∞—è –ø–æ–ø—ã—Ç–∫–∞!","–ù–µ —Å–æ–≤—Å–µ–º‚Ä¶","–ü–æ—á—Ç–∏ –ø–æ–ª—É—á–∏–ª–æ—Å—å!","–¢—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏!"]:["Close!","Almost!","Nearly!","Keep going!","Try again!","So close!","Good attempt!","Not quite!","One more try!","You're getting there!"];return o[Math.floor(Math.random()*o.length)]}function Ae(t){const e=Math.floor(t/1e3),s=Math.floor(e/60),o=e%60;return`${String(s).padStart(2,"0")}:${String(o).padStart(2,"0")}`}function Tt(t,e){const s=Ae(e);return t===0?`–í–∞—à–µ –≤—Ä–µ–º—è: ${s}`:`Your time is: ${s}`}const Et=()=>{const[t,e]=at.useState("dark"),[s,o]=p.useState(z.prefs[0]),[l,n]=p.useState(z.prefs[4]),[u,i]=p.useState(!1),[f,g]=p.useState(0),[m,S]=p.useState(nt.hasPremium);return p.useEffect(()=>{const j=st.subscribe(S);return()=>j.unsubscribe()},[]),p.useEffect(()=>{const j=Re.subscribe(e),$=Pe.subscribe(C=>{o(C==="ru"?0:1)}),v=De.subscribe(C=>{n(C)});return()=>{j.unsubscribe(),$.unsubscribe(),v.unsubscribe()}},[]),r.jsxs("div",{style:L(t).container,children:[r.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyItems:"center"},children:[r.jsx("div",{style:{width:"100%",display:"grid",gridTemplateColumns:"1fr 1fr",alignItems:"center",justifyItems:"center"},children:R.map((j,$)=>{const v="difficulty"+$;return $<4&&r.jsx(le,{width:"46vw",difficulty:$,protocol:j,setLevel:g,color:x.get(v,t),theme:t,lang:s,click:()=>{g($),i(!0)},fSize:l,hasPremium:m,needBlur:$>1},$)})}),r.jsx(le,{width:"96vw",difficulty:4,protocol:R[4],setLevel:g,color:x.get("difficultyAdd",t),theme:t,lang:s,click:()=>{g(4),i(!0)},fSize:l,hasPremium:m,needBlur:!0}),r.jsx(le,{width:"96vw",difficulty:5,protocol:R[5],setLevel:g,color:x.get("difficulty",t),theme:t,lang:s,click:()=>{g(5),i(!0)},fSize:l,hasPremium:m,needBlur:!0})]}),r.jsx(St,{type:0,difficulty:f,maxTimer:R[f].timeLimitSec*1e3,show:u,setShow:i})]})},L=(t,e)=>({container:{backgroundColor:x.get("background",t),display:"flex",flexDirection:"column",overflowY:"scroll",justifyItems:"center",alignItems:"center",height:"78vh",paddingTop:"5vh",width:"100vw",fontFamily:"Segoe UI"},scrollView:{height:"95%",width:"100%",overflowY:"scroll",display:"flex",flexDirection:"column"},mainText:{textAlign:"left",fontSize:e===0?"15px":"17px",color:x.get("mainText",t)},subtext:{textAlign:"center",fontSize:e===0?"12px":"14px",color:x.get("mainText",t),margin:"2px"},icon:{fontSize:"32px",color:x.get("mainText",t)},simplePanelRow:{width:"75vw",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},cardText:{textAlign:"left",marginBottom:"5px",fontSize:e===0?"14px":"16px",color:x.get("mainText",t),marginLeft:"30px"},text:{textAlign:"left",fontSize:e===0?"10px":"12px",color:x.get("subText",t),marginLeft:"30px"},btn:{width:"70%",height:"40px",borderRadius:"12px",fontSize:e===0?"13px":"14px",color:x.get("mainText",t),backgroundColor:x.get("simplePanel",t)}});function le({protocol:t,difficulty:e,click:s,width:o,color:l,theme:n,lang:u,fSize:i,hasPremium:f=!1,needBlur:g=!1}){const m=()=>e===0?r.jsx(rt,{style:j}):e===1?r.jsx(G,{style:j}):e===2?r.jsx(ct,{style:j}):e===3?r.jsx(ut,{style:j}):e===4?r.jsx(it,{style:j}):r.jsx(lt,{style:j}),S={alignItems:"center",justifyContent:"center",display:"flex",width:o,flexDirection:"row",height:"12vh",marginTop:"15px",borderRadius:"24px",backgroundColor:l,overflow:"hidden",position:"relative",boxShadow:"3px 3px 2px rgba(0,0,0,0.3)"},j={fontSize:"86px",rotate:"-20deg",position:"absolute",right:"-10px",top:"30%",color:x.get("svgColor",n)};return r.jsxs("div",{style:S,onClick:s,children:[!f&&g&&r.jsxs("div",{onClick:$=>{$.stopPropagation()},style:{position:"absolute",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",width:"100%",height:"100%",left:"0",top:"0",backdropFilter:"blur(8px)",zIndex:2},children:[r.jsxs("div",{style:{...L(n,i).mainText},children:[" ",u===0?"–ü—Ä–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è":"Pro category"," "]}),r.jsxs("div",{style:{...L(n,i).mainText},children:[" ",u===0?"üëë–ø—Ä–µ–º–∏—É–ºüëë":"üëëpremiumüëë"," "]}),r.jsx("button",{onClick:()=>{ot("premium")},style:{...L(n,i).btn},children:u===0?"–°—Ç–∞—Ç—å –ø—Ä–µ–º–∏—É–º":"Get premium"})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"65%",height:"22%",alignItems:"center",justifyContent:"flex-end",position:"absolute",top:"5%",left:"30%",fontWeight:"bold",fontSize:"16px",color:x.get("maxValColor",n)},children:[r.jsx(G,{})," ",z.mentalRecords[0][e]]}),r.jsxs("div",{style:{width:"90%",height:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},children:[r.jsx("h2",{style:L(n,i).cardText,children:t.level[u]}),r.jsx("p",{style:L(n,i).text,children:t.difficulty[u]})]}),m()]})}export{Et as default};
