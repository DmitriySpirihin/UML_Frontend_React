import{j as s,C as a,A as C,r as c,t as _e,l as Ke,f as Ve,b1 as At,U as Dt,p as It,O as K,g as Re,bk as Pt,Y as Rt,bl as Mt,a3 as Tt,i as ae,k as oe,aU as Et,aV as Ft,s as Wt,aY as le}from"./index-D87pFlpB.js";import{b as Me,c as Te,d as zt,e as Lt}from"./index-B1zP_1bO.js";import{F as V,a as Y}from"./index-CSjaiAQ0.js";import{M as ee}from"./MyNumInput-BfhvAdyQ.js";import{m as Bt}from"./TrainingLogHelper-D-XxSOf-.js";import{c as xe,s as Ce,a as Ye,b as Xe,d as Nt,e as $t,f as Se,g as ke,h as Ot,i as Gt,j as Ue,k as Ee,l as Ht,p as _t,r as Je,D as Kt,u as qe,R as Vt,S as Yt,m as Xt,n as Ut,o as Ze,q as Jt,t as qt,v as Zt,w as Qt,x as en,y as tn,z as nn,A as sn,Z as rn,L as de,G as an,B as Fe,C as We,E as ze,F as Q,H as on,I as ln,J as cn,K as q,M as dn,N as un,O as pn,P as xn,Q as Qe,T as gn,U as we,V as hn,W as ue,X as fn,Y as mn,_ as yn,$ as vn,a0 as bn,a1 as jn,a2 as wn,a3 as Cn,a4 as Sn}from"./TrainingAnaliticsTabs-BP4g8Ejb.js";class kn{static muscleIconsSrc=[{0:"images/BodyIcons/M0.png",1:"images/BodyIcons/M1.png",2:"images/BodyIcons/M2.png",3:"images/BodyIcons/M3.png"},{0:"images/BodyIcons/M0f.png",1:"images/BodyIcons/M1f.png",2:"images/BodyIcons/M2f.png",3:"images/BodyIcons/M3f.png"}];static get(t,n,i){return s.jsx("div",{style:{display:"flex",width:"15%",marginLeft:"auto",marginRight:"10px"},children:s.jsx("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:s.jsx("div",{style:{width:"45px",height:"45px",border:`2px solid ${a.get("border",i)}`,borderRadius:"50%",overflow:"hidden"},children:s.jsx("img",{src:this.muscleIconsSrc[C.pData.gender][t],style:{width:"55px",height:"55px"}})})})})}}const Le={gain:{id:0,titleRu:"Набор",titleEn:"Gain",kcalMinFactor:1.1,kcalMaxFactor:1.15,macrosRu:"1.8–2.2 г / 1 г / 4–6 г",macrosEn:"1.8–2.2 g / 1 g / 4–6 g"},strength:{id:1,titleRu:"Набор",titleEn:"Gain",kcalMinFactor:1.1,kcalMaxFactor:1.15,macrosRu:"1.8–2.2 г / 1 г / 4–6 г",macrosEn:"1.8–2.2 g / 1 g / 4–6 g"},cut:{id:2,titleRu:"Похудение",titleEn:"Weight loss",kcalMinFactor:.85,kcalMaxFactor:.9,macrosRu:"1.6–2 г / 0.8 г / 2–3 г",macrosEn:"1.6–2 g / 0.8 g / 2–3 g"},maintain:{id:3,titleRu:"Поддержание",titleEn:"Maintenance",kcalMinFactor:1,kcalMaxFactor:1,macrosRu:"1.2–1.6 г / 1 г / 4 г",macrosEn:"1.2–1.6 g / 1 g / 4 g"}},An=({bmi:e,trains:t})=>{const[n,i]=c.useState("dark"),[r,l]=c.useState(C.prefs[0]),[d,o]=c.useState(C.prefs[4]),[x,f]=c.useState(C.pData.goal),h=c.useMemo(()=>Dn(e,t),[e,t]);c.useEffect(()=>{const S=_e.subscribe(i),T=Ke.subscribe(P=>l(P==="ru"?0:1)),j=Ve.subscribe(o);return()=>{S.unsubscribe(),T.unsubscribe(),j.unsubscribe()}},[]);const g=c.useMemo(()=>Object.values(Le).find(S=>S.id===x)??Le.gain,[x]),m=et(n,d),v=r===0,A=v?"Рекомендации для вас с учётом недельной нагрузки":"Personal recommendations based on weekly workload",D=Math.round(h*g.kcalMinFactor),R=Math.round(h*g.kcalMaxFactor),I=g.kcalMinFactor===g.kcalMaxFactor?`${D} ${v?"ккал":"kcal"}`:`${D}–${R} ${v?"ккал":"kcal"}`;return s.jsxs("div",{style:m.container,children:[s.jsx("div",{style:m.title,children:A}),s.jsxs("div",{style:m.tableWrapper,children:[s.jsxs("div",{style:m.rowHeader,children:[s.jsx("div",{style:m.colGoal,children:v?"Цель":"Goal"}),s.jsx("div",{style:m.colCalories,children:v?"Калории (ккал)":"Calories (kcal)"}),s.jsx("div",{style:m.colMacros,children:v?"БЖУ (на кг веса, г)":"PFC (per kg of weight, g)"})]}),s.jsxs("div",{style:{...m.row,border:"1px solid "+a.get("border",n)},children:[s.jsx("div",{style:m.colGoalText,children:v?g.titleRu:g.titleEn}),s.jsx("div",{style:m.colCaloriesText,children:I}),s.jsx("div",{style:m.colMacrosText,children:v?g.macrosRu:g.macrosEn})]})]}),s.jsx(In,{theme:n,langIndex:r,fSize:d})]})},et=(e,t)=>({container:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",width:"100%",alignSelf:"center",marginBottom:"20px"},title:{fontSize:t===0?"13px":"15px",color:a.get("mainText",e),marginBottom:"8px",textAlign:"center"},tableWrapper:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",width:"95%",alignSelf:"center",border:"1px solid "+a.get("maxValColor",e),borderRadius:"10px",overflow:"hidden"},rowHeader:{width:"100%",height:"44px",display:"flex",flexDirection:"row",alignItems:"center",borderBottom:"1px solid "+a.get("border",e),backgroundColor:a.get("bgSecondary",e)},row:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",height:"50px"},colGoal:{width:"25%",padding:"0 6px",fontSize:t===0?"11px":"13px",color:a.get("subText",e),borderRight:"1px solid "+a.get("border",e),textAlign:"center"},colCalories:{width:"40%",padding:"0 6px",fontSize:t===0?"11px":"13px",color:a.get("subText",e),borderRight:"1px solid "+a.get("border",e),textAlign:"center"},colMacros:{width:"35%",padding:"0 6px",fontSize:t===0?"11px":"13px",color:a.get("subText",e),textAlign:"center"},colGoalText:{width:"25%",padding:"0 6px",fontSize:t===0?"13px":"15px",color:a.get("mainText",e),borderRight:"1px solid "+a.get("border",e),textAlign:"center"},colCaloriesText:{width:"40%",padding:"0 6px",fontSize:t===0?"13px":"15px",color:a.get("mainText",e),borderRight:"1px solid "+a.get("border",e),textAlign:"center"},colMacrosText:{width:"35%",padding:"0 6px",fontSize:t===0?"11px":"13px",color:a.get("mainText",e),textAlign:"center",lineHeight:1.2},subtext:{fontSize:t===0?"11px":"13px",color:a.get("subText",e),marginTop:"6px",textAlign:"center",padding:"0 12px"}}),Dn=(e,t=3)=>{const n=Math.min(7,Math.max(0,t));let i;return n===0?i=1.2:n<=2?i=1.375:n<=4?i=1.55:n===5?i=1.725:i=1.9,e*i},In=({theme:e,langIndex:t,fSize:n})=>{const i=t===0;return s.jsx("div",{style:{...et(e,n).subtext},children:i?"Информация в этом приложении носит общий ознакомительный характер и не является медицинской рекомендацией. При наличии заболеваний проконсультируйтесь с врачом.":"The information in this app is for general informational purposes only and does not constitute medical advice. If you have any medical conditions, please consult your doctor."})},Pn=[["images/BodyIcons/SideS.png","images/BodyIcons/SideSf.png"],["images/BodyIcons/Side.png","images/BodyIcons/Sidef.png"],["images/BodyIcons/SideL.png","images/BodyIcons/SideLf.png"],["images/BodyIcons/SideXL.png","images/BodyIcons/SideXLf.png"]],Rn=[["Набор массы","Mass gain"],["Сила","Strength"],["Жиросжигание","Weight loss"],["Здоровье","Health"]],Mn=({theme:e,langIndex:t,fSize:n,data:i,filled:r,height:l,age:d,gender:o,goal:x,wrist:f})=>{const[h,g]=c.useState(!1);return s.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column"},children:[!r&&s.jsxs("div",{style:{...z(e,n).subtext,textAlign:"center",marginTop:"10vh"},children:[t===0?"Заполните персональные данные для рекомендаций и статистики":"Fill personal data to get statistic"," "]}),r&&i[0].length>0&&s.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",width:"95%",alignSelf:"center",marginBottom:"20px"},children:[s.jsx("img",{src:Pn[$n(i,l)][o],alt:"",style:{width:"30vw",height:"60vw",margin:"10px"}}),s.jsxs("div",{onClick:()=>g(!0),style:{width:"70%",justifyContent:"flex-start",alignItems:"flex-start"},children:[s.jsxs("div",{style:{border:`1px solid ${a.get("border",e)}`,borderRadius:"12px",boxShadow:`0px 0px 10px ${a.get("shadow",e)}`,marginTop:"10px",display:"flex",flexDirection:"column",width:"90%",justifyContent:"center",alignItems:"flex-start",padding:"10px"},children:[s.jsx("div",{style:z(e,n).text,children:(t===0?"Возраст: ":"Age: ")+d+(t===0?" лет":" yers old")}),s.jsx("div",{style:z(e,n).text,children:(t===0?"Рост: ":"Height: ")+l+(t===0?" см":" sm")}),s.jsx("div",{style:z(e,n).text,children:(t===0?"Вес: ":"Weight: ")+ce(i,0,t)}),s.jsx("div",{style:z(e,n).text,children:(t===0?"% жира: ":"% fat: ")+Bn(i,l,d,o)}),s.jsx("div",{style:{...z(e,n).text,color:a.get("light",e)},children:(t===0?"Цель: ":"Goal: ")+Rn[x][t]})]}),s.jsxs("div",{style:{border:`1px solid ${a.get("border",e)}`,borderRadius:"12px",boxShadow:`0px 0px 10px ${a.get("shadow",e)}`,display:"flex",flexDirection:"column",width:"90%",justifyContent:"center",alignItems:"flex-start",padding:"10px",marginTop:"8px"},children:[s.jsx("div",{style:{...z(e,n).text,width:"90%",borderBottom:`1px solid ${a.get("border",e)}`},children:t===0?"Пропорции":"Proportions"}),s.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"90%"},children:[s.jsx(On,{theme:e,langIndex:t,data:i}),s.jsx(Gn,{theme:e,langIndex:t,data:i,height:C.pData.height})]}),s.jsx("div",{style:z(e,n).text,children:(t===0?"Талия: ":"Waist: ")+ce(i,1,t)}),s.jsx("div",{style:z(e,n).text,children:(t===0?"Бедра: ":"Hip: ")+ce(i,4,t)}),s.jsx("div",{style:z(e,n).text,children:(t===0?"Грудь: ":"Chest: ")+ce(i,3,t)})]}),s.jsxs("div",{style:{border:`1px solid ${a.get("border",e)}`,borderRadius:"12px",boxShadow:`0px 0px 10px ${a.get("shadow",e)}`,display:"flex",flexDirection:"column",width:"90%",justifyContent:"center",alignItems:"flex-start",padding:"10px",marginTop:"8px"},children:[s.jsx("div",{style:{...z(e,n).text,width:"90%",borderBottom:`1px solid ${a.get("border",e)}`},children:t===0?"Расчеты":"Calculations"}),s.jsx("div",{style:z(e,n).text,children:(t===0?"Тип телосложения: ":"Body type: ")+zn(Be(l,f,o),t)}),s.jsx("div",{style:{...z(e,n).text,color:Wn(e,i,C.pData.height)},children:(t===0?"ИМТ: ":"BMI: ")+Ln(i,t,l)}),s.jsx("div",{style:z(e,n).text,children:(t===0?"Идеальный вес: ":"Ideal weight: ")+Tn(l,o,Be(l,f,o)).toFixed(1)+(t===0?" кг":" kg")}),s.jsx("div",{style:z(e,n).text,children:(t===0?"Базовый метаболизм: ":"Basic metabolism: ")+Nn(i,t,l,d,o)})]})]})]}),h&&s.jsx("div",{onClick:()=>g(!1),style:{width:"100vw",top:0,height:"100vh",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9e3,backgroundColor:"rgba(0,0,0,0.6)"},children:s.jsxs("div",{style:{width:"90%",height:"70%",backgroundColor:a.get("background",e),borderRadius:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[s.jsx("div",{style:{...z(e,n).text,margin:"10px",whiteSpace:"pre-wrap"},children:Hn(t)}),s.jsx("div",{style:{...z(e,n).subtext,margin:"10px",textAlign:"center"},children:t===0?"!нажми чтобы закрыть!":"!tap to close!"})]})}),r&&i[0].length>0&&s.jsx(An,{bmi:tt(i[0][i[0].length-1]?.value,l,d,o),trains:Bt()})]})},z=(e,t,n=!1)=>({panel:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyItems:"center"},panelRow:{display:"flex",width:"90%",alignItems:"center",justifyContent:"flex-start",marginTop:"10px",gap:"10px",borderBottom:`1px solid ${a.get("border",e)}`},textDate:{textAlign:"center",fontSize:"18px",color:a.get("mainText",e),marginBottom:"4px"},text:{textAlign:"left",fontSize:t===0?"13px":"15px",color:a.get("mainText",e),margin:"2px"},subtext:{textAlign:"left",fontSize:t===0?"11px":"13px",color:a.get("subText",e)},icon:{fontSize:"18px",marginLeft:"15px",color:a.get("icons",e)}}),ge=(e,t)=>e<=0||t<=0?null:e/Math.pow(t/100,2),Be=(e,t,n)=>{if(!e||!t)return"medium";const i=typeof n=="number"?n===0?"male":"female":n,r=t,l=e/2.54;return i==="male"?l>65?r<6.5*2.54?"small":r<=7.5*2.54?"medium":"large":l>=62?r<6*2.54?"small":r<=6.5*2.54?"medium":"large":r<5.5*2.54?"small":r<=6*2.54?"medium":"large":r<5.5*2.54?"small":r<=6*2.54?"medium":"large"},Tn=(e,t,n="medium")=>{const i=e/2.54;let r;return t===0?r=50+2.3*(i-60):r=45.5+2.3*(i-60),n==="small"?r*=.9:n==="large"&&(r*=1.1),Math.max(r,30)},En=(e,t,n)=>{if(e<=0||t<18)return null;const i=n==="male"?1:0,r=1.2*e+.23*t-10.8*i-5.4;return Math.max(0,Math.min(100,r))},tt=(e,t,n,i)=>e<=0||t<=0||n<=0?null:i==="male"?10*e+6.25*t-5*n+5:10*e+6.25*t-5*n-161,Fn=(e,t)=>e<16?t===0?"выраженный дефицит массы":"severe thinness":e<17?t===0?"умеренный дефицит массы":"moderate thinness":e<18.5?t===0?"недостаточная масса":"mild thinness":e<25?t===0?"норма":"normal":e<30?t===0?"избыточная масса":"overweight":e<35?t===0?"ожирение I степени":"obesity class I":e<40?t===0?"ожирение II степени":"obesity class II":t===0?"ожирение III степени":"obesity class III",Wn=(e,t,n)=>{const i=ge(t[0][t[0].length-1].value,n);return i>18.5&&i<25?a.get("light",e):a.get("heavy",e)},zn=(e,t)=>{switch(e){case"small":return t===0?"астеник":"asthenic";case"medium":return t===0?"нормостеник":"normosthenic";case"large":return t===0?"гиперстеник":"hypersthenic";default:return t===0?"неизвестно":"unknown"}},ce=(e,t,n)=>{if(e[t].length===0)return"-";const i=t<1?n===0?" кг":" kg":n===0?" см":" sm";return e[t][e[t].length-1].value.toFixed(1)+i},Ln=(e,t,n)=>{if(e[0][e[0].length-1].value===null)return"-";const i=ge(e[0][e[0].length-1].value,n);return i.toFixed(1)+" "+Fn(i,t)},Bn=(e,t,n,i)=>e[0][e[0].length-1].value===null?"-":En(ge(e[0][e[0].length-1].value,t),n,i).toFixed(),Nn=(e,t,n,i,r)=>e[0][e[0].length-1].value===null?"-":tt(e[0][e[0].length-1].value,n,i,r).toFixed()+(t===0?" ккал":" kcal"),$n=(e,t)=>{if(e[0][e[0].length-1].value===null)return 1;const n=ge(e[0][e[0].length-1].value,t);return n<18.5?0:n<25?1:n<35?2:3},On=({theme:e,langIndex:t,data:n})=>{const i=n[1]?.[n[1]?.length-1],r=n[4]?.[n[4]?.length-1];if(!i||!r)return null;const l=i.value,d=r.value,o=l/d,x=C.pData.gender===0;let f="normal",h=t===0?"Норма":"Normal";x?o>=.9&&o<1?f="elevated":o>=1&&(f="high",h=t===0?"Повышенный риск":"High risk"):o>=.85&&o<.9?f="elevated":o>=.9&&(f="high",h=t===0?"Повышенный риск":"High risk");const g=f==="normal"?a.get("maxValColor",e):f==="elevated"?a.get("minValColor",e):a.get("danger",e);return s.jsx("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",backgroundColor:g,borderRadius:"5px",minWidth:"45%"},children:s.jsxs("span",{style:{...z(e,!1,!1).text,color:a.get("background",e),fontSize:"12px"},children:["WHR: ",o.toFixed(2),h]})})},Gn=({theme:e,langIndex:t,data:n,height:i})=>{const r=n[1]?.[n[1]?.length-1];if(!r)return null;const d=r.value/i;let o="normal";d>=.5&&d<.6?o="elevated":d>=.6&&(o="high");const x=o==="normal"?a.get("maxValColor",e):o==="elevated"?a.get("minValColor",e):a.get("danger",e);return s.jsx("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",backgroundColor:x,borderRadius:"5px",minWidth:"45%"},children:s.jsxs("span",{style:{...z(e,!1,!1).text,color:a.get("background",e),fontSize:"12px"},children:["WHtR: ",d.toFixed(2)]})})},Hn=e=>e===0?`• **ИМТ (Индекс массы тела)** — соотношение веса и роста.  
Норма: 18.5–24.9. Выше 25 — избыточный вес, выше 30 — ожирение. ИМТ не учитывает мышечную массу.  

• **WHR (Талия–бедра)** — окружность талии ÷ окружность бёдер.  
У мужчин: <0.95 — низкий риск, >1.0 — высокий.  
У женщин: <0.80 — низкий риск, >0.85 — высокий.  
Высокий WHR связан с риском сердечно-сосудистых заболеваний и диабета.  

• **WHtR (Талия–рост)** — окружность талии ÷ рост.  
Здоровый уровень: <0.5. Значение ≥0.5 указывает на повышенный риск хронических заболеваний, независимо от ИМТ.  

• **Базальный метаболизм (BMR)** — количество калорий, необходимых организму в покое для поддержания жизненных функций.  
Рассчитывается по формулам (например, Миффлина–Сан Жеора) с учётом возраста, пола, веса и роста.  
Используется как основа для расчёта суточных энергозатрат.`:`• **BMI (Body Mass Index)** — weight-to-height ratio.  
Normal range: 18.5–24.9. ≥25 indicates overweight, ≥30 indicates obesity. BMI does not account for muscle mass.  

• **WHR (Waist-to-Hip Ratio)** — waist circumference ÷ hip circumference.  
Men: <0.95 = low risk, >1.0 = high risk.  
Women: <0.80 = low risk, >0.85 = high risk.  
High WHR is linked to increased risk of heart disease and type 2 diabetes.  

• **WHtR (Waist-to-Height Ratio)** — waist circumference ÷ height.  
Healthy target: <0.5. A value ≥0.5 suggests elevated risk of chronic diseases, regardless of BMI.  

• **Basal Metabolic Rate (BMR)** — calories your body needs at rest to maintain vital functions.  
Calculated using equations (e.g., Mifflin-St Jeor) based on age, sex, weight, and height.  
Serves as the foundation for estimating daily calorie needs.`;var nt=(e,t,n)=>Ye(e,"xAxis",Se(e,t),n),st=(e,t,n)=>Xe(e,"xAxis",Se(e,t),n),it=(e,t,n)=>Ye(e,"yAxis",ke(e,t),n),rt=(e,t,n)=>Xe(e,"yAxis",ke(e,t),n),_n=xe([Ce,nt,it,st,rt],(e,t,n,i,r)=>Ue(e,"xAxis")?Ee(t,i,!1):Ee(n,r,!1)),Kn=(e,t)=>t,at=xe([Ht,Kn],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),ot=e=>{var t=Ce(e),n=Ue(t,"xAxis");return n?"yAxis":"xAxis"},Vn=(e,t)=>{var n=ot(e);return n==="yAxis"?ke(e,t):Se(e,t)},Yn=(e,t,n)=>Ot(e,ot(e),Vn(e,t),n),Xn=xe([at,Yn],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:i}=e,r=Gt(e);if(!(i==null||r==null)){var l=(n=t[i])===null||n===void 0?void 0:n.stackedData,d=l?.find(o=>o.key===r);if(d!=null)return d.map(o=>[o[0],o[1]])}}}),Un=xe([Ce,nt,it,st,rt,Xn,Nt,_n,at,$t],(e,t,n,i,r,l,d,o,x,f)=>{var{chartData:h,dataStartIndex:g,dataEndIndex:m}=d;if(!(x==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||i==null||r==null||i.length===0||r.length===0||o==null)){var{data:v}=x,A;if(v&&v.length>0?A=v:A=h?.slice(g,m+1),A!=null)return gs({layout:e,xAxis:t,yAxis:n,xAxisTicks:i,yAxisTicks:r,dataStartIndex:g,areaSettings:x,stackedData:l,displayedData:A,chartBaseValue:f,bandSize:o})}}),Jn=["id"],qn=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},J.apply(null,arguments)}function lt(e,t){if(e==null)return{};var n,i,r=Zn(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zn(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ne(Object(n),!0).forEach(function(i){Qn(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Qn(e,t,n){return(t=es(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function es(e){var t=ts(e,"string");return typeof t=="symbol"?t:t+""}function ts(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pe(e,t){return e&&e!=="none"?e:t}var ns=e=>{var{dataKey:t,name:n,stroke:i,fill:r,legendType:l,hide:d}=e;return[{inactive:d,dataKey:t,type:l,color:pe(i,r),value:Ze(n,t),payload:e}]},ss=c.memo(e=>{var{dataKey:t,data:n,stroke:i,strokeWidth:r,fill:l,name:d,hide:o,unit:x,tooltipType:f,id:h}=e,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:i,strokeWidth:r,fill:l,dataKey:t,nameKey:void 0,name:Ze(d,t),hide:o,type:f,color:pe(i,l),unit:x,graphicalItemId:h}};return c.createElement(Jt,{tooltipEntrySettings:g})});function is(e){var{clipPathId:t,points:n,props:i}=e,{needClip:r,dot:l,dataKey:d}=i,o=Qe(i);return c.createElement(hn,{points:n,dot:l,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:d,baseProps:o,needClip:r,clipPathId:t})}function rs(e){var{showLabels:t,children:n,points:i}=e,r=i.map(l=>{var d,o,x={x:(d=l.x)!==null&&d!==void 0?d:0,y:(o=l.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Z(Z({},x),{},{value:l.value,payload:l.payload,parentViewBox:void 0,viewBox:x,fill:void 0})});return c.createElement(xn,{value:t?r:void 0},n)}function $e(e){var{points:t,baseLine:n,needClip:i,clipPathId:r,props:l}=e,{layout:d,type:o,stroke:x,connectNulls:f,isRange:h}=l,{id:g}=l,m=lt(l,Jn),v=Qe(m),A=gn(m);return c.createElement(c.Fragment,null,t?.length>1&&c.createElement(de,{clipPath:i?"url(#clipPath-".concat(r,")"):void 0},c.createElement(we,J({},A,{id:g,points:t,connectNulls:f,type:o,baseLine:n,layout:d,stroke:"none",className:"recharts-area-area"})),x!=="none"&&c.createElement(we,J({},v,{className:"recharts-area-curve",layout:d,type:o,connectNulls:f,fill:"none",points:t})),x!=="none"&&h&&c.createElement(we,J({},v,{className:"recharts-area-curve",layout:d,type:o,connectNulls:f,fill:"none",points:n}))),c.createElement(is,{points:t,props:m,clipPathId:r}))}function as(e){var t,n,{alpha:i,baseLine:r,points:l,strokeWidth:d}=e,o=(t=l[0])===null||t===void 0?void 0:t.y,x=(n=l[l.length-1])===null||n===void 0?void 0:n.y;if(!ue(o)||!ue(x))return null;var f=i*Math.abs(o-x),h=Math.max(...l.map(g=>g.x||0));return Q(r)?h=Math.max(r,h):r&&Array.isArray(r)&&r.length&&(h=Math.max(...r.map(g=>g.x||0),h)),Q(h)?c.createElement("rect",{x:0,y:o<x?o:o-f,width:h+(d?parseInt("".concat(d),10):1),height:Math.floor(f)}):null}function os(e){var t,n,{alpha:i,baseLine:r,points:l,strokeWidth:d}=e,o=(t=l[0])===null||t===void 0?void 0:t.x,x=(n=l[l.length-1])===null||n===void 0?void 0:n.x;if(!ue(o)||!ue(x))return null;var f=i*Math.abs(o-x),h=Math.max(...l.map(g=>g.y||0));return Q(r)?h=Math.max(r,h):r&&Array.isArray(r)&&r.length&&(h=Math.max(...r.map(g=>g.y||0),h)),Q(h)?c.createElement("rect",{x:o<x?o:o-f,y:0,width:f,height:Math.floor(h+(d?parseInt("".concat(d),10):1))}):null}function ls(e){var{alpha:t,layout:n,points:i,baseLine:r,strokeWidth:l}=e;return n==="vertical"?c.createElement(as,{alpha:t,points:i,baseLine:r,strokeWidth:l}):c.createElement(os,{alpha:t,points:i,baseLine:r,strokeWidth:l})}function cs(e){var{needClip:t,clipPathId:n,props:i,previousPointsRef:r,previousBaselineRef:l}=e,{points:d,baseLine:o,isAnimationActive:x,animationBegin:f,animationDuration:h,animationEasing:g,onAnimationStart:m,onAnimationEnd:v}=i,A=c.useMemo(()=>({points:d,baseLine:o}),[d,o]),D=on(A,"recharts-area-"),R=ln(),[I,S]=c.useState(!1),T=!I,j=c.useCallback(()=>{typeof v=="function"&&v(),S(!1)},[v]),P=c.useCallback(()=>{typeof m=="function"&&m(),S(!0)},[m]);if(R==null)return null;var L=r.current,$=l.current;return c.createElement(rs,{showLabels:T,points:d},i.children,c.createElement(cn,{animationId:D,begin:f,duration:h,isActive:x,easing:g,onAnimationEnd:j,onAnimationStart:P,key:D},y=>{if(L){var E=L.length/d.length,W=y===1?d:d.map((M,G)=>{var N=Math.floor(G*E);if(L[N]){var F=L[N];return Z(Z({},M),{},{x:q(F.x,M.x,y),y:q(F.y,M.y,y)})}return M}),B;return Q(o)?B=q($,o,y):dn(o)||un(o)?B=q($,0,y):B=o.map((M,G)=>{var N=Math.floor(G*E);if(Array.isArray($)&&$[N]){var F=$[N];return Z(Z({},M),{},{x:q(F.x,M.x,y),y:q(F.y,M.y,y)})}return M}),y>0&&(r.current=W,l.current=B),c.createElement($e,{points:W,baseLine:B,needClip:t,clipPathId:n,props:i})}return y>0&&(r.current=d,l.current=o),c.createElement(de,null,x&&c.createElement("defs",null,c.createElement("clipPath",{id:"animationClipPath-".concat(n)},c.createElement(ls,{alpha:y,points:d,baseLine:o,layout:R,strokeWidth:i.strokeWidth}))),c.createElement(de,{clipPath:"url(#animationClipPath-".concat(n,")")},c.createElement($e,{points:d,baseLine:o,needClip:t,clipPathId:n,props:i})))}),c.createElement(pn,{label:i.label}))}function ds(e){var{needClip:t,clipPathId:n,props:i}=e,r=c.useRef(null),l=c.useRef();return c.createElement(cs,{needClip:t,clipPathId:n,props:i,previousPointsRef:r,previousBaselineRef:l})}class us extends c.PureComponent{render(){var{hide:t,dot:n,points:i,className:r,top:l,left:d,needClip:o,xAxisId:x,yAxisId:f,width:h,height:g,id:m,baseLine:v,zIndex:A}=this.props;if(t)return null;var D=At("recharts-area",r),R=m,{r:I,strokeWidth:S}=nn(n),T=sn(n),j=I*2+S,P=o?"url(#clipPath-".concat(T?"":"dots-").concat(R,")"):void 0;return c.createElement(rn,{zIndex:A},c.createElement(de,{className:D},o&&c.createElement("defs",null,c.createElement(an,{clipPathId:R,xAxisId:x,yAxisId:f}),!T&&c.createElement("clipPath",{id:"clipPath-dots-".concat(R)},c.createElement("rect",{x:d-j/2,y:l-j/2,width:h+j,height:g+j}))),c.createElement(ds,{needClip:o,clipPathId:R,props:this.props})),c.createElement(Fe,{points:i,mainColor:pe(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}),this.props.isRange&&Array.isArray(v)&&c.createElement(Fe,{points:v,mainColor:pe(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}))}}var ct={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Kt.area};function ps(e){var t,n=Je(e,ct),{activeDot:i,animationBegin:r,animationDuration:l,animationEasing:d,connectNulls:o,dot:x,fill:f,fillOpacity:h,hide:g,isAnimationActive:m,legendType:v,stroke:A,xAxisId:D,yAxisId:R}=n,I=lt(n,qn),S=qt(),T=Zt(),{needClip:j}=Qt(D,R),P=qe(),{points:L,isRange:$,baseLine:y}=(t=en(N=>Un(N,e.id,P)))!==null&&t!==void 0?t:{},E=tn();if(S!=="horizontal"&&S!=="vertical"||E==null||T!=="AreaChart"&&T!=="ComposedChart")return null;var{height:W,width:B,x:M,y:G}=E;return!L||!L.length?null:c.createElement(us,J({},I,{activeDot:i,animationBegin:r,animationDuration:l,animationEasing:d,baseLine:y,connectNulls:o,dot:x,fill:f,fillOpacity:h,height:W,hide:g,layout:S,isAnimationActive:m==="auto"?!fn.isSsr:m,isRange:$,legendType:v,needClip:j,points:L,stroke:A,width:B,left:M,top:G,xAxisId:D,yAxisId:R}))}var xs=(e,t,n,i,r)=>{var l=n??t;if(Q(l))return l;var d=e==="horizontal"?r:i,o=d.scale.domain();if(d.type==="number"){var x=Math.max(o[0],o[1]),f=Math.min(o[0],o[1]);return l==="dataMin"?f:l==="dataMax"||x<0?x:Math.max(Math.min(o[0],o[1]),0)}return l==="dataMin"?o[0]:l==="dataMax"?o[1]:o[0]};function gs(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:i},stackedData:r,layout:l,chartBaseValue:d,xAxis:o,yAxis:x,displayedData:f,dataStartIndex:h,xAxisTicks:g,yAxisTicks:m,bandSize:v}=e,A=r&&r.length,D=xs(l,d,n,o,x),R=l==="horizontal",I=!1,S=f.map((j,P)=>{var L,$,y;if(A)y=r[h+P];else{var E=We(j,i);Array.isArray(E)?(y=E,I=!0):y=[D,E]}var W=(L=($=y)===null||$===void 0?void 0:$[1])!==null&&L!==void 0?L:null,B=W==null||A&&!t&&We(j,i)==null;return R?{x:ze({axis:o,ticks:g,bandSize:v,entry:j,index:P}),y:B?null:x.scale(W),value:y,payload:j}:{x:B?null:o.scale(W),y:ze({axis:x,ticks:m,bandSize:v,entry:j,index:P}),value:y,payload:j}}),T;return A||I?T=S.map(j=>{var P=Array.isArray(j.value)?j.value[0]:null;return R?{x:j.x,y:P!=null&&j.y!=null?x.scale(P):null,payload:j.payload}:{x:P!=null?o.scale(P):null,y:j.y,payload:j.payload}}):T=R?x.scale(D):o.scale(D),{points:S,baseLine:T,isRange:I}}function hs(e){var t=Je(e,ct),n=qe();return c.createElement(Vt,{id:t.id,type:"area"},i=>c.createElement(c.Fragment,null,c.createElement(Yt,{legendPayload:ns(t)}),c.createElement(ss,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),c.createElement(Xt,{type:"area",id:i,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Ut(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),c.createElement(ps,J({},t,{id:i}))))}var dt=c.memo(hs,_t);dt.displayName="Area";var fs=["axis"],ms=c.forwardRef((e,t)=>c.createElement(mn,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fs,tooltipPayloadSearcher:yn,categoricalChartProps:e,ref:t}));function ys({data:e,fillColor:t,textColor:n,linesColor:i,backgroundColor:r}){return e?.length?s.jsx(vn,{width:"100%",height:"100%",className:"areachart",children:s.jsxs(ms,{data:e,margin:{top:8,right:5,bottom:8},children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"weightGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:t,stopOpacity:.7}),s.jsx("stop",{offset:"100%",stopColor:t,stopOpacity:0})]})}),s.jsx(bn,{strokeDasharray:"3 3",stroke:i,vertical:!1}),s.jsx(jn,{dataKey:"date",tickLine:!0,axisLine:!0,fontSize:11,stroke:n}),s.jsx(wn,{tickLine:!0,axisLine:!0,fontSize:11,stroke:n,domain:["dataMin - 2","dataMax + 2"]}),s.jsx(Cn,{labelStyle:{color:n},contentStyle:{background:r,border:"1px solid #1f2933"},formatter:l=>[`${l.toFixed(1)} кг`,"Вес"]}),s.jsx(dt,{type:"monotone",dataKey:"weight",stroke:t,strokeWidth:2,fill:"url(#weightGradient)",dot:!0,activeDot:{r:4,fill:t,strokeWidth:0}})]})}):null}const vs=({startValue:e=50,endValue:t=70,mediumValue:n=60,unit:i="kg",langIndex:r=0,goal:l=0,size:d=120,textColor:o="#acbac3ff",linesColor:x="#34495e",minColor:f="#e74c3c",maxColor:h="#2ecc71",mediumcolor:g="#3498db",baseColor:m="#95a5a6"})=>{const v=x,A=g,D=t-e,R=Math.abs(D),I=D===0,S=l===0?D>0:D<0,T=I?"➖":S?"↗️":"↘️",j=D>=0?"+":"−",P=I?o:S?h:f;let L=S?f:h,$=S?h:f;I&&(L=h,$=h);const y=d/2,E=9,W=E/2,B=y-E/2,M=B-W-E/2,G=M-W-E/2,N=2*Math.PI*B,F=2*Math.PI*M,he=2*Math.PI*G,U=Math.max(e,n,t)*1.1,fe=r===0?`Начало: ${e.toFixed(2)} ${i}
Конец: ${t.toFixed(2)} ${i}
Среднее: ${n.toFixed(2)} ${i}
Изменение: ${j}${R.toFixed(2)} ${i}`:`Start: ${e.toFixed(2)} ${i}
End: ${t.toFixed(2)} ${i}
Average: ${n.toFixed(2)} ${i}
Change: ${j}${R.toFixed(2)} ${i}`;return s.jsxs("div",{style:{display:"inline-block",width:d,height:d,position:"relative",cursor:"help"},title:fe,children:[s.jsxs("svg",{width:d,height:d,viewBox:`0 0 ${d} ${d}`,children:[s.jsx("circle",{cx:y,cy:y,r:B,fill:"none",stroke:v,strokeWidth:E}),s.jsx("circle",{cx:y,cy:y,r:B,fill:"none",stroke:L,strokeWidth:E,strokeDasharray:N,strokeDashoffset:N*(1-e/U),strokeLinecap:"round"}),s.jsx("circle",{cx:y,cy:y,r:M,fill:"none",stroke:v,strokeWidth:E}),s.jsx("circle",{cx:y,cy:y,r:M,fill:"none",stroke:A,strokeWidth:E,strokeDasharray:F,strokeDashoffset:F*(1-n/U),strokeLinecap:"round"}),s.jsx("circle",{cx:y,cy:y,r:G,fill:"none",stroke:v,strokeWidth:E}),s.jsx("circle",{cx:y,cy:y,r:G,fill:"none",stroke:$,strokeWidth:E,strokeDasharray:he,strokeDashoffset:he*(1-t/U),strokeLinecap:"round"})]}),s.jsxs("div",{style:{position:"absolute",top:0,left:0,width:d,height:d,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:o,fontSize:"12px",fontWeight:"bold",lineHeight:1.2},children:[s.jsxs("div",{style:{fontSize:"14px",opacity:.8,color:L},children:[r===0?"Начало:":"Start:"," ",e.toFixed(1)," ",i]}),s.jsxs("div",{style:{fontSize:"24px",marginTop:"4px",display:"flex",alignItems:"center",color:P,gap:"4px"},children:[T,s.jsxs("span",{children:[j,R.toFixed(1)," ",i]})]}),s.jsxs("div",{style:{fontSize:"14px",color:$,marginTop:"4px"},children:[r===0?"Конец:":"End:"," ",t.toFixed(1)," ",i]}),s.jsxs("div",{style:{fontSize:"10px",color:A,marginTop:"4px"},children:[r===0?"Среднее:":"Medium:"," ",n.toFixed(1)," ",i]})]})]})},Oe=[["Вес","Weight"],["Талия","Waist"],["Бицепс","Biceps"],["Грудь","Chest"],["Бёдра","Hips"]],Ge=[["месяц","month"],["пол года","half year"],["год","year"]],bs=[28,180,360],js=({theme:e,langIndex:t,fSize:n,data:i})=>{const[r,l]=c.useState(0),[d,o]=c.useState(0),[x,f]=c.useState(C.pData.goal);c.useEffect(()=>{f(C.pData.goal)},[C.pData.goal]);const g=(()=>{const I=i[r]||[];if(I.length===0)return[];const S=new Date,T=new Date(S);return T.setDate(S.getDate()-bs[d]),I.filter(j=>new Date(j.date)>=T).sort((j,P)=>new Date(j.date)-new Date(P.date))})(),m=ws(g),v=g.length>0?g[g.length-1].value:0,A=g.length>0?g[0].value:v,D=g.length>0?g.reduce((I,S)=>I+S.value,0)/g.length:v,R=I=>I===0?"kg":"cm";return s.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",marginRight:"40px"},children:[s.jsx("div",{style:{width:"100%",height:"240px"},children:s.jsx(ys,{data:m,fillColor:a.get(As(x,A,v),e),textColor:a.get("subText",e),linesColor:a.get("border",e),backgroundColor:a.get("background",e)})}),s.jsxs("div",{style:{width:"100%",height:"35vh",display:"flex",flexDirection:"column",justifyContent:"space-between",marginLeft:"30px",alignItems:"center"},children:[s.jsx(Ss,{theme:e,langIndex:t,fSize:n,metricIndex:r,setMetricIndex:l}),s.jsx(ks,{theme:e,langIndex:t,fSize:n,periodIndex:d,setPeriodIndex:o}),s.jsx(vs,{startValue:A,endValue:v,mediumValue:D,unit:R(r),langIndex:t,goal:x===2?1:0,size:210,textColor:a.get("mainText",e),linesColor:a.get("linesColor",e),minColor:a.get("regress",e),maxColor:a.get("areaChart",e),mediumcolor:a.get("icons",e),baseColor:a.get("background",e)})]})]})};function ws(e){return e.map(t=>({date:Cs(t.date),weight:Math.round(t.value)}))}function Cs(e){const t=e.split("-");return`${t[2]}.${t[1]}`}const Ss=({theme:e,langIndex:t,fSize:n,metricIndex:i,setMetricIndex:r})=>s.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottm:"5px",padding:"2px",backgroundColor:a.get("panel",e),borderRadius:"12px"},children:Oe.map((l,d)=>s.jsxs("span",{onClick:()=>r(d),style:{padding:"6px 10px",cursor:"pointer",fontSize:n===0?"12px":"14px",fontWeight:i===d?"600":"400",color:i===d?a.get("mainText",e):a.get("subText",e),opacity:i===d?1:.7,transition:"all 0.2s ease"},children:[l[t],d<Oe.length-1&&s.jsx("span",{style:{margin:"0 8px",color:a.get("border",e)},children:"|"})]},d))}),ks=({theme:e,langIndex:t,fSize:n,periodIndex:i,setPeriodIndex:r})=>s.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:"8px 0"},children:Ge.map((l,d)=>s.jsxs("span",{onClick:()=>r(d),style:{padding:"6px 10px",cursor:"pointer",fontSize:n===0?"11px":"13px",fontWeight:i===d?"600":"400",color:i===d?a.get("mainText",e):a.get("subText",e),opacity:i===d?1:.8,transition:"all 0.2s ease"},children:[l[t],d<Ge.length-1&&s.jsx("span",{style:{margin:"0 8px",color:a.get("border",e),fontSize:n===0?"12px":"14px"},children:"|"})]},d))}),As=(e,t,n)=>e===2?t<n?"regress":"areaChart":t<n?"areaChart":"regress",Ds=[["Вес тела","Body weight"],["Обхват талии","Waist circumference"],["Обхват бицепса","Biceps circumference"],["Обхват груди","Chest circumference"],["Обхват бедра","Hip circumference"]],X=new Date,Is=[["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],["January","February","March","April","May","June","July","August","September","October","November","December"]],He=[["Набор массы","Mass gain"],["Сила","Strength"],["Жиросжигание","Weight loss"],["Здоровье","Health"]],zs=()=>{const[e,t]=c.useState("dark"),[n,i]=c.useState(C.prefs[0]),[r,l]=c.useState(C.prefs[4]),[d,o]=c.useState(Dt.hasPremium),[x,f]=c.useState(-2),[h,g]=c.useState(-1),[m,v]=c.useState(C.measurements),[A,D]=c.useState(!1),[R,I]=c.useState(!1),[S,T]=c.useState(!1),[j,P]=c.useState(!1),[L,$]=c.useState(0),[y,E]=c.useState(X.getFullYear()),[W,B]=c.useState(X.getMonth()),[M,G]=c.useState(X.getDate()),[N,F]=c.useState(0),[he,U]=c.useState({start:0,end:0}),[fe,ut]=c.useState(C.pData.filled),[te,me]=c.useState(C.pData.age),[_,Ae]=c.useState(C.pData.gender),[ne,ye]=c.useState(C.pData.height),[se,ve]=c.useState(C.pData.wrist),[ie,De]=c.useState(C.pData.goal),[re,pt]=c.useState("volume");c.useEffect(()=>{const u=_e.subscribe(t),w=Ke.subscribe(O=>{i(O==="ru"?0:1)}),b=Ve.subscribe(O=>{l(O)}),k=It.subscribe(o);return()=>{u.unsubscribe(),w.unsubscribe(),b.unsubscribe(),k.unsubscribe()}},[]),c.useEffect(()=>{const u=m[0];if(!Array.isArray(u)||u.length===0){U({start:0,end:0});return}if(u.length<2){U({start:0,end:0});return}const w=u[0].value,b=u[u.length-1].value;U({start:w,end:b})},[L,m]);const xt=K(()=>H(!1,0)),gt=K(()=>H(!0,0)),ht=K(()=>H(!1,1)),ft=K(()=>H(!0,1)),mt=K(()=>H(!1,2)),yt=K(()=>H(!0,2)),Ie=K(()=>F(u=>u-.1>1?u-.1:1)),Pe=K(()=>F(u=>u+.1)),H=(u,w)=>{w===2?G(b=>{const k=new Date(y,W,0).getDate();let O=b;return u?b<k&&new Date(y,W-1,b+1).getTime()<=X.getTime()&&(O=b+1):b>1&&(O=b-1),O}):w===1?B(b=>{let k=b;u?b<12&&new Date(y,b,M).getTime()<=X.getTime()&&(k=b+1):b>1&&(k=b-1);const O=new Date(y,k,0).getDate();return M>O&&G(O),k}):w===0&&E(b=>{let k=b;u?b<X.getFullYear()&&new Date(b+1,W-1,M).getTime()<=X.getTime()&&(k=b+1):b>X.getFullYear()-1&&(k=b-1);const O=new Date(k,W,0).getDate();return M>O&&G(O),k})},be=u=>u<0||u>=C.measurements.length?[]:C.measurements[u],vt=async()=>{if(N===""||x===-1)return;const u=new Date(y,W,M).toISOString().split("T")[0],w=parseFloat(N);if(isNaN(w))return;const b={date:u,value:w},k=[...be(x)],O=k.findIndex(je=>je.date===u);O>=0?k[O]=b:k.push(b),k.sort((je,kt)=>new Date(je.date)-new Date(kt.date)),C.measurements[x]=k,await le(),D(!1),F(""),v(C.measurements)},bt=async()=>{if(x===-1||h===-1)return;const u=[...be(x)];u.splice(h,1),C.measurements[x]=u,await le(),T(!1),v(C.measurements)},jt=async()=>{if(N===""||x===-1||h===-1)return;const u=new Date(y,W,M).toISOString().split("T")[0],w=parseFloat(N);if(isNaN(w))return;const b={date:u,value:w},k=[...be(x)];k[h]=b,C.measurements[x]=k,await le(),I(!1),F(""),v(C.measurements)},wt=u=>{g(u),F(m[x][u].value),I(!0)},Ct=u=>{g(u),T(!0)},St=async()=>{C.pData={filled:!0,age:te,gender:_,height:ne,wrist:se,goal:ie},await le(),ut(!0),P(!1)};return s.jsxs("div",{style:p(e).container,children:[s.jsx(Sn,{type:1,theme:e,langIndex:n,activeTab:re,onChange:pt}),re==="volume"&&s.jsxs("div",{style:p(e).container,children:[s.jsx("div",{style:p(e).panel,children:s.jsxs("div",{style:p(e,r,x===-1).groupPanel,onClick:()=>{f(u=>u===-1?-2:-1)},children:[x===-1?s.jsx(Me,{style:p(e).icon}):s.jsx(Te,{style:p(e).icon}),s.jsx("div",{style:p(e,r).text,children:n===0?"Личные данные":"Personal data"}),x===-1?s.jsx(Re,{onClick:u=>{P(!0),u.stopPropagation()},style:{...p(e).icon,fontSize:"18px",marginRight:"50px",marginLeft:"auto"}}):null,s.jsx(Pt,{style:{...p(e).icon,fontSize:"28px",marginRight:"35px",marginLeft:"auto"}})]})}),x===-1&&s.jsxs("div",{style:{marginTop:"8px",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[s.jsx("div",{style:p(e,r).panelRow,children:s.jsx("div",{style:p(e,r).text,children:(n===0?"Возраст: ":"Age: ")+te+(n===0?" лет":" yers old")})}),s.jsx("div",{style:p(e,r).panelRow,children:s.jsx("div",{style:p(e,r).text,children:(n===0?"Пол: ":"Gender: ")+(_===0?n===0?"мужской":"male":n===0?"женский":"female")})}),s.jsx("div",{style:p(e,r).panelRow,children:s.jsx("div",{style:p(e,r).text,children:(n===0?"Рост: ":"Height: ")+ne+(n===0?" см":" sm")})}),s.jsx("div",{style:p(e,r).panelRow,children:s.jsx("div",{style:p(e,r).text,children:(n===0?"Запястье: ":"Wrist size: ")+se+(n===0?" см":" sm")})}),s.jsx("div",{style:p(e,r).panelRow,children:s.jsx("div",{style:p(e,r).text,children:(n===0?"Цель: ":"Goal: ")+He[ie][n]})})]}),m.map((u,w)=>s.jsxs("div",{style:p(e).panel,children:[s.jsxs("div",{style:p(e,r,x===w).groupPanel,onClick:()=>{f(b=>b===w?-2:w)},children:[x===w?s.jsx(Me,{style:p(e).icon}):s.jsx(Te,{style:p(e).icon}),s.jsx("div",{style:p(e,r).text,children:Ds[w][n]}),x===w?s.jsx(Rt,{onClick:b=>{D(!0),F(m[w][m[w].length-1]?.value||0),b.stopPropagation()},style:{...p(e).icon,fontSize:"18px",marginRight:"50px",marginLeft:"auto"}}):null,w>0?kn.get(w-1,n,e):s.jsx(Mt,{style:{...p(e).icon,fontSize:"28px",marginRight:"35px",marginLeft:"auto"}})]}),x===w&&s.jsx("div",{style:{marginTop:"8px",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:u.length>0?u.map((b,k)=>s.jsxs("div",{style:p(e,r).panelRow,children:[s.jsxs("div",{style:p(e,r).subtext,children:[b.date,":"]}),s.jsxs("span",{style:p(e,r).text,children:[" ",Number.isInteger(b.value)?b.value:b.value.toFixed(1)+(w===0?n===0?" кг":" kg":n===0?" см":" sm")]}),s.jsx(Ps,{data:m,type:w,ind:k,theme:e,langIndex:n}),s.jsxs("div",{style:{display:"flex",flexDirection:"row",marginRight:"10px",marginLeft:"auto"},children:[s.jsx(Re,{onClick:()=>wt(k),style:{...p(e).icon,fontSize:"14px",marginRight:"10px"}}),s.jsx(Tt,{onClick:()=>Ct(k),style:{...p(e).icon,fontSize:"14px",marginRight:"10px"}})]})]},k)):s.jsx("div",{style:p(e,r).subtext,children:n===0?"Нет данных":"No data"})})]},w)),A&&s.jsx("div",{style:p(e).confirmContainer,children:s.jsxs("div",{style:p(e).cP,children:[s.jsxs("div",{style:{...p(e).simplePanelRow,flexDirection:"column",justifyContent:"space-around",alignItems:"center",backgroundColor:a.get("background",e),width:"95%",height:"60%",borderRadius:"24px"},children:[s.jsx("p",{style:p(e,!1,r).subtext,children:n===0?"установите дату":"set date"}),s.jsxs("div",{style:{...p(e).simplePanelRow,width:"70%"},children:[s.jsx("div",{...xt,onClick:()=>{H(!1,0)},style:{...p(e).miniIcon,fontSize:"20px",marginTop:"15px"},children:s.jsx(V,{style:{userSelect:"none",touchAction:"none"}})}),s.jsxs("p",{style:p(e).textDate,children:[" ",y," "]}),s.jsx("div",{...gt,onClick:()=>{H(!0,0)},style:{...p(e).miniIcon,fontSize:"20px",marginTop:"15px"},children:s.jsx(Y,{style:{userSelect:"none",touchAction:"none"}})})]}),s.jsxs("div",{style:{...p(e).simplePanelRow,width:"70%"},children:[s.jsx("div",{...ht,onClick:()=>{H(!1,1)},style:{...p(e).miniIcon,fontSize:"20px",marginTop:"15px"},children:s.jsx(V,{style:{userSelect:"none",touchAction:"none"}})}),s.jsxs("p",{style:p(e).textDate,children:[" ",Is[n][W]," "]}),s.jsx("div",{...ft,onClick:()=>{H(!0,1)},style:{...p(e).miniIcon,fontSize:"20px",marginTop:"15px"},children:s.jsx(Y,{style:{userSelect:"none",touchAction:"none"}})})]}),s.jsxs("div",{style:{...p(e).simplePanelRow,width:"70%"},children:[s.jsx("div",{...mt,onClick:()=>{H(!1,2)},style:{...p(e).miniIcon,fontSize:"20px",marginTop:"15px"},children:s.jsx(V,{style:{userSelect:"none",touchAction:"none"}})}),s.jsxs("p",{style:p(e).textDate,children:[" ",M," "]}),s.jsx("div",{...yt,onClick:()=>{H(!0,2)},style:{...p(e).miniIcon,fontSize:"20px",marginTop:"15px"},children:s.jsx(Y,{style:{userSelect:"none",touchAction:"none"}})})]})]}),s.jsxs("div",{style:{...p(e).simplePanelRow,flexDirection:"column",justifyContent:"space-around",alignItems:"center",backgroundColor:a.get("background",e),width:"95%",height:"30%",borderRadius:"24px"},children:[s.jsx("p",{style:p(e,!1,r).subtext,children:n===0?"установите значение":"set value"}),s.jsxs("div",{style:{...p(e).simplePanelRow,width:"70%"},children:[s.jsx(V,{...Ie,style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{F(u=>u-.1>1?u-.1:1)}}),s.jsx(ee,{theme:e,w:"100px",h:"40px",fSize:28,placeholder:"0",value:N,onChange:u=>{F(parseInt(u))}}),s.jsx(Y,{...Pe,style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{F(u=>u+.1)}})]})]}),s.jsxs("div",{style:{...p(e).simplePanelRow,height:"60px",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:[s.jsx(ae,{style:{fontSize:"38px",color:a.get("icons",e)},onClick:()=>D(!1)}),s.jsx(oe,{style:{fontSize:"38px",color:a.get("icons",e)},onClick:()=>{vt()}})]})]})}),R&&s.jsx("div",{style:p(e).confirmContainer,children:s.jsxs("div",{style:{...p(e).cP,height:"35%"},children:[s.jsxs("div",{style:{...p(e).simplePanelRow,flexDirection:"column",justifyContent:"space-around",alignItems:"center",backgroundColor:a.get("background",e),width:"95%",height:"30%",borderRadius:"24px"},children:[s.jsx("p",{style:p(e,!1,r).subtext,children:n===0?"установите новое значение":"set new value"}),s.jsxs("div",{style:{...p(e).simplePanelRow,width:"70%"},children:[s.jsx(V,{...Ie,style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{F(u=>u-.1>1?u-.1:1)}}),s.jsx(ee,{theme:e,w:"100px",h:"40px",fSize:28,placeholder:"0",value:N,onChange:u=>{F(parseInt(u))}}),s.jsx(Y,{...Pe,style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{F(u=>u+.1)}})]})]}),s.jsxs("div",{style:{...p(e).simplePanelRow,height:"60px",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:[s.jsx(ae,{style:{fontSize:"38px",color:a.get("icons",e)},onClick:()=>I(!1)}),s.jsx(oe,{style:{fontSize:"38px",color:a.get("icons",e)},onClick:()=>{jt()}})]})]})}),S&&s.jsx("div",{style:p(e).confirmContainer,children:s.jsxs("div",{style:{...p(e).cP,height:"20%"},children:[s.jsx("p",{style:p(e,!1,r).subtext,children:n===0?"удалить данные ?":"delete data?"}),s.jsxs("div",{style:{...p(e).simplePanelRow,height:"60px",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:[s.jsx(ae,{style:{fontSize:"38px",color:a.get("icons",e)},onClick:()=>T(!1)}),s.jsx(oe,{style:{fontSize:"38px",color:a.get("icons",e)},onClick:()=>{bt()}})]})]})}),j&&s.jsx("div",{style:p(e).confirmContainer,children:s.jsxs("div",{style:{...p(e).cP,height:"82%",border:_===0?"2px solid #5fb6c6ff":"2px solid #c65f9dff"},children:[s.jsxs("div",{style:{...p(e).simplePanelRow,flexDirection:"column",justifyContent:"space-around",alignItems:"center",backgroundColor:a.get("background",e),width:"95%",height:"80%",borderRadius:"24px"},children:[s.jsx("p",{style:p(e,!1,r).subtext,children:n===0?"ваш возраст":"your age"}),s.jsxs("div",{style:{...p(e).simplePanelRow,width:"70%"},children:[s.jsx(V,{style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{me(u=>u-1>1?u-1:1)}}),s.jsx(ee,{theme:e,w:"100px",h:"40px",fSize:28,placeholder:"0",value:te,onChange:u=>{me(parseInt(u))}}),s.jsx(Y,{style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{me(u=>u+1)}})]}),s.jsx("p",{style:p(e,!1,r).subtext,children:n===0?"ваш пол":"your gender"}),s.jsxs("div",{style:{...p(e).simplePanelRow,width:"70%"},children:[s.jsx(zt,{style:{fontSize:_===0?"40px":"30px",color:_===0?"#5fb6c6ff":a.get("iconsDisabled",e),userSelect:"none",touchAction:"none"},onClick:()=>{Ae(0)}}),s.jsx(Lt,{style:{fontSize:_===1?"40px":"30px",color:_===1?"#c65f9dff":a.get("iconsDisabled",e),userSelect:"none",touchAction:"none"},onClick:()=>{Ae(1)}})]}),s.jsx("p",{style:p(e,!1,r).subtext,children:n===0?"ваш рост":"your height"}),s.jsxs("div",{style:{...p(e).simplePanelRow,width:"70%"},children:[s.jsx(V,{style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{ye(u=>u-1>1?u-1:1)}}),s.jsx(ee,{theme:e,w:"100px",h:"40px",fSize:28,placeholder:"0",value:ne,onChange:u=>{ye(parseInt(u))}}),s.jsx(Y,{style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{ye(u=>u+1)}})]}),s.jsx("p",{style:p(e,!1,r).subtext,children:n===0?"обхват запястья":"wrist circumference"}),s.jsxs("div",{style:{...p(e).simplePanelRow,width:"70%"},children:[s.jsx(V,{style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{ve(u=>u-.5>1?u-.5:1)}}),s.jsx(ee,{theme:e,w:"100px",h:"40px",fSize:28,placeholder:"0",value:se,onChange:u=>{ve(parseInt(u))}}),s.jsx(Y,{style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{ve(u=>u+.5)}})]}),s.jsx("p",{style:p(e,!1,r).subtext,children:n===0?"цель тренировок":"training goal"}),s.jsxs("div",{style:{...p(e).simplePanelRow,width:"70%"},children:[s.jsx(Et,{style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{De(u=>u+1<4?u+1:0)}}),s.jsx("p",{style:{color:a.get("mainText",e),fontSize:"26px"},children:He[ie][n]}),s.jsx(Ft,{style:{fontSize:"28px",color:a.get("icons",e),userSelect:"none",touchAction:"none"},onClick:()=>{De(u=>u-1>-1?u-1:3)}})]})]}),s.jsxs("div",{style:{...p(e).simplePanelRow,height:"60px",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:[s.jsx(ae,{style:{fontSize:"38px",color:a.get("icons",e)},onClick:()=>P(!1)}),s.jsx(oe,{style:{fontSize:"38px",color:a.get("icons",e)},onClick:()=>{St()}})]})]})})]}),re==="muscles"&&s.jsx(Mn,{theme:e,langIndex:n,fSize:r,data:m,filled:fe,age:te,height:ne,gender:_,goal:ie,wrist:se}),re==="exercises"&&s.jsx(js,{theme:e,langIndex:n,fSize:r,data:m}),!d&&s.jsxs("div",{onClick:u=>{u.stopPropagation()},style:{position:"absolute",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100vw",height:"170vw",top:"15.5%",borderRadius:"24px",backdropFilter:"blur(12px)",zIndex:2},children:[s.jsx("p",{style:{...p(e,r).text,textAlign:"center"},children:n===0?"Отслеживание тела и веса 📏⚖️":"Body & Weight Tracking 📏⚖️"}),s.jsx("p",{style:{...p(e,r).text,textAlign:"center"},children:n===0?"Следите за изменениями: вес, объёмы, ИМТ — всё в одном месте!":"Track every change: weight, body measurements, BMI — all in one place!"}),s.jsx("p",{style:{...p(e,r).text,textAlign:"center"},children:n===0?"Получите персональные рекомендации по питанию 🥗":"Get personalized nutrition recommendations 🥗"}),s.jsxs("p",{style:{...p(e,r).text,textAlign:"center"},children:[" ",n===0?"✨ Перейдите на Premium, чтобы сохранять историю и видеть прогресс со временем!":"✨ Go Premium to save your history and visualize your progress over time!"]}),s.jsxs("p",{style:{...p(e,r).text},children:[" ",n===0?"👑 Только для премиум пользователей 👑":"👑 Only for premium users 👑"," "]}),s.jsx("button",{onClick:()=>{Wt("premium")},style:{...p(e,r).btn,margin:"10px"},children:n===0?"Стать премиум":"Get premium"})]})]})},p=(e,t,n=!1)=>({container:{display:"flex",width:"100vw",flexDirection:"column",overflowY:"scroll",overflowX:"hidden",justifyContent:"flex-start",alignItems:"center",backgroundColor:a.get("background",e),height:"78vh",top:"16vh",paddingTop:"10px"},groupPanel:{display:"flex",flexDirection:"row",width:"100%",height:"6vh",backgroundColor:n?a.get("trainingGroupSelected",e):a.get("trainingGroup",e),borderTop:`1px solid ${a.get("border",e)}`,alignItems:"center",justifyContent:"left",alignContent:"center"},panel:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyItems:"center"},panelRow:{display:"flex",width:"90%",alignItems:"center",justifyContent:"flex-start",marginTop:"10px",gap:"10px",borderBottom:`1px solid ${a.get("border",e)}`},textDate:{textAlign:"center",fontSize:"18px",color:a.get("mainText",e),marginBottom:"4px"},text:{textAlign:"left",fontSize:t===0?"13px":"15px",color:a.get("mainText",e),marginLeft:"15px"},subtext:{textAlign:"left",fontSize:t===0?"11px":"13px",color:a.get("subText",e)},icon:{fontSize:"18px",marginLeft:"15px",color:a.get("icons",e)},cP:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",borderRadius:"24px",backgroundColor:a.get("bottomPanel",e),width:"100%",height:"50vh"},confirmContainer:{position:"fixed",top:0,left:-10,bottom:0,width:"95vw",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2900,padding:"20px"},simplePanelRow:{width:"75vw",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"}}),Ps=({data:e,type:t,ind:n,theme:i,langIndex:r})=>{if(n>0){const l=e[t][n].value-e[t][n-1].value,d=l>0;if(l===0)return s.jsx("span",{style:{fontSize:"12px",color:a.get("subText",i)},children:"-"});const o=d?"+":"";return s.jsxs("span",{style:{fontSize:"12px",color:d?a.get("maxValColor",i):a.get("minValColor",i)},children:[o,Number.isInteger(l)?l:l.toFixed(1)+(t===0?r===0?" кг":" kg":r===0?" см":" sm")]})}};export{zs as default,Ds as names};
