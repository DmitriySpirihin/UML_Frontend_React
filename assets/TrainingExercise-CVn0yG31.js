import{r as a,A as b,t as _,l as Q,K as X,f as ee,j as t,C as o,aI as E,aJ as L,g as te,$ as se,T as ne,aK as R,aL as F,i as A,k as P,aM as ie,Z as le,aN as oe,aO as ae}from"./index-BhhhmDGq.js";import{b as M,c as G}from"./index-DGGdRc81.js";import{b as re,M as j}from"./MyInput-C6p4BH1D.js";const pe=()=>{const[e,w]=a.useState("dark"),[i,g]=a.useState(b.prefs[0]),[r,$]=a.useState(b.prefs[1]),[H,C]=a.useState(""),[x,O]=a.useState(-1),[c,S]=a.useState(-1),[B,T]=a.useState(""),[W,v]=a.useState(!1),[I,N]=a.useState(!1),[q,k]=a.useState(!1),[f,h]=a.useState(""),[u,m]=a.useState(""),[y,p]=a.useState(!0);a.useEffect(()=>{const n=_.subscribe(w),l=Q.subscribe(z=>{g(z==="ru"?0:1)});return()=>{l.unsubscribe(),n.unsubscribe()}},[]),a.useEffect(()=>{const n=X.subscribe(C),l=ee.subscribe($);return()=>{n.unsubscribe(),l.unsubscribe()}},[]);function U(n){d(null),O(x==n?-1:n),x===-1&&S(-1)}function K(n){d(null),S(c==n?-1:n)}function D(){d(null),C(""),h(""),m(""),p(!0)}function J(){f.length>3?(d(null),ie(muscleGroupId,f,u.length>3?u:i===0?"Своё упражнение":"Custom exercise",y),D()):f.length<3&&le(i===0?"Введите название упражнения, не менее 3 символов":"Set exercise name , at least 3 characters",2e3,!1)}function V(){const n=L().find(l=>l.id===c);n&&(h(n.name[i]),m(n.description[i]),setMuscleGroupId(n.mgId),p(n.isBase),k(!0))}function Y(){d(null),ae(c,muscleGroupId,f,u.length>3?u:i===0?"Своё упражнение":"Custom exercise",y),k(!1)}function Z(){d(null),oe(c),S(-1),v(!1),D()}return t.jsxs("div",{style:s(e).container,children:[Object.keys(E.muscleIconsSrc).map(n=>t.jsxs("div",{style:s(e).panel,children:[t.jsxs("div",{style:s(e,x==n,!1).groupPanel,onClick:()=>U(l=>l===n?-1:n),children:[x==n?t.jsx(M,{style:s(e).icon}):t.jsx(G,{style:s(e).icon}),E.get(n,i,e)]},n),x==n?t.jsxs("div",{style:s(e).panel,children:[L().filter(l=>l.mgId==n).map(l=>t.jsxs("div",{style:s(e).panel,children:[t.jsxs("div",{style:{...s(e,!1,c==l.id).exercisePanel,width:"98%",flexDirection:"row"},onClick:()=>K(z=>z===l.id?-1:l.id),children:[c==l.id?t.jsx(M,{style:{...s(e).icon,marginLeft:"7%",width:"10px",marginTop:"7px"}}):t.jsx(G,{style:{...s(e).icon,marginLeft:"7%",width:"10px",marginTop:"7px"}}),t.jsx("p",{style:{...s(e,!1,!1,r).text,marginLeft:"5%"},children:l.name[i]}),t.jsx("p",{style:{...s(e,!1,!1,r).subtext,marginLeft:"auto",marginRight:"5%",color:l.isBase?o.get("trainingBaseFont",e):o.get("trainingIsolatedFont",e)},children:l.isBase?i===0?"Базовое":"Base":i===0?"Изолированное":"Isolated"})]}),c==l.id?t.jsxs("div",{style:{...s(e).panel,flexDirection:"row",marginLeft:"6%",width:"86%"},children:[t.jsx("p",{style:s(e,!1,!1,r).subtext,children:l.description[i]}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginLeft:"auto",justifyContent:"center"},children:[I&&t.jsx(te,{onClick:()=>{T(l.name[i]),V()},style:{...s(e).icon,fontSize:"18px"}}),I&&t.jsx(se,{onClick:()=>{T(l.name[i]),v(!0)},style:{...s(e).icon,fontSize:"18px"}}),t.jsx(re,{onClick:()=>{N(!I)},style:{...s(e).icon,fontSize:"18px"}})]})]}):null]},l.id)),t.jsx("div",{style:{...s(e).exercisePanel,width:"98%",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:t.jsx(ne,{onClick:()=>{d(null),C("AddExercisePanel")},style:{...s(e).icon,fontSize:"24px"}})})]}):null]},n)),t.jsx("div",{style:{height:"10vh"},children:t.jsx("p",{style:s(e,!1,!1,r).text,children:"_"})}),H==="AddExercisePanel"&&t.jsx("div",{style:s(e).addContainer,children:t.jsxs("div",{style:s(e).additionalPanel,children:[t.jsx("p",{style:s(e,!1,!1,r).text,children:i===0?"Добавь свое упражнение":"Add your exercise"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",backgroundColor:o.get("background",e),height:"70%",width:"100%",alignItems:"center"},children:[t.jsx(j,{maxL:40,w:"80%",h:"20%",theme:e,onChange:n=>h(n),placeHolder:i===0?"Название упражнения":"Exercise name"}),t.jsx(j,{maxL:300,w:"80%",h:"30%",theme:e,onChange:n=>m(n),placeHolder:i===0?"Описание упражнения":"Exercise description"}),t.jsx("div",{style:{display:"flex",flexDirection:"row",width:"70%",justifyContent:"space-around",alignItems:"center",marginTop:"5%"},children:E.get(x,i,e,!1)}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"50%",justifyContent:"space-around",alignItems:"center",marginTop:"5%"},children:[t.jsx("p",{style:s(e,!1,!1,r).text,children:i===0?"Базовое упражнение":"Base exercise"}),y?t.jsx(R,{onClick:()=>p(!1),style:{...s(e).icon,fontSize:"24px"}}):t.jsx(F,{onClick:()=>p(!0),style:{...s(e).icon,fontSize:"24px"}})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"60%",justifyContent:"space-between"},children:[t.jsx(A,{onClick:()=>D(),style:{...s(e).icon,fontSize:"32px",marginBottom:"8px"}}),t.jsx(P,{onClick:()=>J(),style:{...s(e).icon,fontSize:"32px",marginBottom:"8px"}})]})]})}),W&&t.jsxs("div",{style:{position:"fixed",top:"50vh",left:"7.5vw",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"85vw",height:"40vw",marginTop:"5px",borderRadius:"24px",border:`1px solid ${o.get("border",e)}`,backgroundColor:o.get("background",e),zIndex:"7000"},children:[t.jsx("p",{style:{...s(e,!1,!1,r).text,padding:"20px",marginLeft:"10%",marginRight:"5%"},children:i===0?"Вы уверены, что хотите удалить упражнение? "+B:"Are you sure you want to delete the exercise?"+B}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"60%",justifyContent:"space-between"},children:[t.jsx(A,{onClick:()=>v(!1),style:{...s(e).icon,fontSize:"32px",marginBottom:"8px"}}),t.jsx(P,{onClick:()=>Z(),style:{...s(e).icon,fontSize:"32px",marginBottom:"8px"}})]})]}),q&&t.jsx("div",{style:s(e).addContainer,children:t.jsxs("div",{style:{...s(e).additionalPanel,height:"40%"},children:[t.jsx("p",{style:s(e,!1,!1,r).text,children:i===0?"Добавь свое упражнение":"Add your exercise"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",backgroundColor:o.get("background",e),height:"70%",width:"100%",alignItems:"center"},children:[t.jsx(j,{maxL:40,w:"80%",h:"20%",value:f,theme:e,onChange:n=>h(n),placeHolder:i===0?"Название упражнения":"Exercise name"}),t.jsx(j,{maxL:300,w:"80%",h:"30%",value:u,theme:e,onChange:n=>m(n),placeHolder:i===0?"Описание упражнения":"Exercise description"}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"50%",justifyContent:"space-around",alignItems:"center",marginTop:"5%"},children:[t.jsx("p",{style:s(e,!1,!1,r).text,children:i===0?"Базовое упражнение":"Base exercise"}),y?t.jsx(R,{onClick:()=>p(!1),style:{...s(e).icon,fontSize:"24px"}}):t.jsx(F,{onClick:()=>p(!0),style:{...s(e).icon,fontSize:"24px"}})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"60%",justifyContent:"space-between"},children:[t.jsx(A,{onClick:()=>k(!1),style:{...s(e).icon,fontSize:"32px",marginBottom:"8px"}}),t.jsx(P,{onClick:()=>Y(),style:{...s(e).icon,fontSize:"32px",marginBottom:"8px"}})]})]})})]})},s=(e,w,i,g)=>({container:{backgroundColor:o.get("background",e),display:"flex",flexDirection:"column",overflowY:"scroll",justifyContent:"start",alignItems:"center",height:"78vh",paddingTop:"5vh",width:"100vw",fontFamily:"Segoe UI"},groupPanel:{display:"flex",flexDirection:"row",width:"98vW",height:"6vh",backgroundColor:w?o.get("trainingGroupSelected",e):o.get("trainingGroup",e),borderTop:`1px solid ${o.get("border",e)}`,alignItems:"center",justifyContent:"left",alignContent:"space-between"},exercisePanel:{display:"flex",flexDirection:"column",width:"90vW",height:"5vh",backgroundColor:i?o.get("trainingGroupSelected",e):o.get("background",e),alignItems:"center",justifyContent:"left"},panel:{display:"flex",flexDirection:"column",width:"100vW",alignItems:"center"},text:{textAlign:"left",fontSize:g===0?"13px":"15px",color:o.get("mainText",e),marginBottom:"12px"},subtext:{textAlign:"left",fontSize:g===0?"11px":"13px",color:o.get("subText",e),marginBottom:"12px"},icon:{fontSize:"20px",color:o.get("icons",e),marginLeft:"20px"},addContainer:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"20px"},additionalPanel:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",borderRadius:"24px",border:`1px solid ${o.get("border",e)}`,backgroundColor:o.get("simplePanel",e),boxShadow:`4px 4px 6px ${o.get("shadow",e)}`,width:"100%",height:"100vw"}});function d(e){b.prefs[2]==0,b.prefs[3]==0&&Telegram.WebApp.HapticFeedback&&Telegram.WebApp.HapticFeedback.impactOccurred("light")}export{pe as default};
