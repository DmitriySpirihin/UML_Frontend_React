import{A as z,t as ye,l as be,f as Se,C as r,j as t,bl as te,bm as Ne,bB as Ue,bC as Ke,bD as Je,bs as E,bE as Qe,U as Xe,p as Ze,s as et,br as tt,bF as nt,y as st}from"./index-CPDBZ9HG.js";import{r as d,R as ot}from"./recharts-Bg6K2Pzo.js";import{G as rt,a as it}from"./index-Bawd0UIz.js";import{s as lt,l as w}from"./MentalHelper-DvmPf_x-.js";import{B as at}from"./BreathAudio-BrJNN4AB.js";import{M as ct}from"./MentalInput-kXnWVaZD.js";const W=[{id:"easy",level:["–ª–µ–≥–∫–æ","easy"],title:["–Ω–∞–π–¥–∏ –ª–∏—à–Ω–∏–π","find the odd one"],itemsCountRange:[4,5],rules:["–í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞, –∫—Ä–æ–º–µ –æ–¥–Ω–æ–≥–æ (—Ñ–æ—Ä–º–∞/—Ü–≤–µ—Ç/—á–∏—Å–ª–æ).","All items share one feature except a single odd one."],timeLimitSec:20,description:["–ü—Ä–æ—Å—Ç—ã–µ —Ä—è–¥—ã: –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è —Ü–≤–µ—Ç–æ–º, —Ñ–æ—Ä–º–æ–π –∏–ª–∏ —á–∏—Å–ª–æ–º.","Simple rows: one item differs by color, shape or number."]},{id:"medium",level:["—Å—Ä–µ–¥–Ω–∏–π","medium"],title:["–ª–æ–≤–ª—é –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—å","spot the pattern"],itemsCountRange:[5,6],rules:["–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ –ø—Ä–∞–≤–∏–ª—É (—Ä–æ—Å—Ç/—É–±—ã–≤–∞–Ω–∏–µ, +2, √ó3), –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–æ.","Sequence follows a rule (+2, √ó3, ascending/descending), one item breaks it."],timeLimitSec:25,description:["–ß–∏—Å–ª–æ–≤—ã–µ –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å –æ–¥–Ω–∏–º –Ω–∞—Ä—É—à–∏—Ç–µ–ª–µ–º –ø—Ä–∞–≤–∏–ª–∞.","Number and visual patterns with one rule-breaking element."]},{id:"hard",level:["—Å–ª–æ–∂–Ω–æ","hard"],title:["—Å–ª–æ–∂–Ω—ã–µ –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏","complex patterns"],itemsCountRange:[6,7],rules:["–¶–≤–µ—Ç –∏ —á–∏—Å–ª–æ —Å–≤—è–∑–∞–Ω—ã –ø—Ä–∞–≤–∏–ª–æ–º: —á—ë—Ç–Ω–æ—Å—Ç—å, —á–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ, —à–∞–≥. –ù–∞–π–¥–∏ –Ω–∞—Ä—É—à–∏—Ç–µ–ª—è.","Color and number follow a joint rule: parity, alternation, or step. Find the outlier."],timeLimitSec:25,description:["–¶–≤–µ—Ç –∏ —á–∏—Å–ª–æ —Å–≤—è–∑–∞–Ω—ã –ø—Ä–∞–≤–∏–ª–æ–º: —á—ë—Ç–Ω–æ—Å—Ç—å, —á–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ, —à–∞–≥. –ù–∞–π–¥–∏ –Ω–∞—Ä—É—à–∏—Ç–µ–ª—è.","Color and number follow a joint rule: parity, alternation, or step. Find the outlier."]},{id:"max",level:["–ø—Ä–æ-—Ä–µ–∂–∏–º","max pro"],title:["–ª–æ–≥–∏—á–µ—Å–∫–∏–π –≤—ã–∑–æ–≤","logic challenge"],itemsCountRange:[7,9],rules:["–°–∫—Ä—ã—Ç—ã–µ –∏–ª–∏ –º–µ–Ω—è—é—â–∏–µ—Å—è –ø—Ä–∞–≤–∏–ª–∞, –≤–æ–∑–º–æ–∂–µ–Ω —Ä–µ–≤–µ—Ä—Å –∏–ª–∏ —Å–º–µ–Ω–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –ø–æ—Å–µ—Ä–µ–¥–∏–Ω–µ.","Hidden or shifting rules; pattern may reverse or change midway."],timeLimitSec:30,description:["–°–∞–º—ã–µ —Å–ª–æ–∂–Ω—ã–µ —Ä—è–¥—ã —Å –º–µ–Ω—è—é—â–∏–º–∏—Å—è –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∏ –æ–¥–Ω–∏–º –Ω–µ–≤–µ—Ä–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º.","The toughest rows with changing rules and a single incorrect item."]}],u=(o,s)=>Math.floor(Math.random()*(s-o+1))+o,A=["circle","square","triangle","hexagon"],ne={reds:["#e63946","#d90429","#f15a5a","#c1121f"],blues:["#1d3557","#3a5ea5","#4a7bb7","#6c9bcf"],greens:["#2a9d8f","#264653","#2d6a4f","#4c956c"],purples:["#7b2cbf","#5a189a","#9d4edd","#c77dff"],oranges:["#e76f51","#f4a261","#e9c46a","#f28482"],cyans:["#00b4d8","#0096c7","#0077b6","#023e8a"]},dt=()=>{const o=Object.values(ne),s=o[u(0,o.length-1)];return s[u(0,s.length-1)]},ut=o=>{const s=u(...W[0].itemsCountRange),n=u(0,s-1),p=["color","shape","value"][u(0,2)];if(p==="value"){const e=u(8+o,18+o),l=u(2,4)*(Math.random()>.5?1:-1),i=e+l;return[Array(s).fill().map((h,x)=>x===n?i:e),String(n+1)]}else if(p==="shape"){const e=A[u(0,A.length-1)],l=A.filter(x=>x!==e),i=l[Math.floor(Math.random()*l.length)],a=dt();return[Array(s).fill().map((x,f)=>({shape:f===n?i:e,color:a})),String(n+1)]}else{const e=Object.keys(ne),l=e[u(0,e.length-1)],i=ne[l],a=u(0,i.length-1);let h;do h=u(0,i.length-1);while(h===a&&i.length>1);const x=i[a],f=i[h],y=A[u(0,A.length-1)];return[Array(s).fill().map((S,I)=>({shape:y,color:I===n?f:x})),String(n+1)]}},pt=o=>{const s=u(...W[1].itemsCountRange),n=u(1,s-2),p=["add","mult","asc"][u(0,2)];let e=[],l,i;p==="add"?(l=u(2+o,8+o),i=u(2,5),e=Array(s).fill().map((x,f)=>l+f*i)):p==="mult"?(l=u(2,4),i=u(2,4),e=Array(s).fill().map((x,f)=>l*Math.pow(i,f))):(l=u(1+o,5+o),e=Array(s).fill().map((x,f)=>l+f+u(0,1)),e.sort((x,f)=>x-f));const a=e[n],h=u(3,10)*(Math.random()>.5?1:-1);return e[n]=a+h,[e,String(n+1)]},xt=o=>{const s=u(...W[2].itemsCountRange),n=u(1,s-2),p=u(0,2);let e=[],l,i;if(p===0){l=u(5+o,10+o),i=u(3,6);const a=["red","blue"];if(e=Array(s).fill().map((h,x)=>({value:l+x*i,color:a[x%2]})),Math.random()>.5)e[n].color=e[n].color==="red"?"blue":"red";else{const h=u(2,8)*(Math.random()>.5?1:-1);e[n].value+=h}}else p===1?(l=u(4+o,8+o),i=u(2,4),e=Array(s).fill().map((a,h)=>{const x=l+h*i,y=x%2===0?"red":"blue";return{value:x,color:y}}),e[n].color=e[n].color==="red"?"blue":"red"):(l=u(6+o,12+o)*2,i=u(2,5)*2,e=Array(s).fill().map((a,h)=>{const x=l+h*i,y=Math.floor(h/2)%2===0?"red":"blue";return{value:x,color:y}}),Math.random()>.5?e[n].color=e[n].color==="red"?"blue":"red":e[n].value+=1);return[e,String(n+1)]},mt=o=>{const s=u(...W[3].itemsCountRange),n=u(2,s-3),p=Math.floor(s/2),e=u(2+o,6+o),l=[];for(let a=0;a<p;a++)l.push(e+a*3);let i=l[l.length-1]*2;for(let a=p;a<s;a++)l.push(i),i*=2;if(n>=p){const a=l[n];l[n]=a+u(5,20)*(Math.random()>.5?1:-1)}else{const a=l[n];l[n]=a+u(2,6)*(Math.random()>.5?1:-1)}return[l,String(n+1)]};function ft(o,s,n){if(o!==2)return[[],"0"];switch(s){case 0:return ut(n)||[[],"0"];case 1:return pt(n)||[[],"0"];case 2:return xt(n)||[[],"0"];case 3:return mt(n)||[[],"0"];default:return[[],"0"]}}function gt(o,s,n,p,e,l,i){const h=[100,200,300,400][s]||100,x=o===2&&l===e?1:0,f=Math.min(1+n*.02,1.3),y=p/1e3,g=W[s]?.timeLimitSec||20,S=Math.min(y/g,2),I=x===1?Math.max(1.3-(S-1)*.3,1):1,M=x===1&&i>=5?Math.min(1+.1*Math.min(i/10,4),1.5):1;return Math.round(h*x*f*I*M)}function ht(o,s,n){return o===2&&n===s}function yt(o,s,n){return o===2?n===s?0:1:0}const ge=3e3,bt=({show:o,type:s,difficulty:n,setShow:p})=>{const[e,l]=d.useState("dark"),[i,a]=d.useState(z.prefs[0]),[h,x]=d.useState(z.prefs[4]),[f,y]=d.useState(""),[g,S]=d.useState(""),[I,M]=d.useState(!1),[k,se]=d.useState(!1),[D,oe]=d.useState(!1),[C,Y]=d.useState(!1),[Tt,ve]=d.useState(!1),[Ce,re]=d.useState(0),[ie,le]=d.useState(!1),[q,Ie]=d.useState(1),[Te,we]=d.useState(0),[L,Me]=d.useState(null),[ke,ae]=d.useState(0),[N,ze]=d.useState(!1),{initAudio:$e,playRight:Re,playWrong:Pe}=at(z.prefs[2]===0),[wt,ce]=d.useState(0),[T,de]=d.useState(!1),[j,V]=d.useState(0),[O,B]=d.useState(1),[ue,U]=d.useState(0),[De,Fe]=d.useState(""),[pe,F]=d.useState(""),[Ae,Ee]=d.useState(""),[v,K]=d.useState(0),[J,_]=d.useState(0),[$,We]=d.useState(z.mentalRecords[s]?.[n]||0),[xe,me]=d.useState(0),[Le,Q]=d.useState(0);d.useEffect(()=>{if(!k||C||T){y("");return}f==="CC"?S(c=>c.length>0?c.slice(0,-1):""):f===">>>"?Oe():/^\d+$/.test(f)&&S(f),y("")},[f,k,C,T]),d.useEffect(()=>{let c=null;return I&&(c=setInterval(()=>me(m=>m+100),100)),()=>clearInterval(c)},[I]),d.useEffect(()=>{const c=ye.subscribe(l),m=be.subscribe(R=>a(R==="ru"?0:1)),b=Se.subscribe(x);return()=>{c.unsubscribe(),m.unsubscribe(),b.unsubscribe()}},[]),d.useEffect(()=>{if(!D){Q(0);return}const c=Math.ceil(ge/1e3);Q(c);const m=setInterval(()=>{Q(b=>b<=1?(clearInterval(m),Ve(),oe(!1),0):b-1)},1e3);return()=>clearInterval(m)},[D,ge]),d.useEffect(()=>{if(!T)return;const c=setInterval(()=>{ce(m=>{if(m>=900){clearInterval(c),de(!1),ce(0);const b=j+v;return V(b),K(0),S(""),ie?fe(b):(B(q),X(q)),0}return m+100})},100);return()=>clearInterval(c)},[T,j,v,ie,q]),d.useEffect(()=>{if(!N||C||T)return;const c=setInterval(()=>{ae(m=>m+100)},100);return()=>clearInterval(c)},[N,C,T]);const Ve=()=>{$e(),V(0),B(1),_(0),U(0),S(""),F(""),X(1),se(!0),M(!0),ve(!1),me(0),re(Date.now())},X=(c=O)=>{const[m,b]=ft(s,n,c),R=String(b).trim();Me({items:m,correctIndex:parseInt(b,10)}),Fe(R),S(""),F(""),Ie(c+1),le(!1),we(Date.now()),ae(0),ze(!0)},Oe=()=>{if(!L)return;const c=String(g).trim(),m=String(De).trim(),b=Date.now()-Te,R=gt(s,n,O,b,m,c,ue),G=yt(s,m,c);let Z="";G===0?(Z=vt(i),_(ee=>ee+1)):Z=(i===0?"–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ":"Correct answer: ")+m;const qe=G===0?r.get("maxValColor",e):r.get("minValColor",e);Ee(qe),F(Z),K(R),U(ee=>ht(s,m,c)?ee+1:0),G===0?Re():Pe(),le(O>=20),de(!0)},Be=()=>{V(0),B(1),_(0),U(0),S(""),F(""),X(),re(Date.now())},fe=c=>{_e();const m=c>$,b=jt(!1,i,c,J,20,m,!1);M(!1),F(b),Y(!0),se(!1)},_e=()=>{j+v>$&&(We(j+v),z.mentalRecords[s][n]=j+v);const c=Date.now(),m=Math.round((c-Ce)/1e3);lt(m,j+v>$,s,n,j+v),V(0),K(0),B(1),_(0)},Ge=c=>{if(c[0]!=="#")return"white";const m=parseInt(c.slice(1,3),16),b=parseInt(c.slice(3,5),16),R=parseInt(c.slice(5,7),16);return(m*299+b*587+R*114)/1e3>128?"black":"white"},He=()=>{if(!L||!L.items)return null;const{items:c}=L;if(Array.isArray(c)&&c.length>0){if(typeof c[0]=="number")return t.jsx("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",justifyContent:"center",marginTop:"20px"},children:c.map((m,b)=>t.jsx("div",{style:{padding:"12px 18px",backgroundColor:r.get("bottomPanel",e),borderRadius:"12px",fontWeight:"bold",fontSize:"20px",color:r.get("mainText",e),border:`2px solid ${r.get("border",e)}`},children:m},b))});if(typeof c[0]=="object"&&(c[0].shape||c[0].color||typeof c[0].value=="number"))return t.jsx("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",justifyContent:"center",marginTop:"20px"},children:c.map((m,b)=>t.jsx("div",{style:{width:"50px",height:"50px",backgroundColor:m.color||"gray",clipPath:Ye(m.shape||"circle"),border:`2px solid ${r.get("border",e)}`,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",fontSize:"16px",fontWeight:"bold",color:Ge(m.color||"gray")},children:typeof m.value=="number"&&t.jsx("span",{style:{pointerEvents:"none"},children:m.value})},b))})}return t.jsx("div",{children:"?"})},Ye=c=>{switch(c){case"circle":return"circle(50% at 50% 50%)";case"square":return"polygon(0 0, 100% 0, 100% 100%, 0 100%)";case"triangle":return"polygon(50% 0%, 0% 100%, 100% 100%)";case"hexagon":return"polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%)";default:return"circle(50% at 50% 50%)"}};return t.jsxs("div",{style:H(e,o).container,children:[!k&&!D&&!C&&t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",width:"100%",height:"80%"},children:[t.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:r.get("mainText",e)},children:w[n].level[i]}),t.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"12px",justifyContent:"center",fontSize:"15px",color:r.get("subText",e)},children:w[n].title[i]}),t.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"12px",justifyContent:"center",fontSize:"15px",color:r.get("subText",e)},children:w[n].description[i]}),t.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"12px",justifyContent:"center",fontSize:"15px",color:r.get("mainText",e)},children:(i===0?"–≠–ª–µ–º–µ–Ω—Ç–æ–≤: ":"Items: ")+w[n].itemsCountRange[0]+"‚Äì"+w[n].itemsCountRange[1]}),t.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"12px",justifyContent:"center",fontSize:"15px",color:r.get("subText",e)},children:i===0?`–í—Ä–µ–º—è –Ω–∞ –æ—Ç–≤–µ—Ç: ${w[n].timeLimitSec} —Å–µ–∫`:`Time limit: ${w[n].timeLimitSec} sec`}),t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"50px",fontSize:"12px",color:r.get("subText",e)},children:St(i)})]}),!k&&!D&&!C&&t.jsxs("div",{style:H(e,o).controls,children:[t.jsx(te,{onClick:()=>{p(!1),Y(!1)},style:{fontSize:"60px",color:r.get("close",e)}}),t.jsx(Ne,{onClick:()=>oe(!0),style:{fontSize:"60px",color:r.get("play",e)}}),t.jsx(Ue,{onClick:Be,style:{fontSize:"60px",color:r.get("reload",e)}})]}),!C&&D&&t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",width:"90%",height:"80%"},children:[t.jsx("div",{style:{fontSize:"10rem",marginTop:"180px",color:r.get("icons",e),fontWeight:"bold",lineHeight:1},children:Le}),t.jsx("div",{style:{fontSize:"2rem",marginBottom:"80px",textAlign:"center"},children:t.jsx("div",{style:{color:r.get("icons",e),marginBottom:"80px"},children:i===0?"–ü—Ä–∏–≥–æ—Ç–æ–≤—å—Ç–µ—Å—å!":"Get ready!"})})]}),!C&&k&&t.jsxs("div",{style:H(e).playContainer,children:[t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"86%",borderBottom:`1px solid ${r.get("border",e)}`},children:[t.jsx("div",{style:{display:"flex",flexDirection:"row",marginTop:"6px",width:"60%",gap:"20px",marginRight:"auto"},children:t.jsx(te,{onClick:()=>fe(j+v),style:{fontSize:"25px",color:r.get("close",e)}})}),t.jsxs("div",{style:{display:"flex",marginLeft:"auto",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:r.get("subText",e)},children:[t.jsx(Ke,{}),je(xe)]})]}),t.jsxs("div",{style:{display:"flex",width:"86%",flexDirection:"row",marginTop:"20px",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:r.get("minValColor",e)},children:[t.jsx(Je,{}),ue]}),t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:r.get("difficulty",e)},children:O+"/ 20"}),t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:r.get("maxValColor",e)},children:[t.jsx(E,{}),j]})]}),k&&N&&t.jsx("div",{style:{width:"48px",height:"48px",marginTop:"35px"},children:t.jsxs("svg",{viewBox:"0 0 28 28",style:{width:"100%",height:"100%"},children:[t.jsx("circle",{cx:"14",cy:"14",r:"12",fill:r.get("background",e),stroke:r.get("border",e),strokeWidth:"1"}),t.jsx("text",{x:"14",y:"18",textAnchor:"middle",fill:r.get("mainText",e),fontSize:"8",fontWeight:"bold",children:(ke/1e3).toFixed(1)})]})}),t.jsxs("div",{style:{marginTop:"20px",width:"95%",display:"flex"},children:[!T&&k&&t.jsxs("div",{style:he(e,!1),children:[t.jsx("div",{style:{fontSize:"16px",marginBottom:"12px",color:r.get("subText",e)},children:w[n].rules[i]}),He(),t.jsx("div",{style:{marginTop:"16px",fontSize:"16px",color:r.get("subText",e)},children:i===0?"–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –ª–∏—à–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ (1, 2...)":"Enter index of odd one out (1, 2...)"})]}),T&&t.jsxs("div",{style:he(e,!0,Ae),children:[t.jsxs("p",{style:{fontSize:"22px",fontWeight:"bold",color:v>0?r.get("maxValColor",e):r.get("minValColor",e)},children:[v>0&&t.jsx(E,{})," ",v>0?v:i===0?"–Ω–µ –≤–µ—Ä–Ω–æ":"wrong answer"]}),t.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",color:r.get("mainText",e)},children:pe})]})]}),t.jsx("div",{style:{fontSize:"34px",fontWeight:"bold",color:r.get("subText",e),marginTop:"auto"},children:g})]}),!C&&k&&!T&&t.jsx(ct,{setInput:y,type:s}),C&&t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",width:"100%",height:"80%"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:r.get("maxValColor",e)},children:[t.jsx(E,{}),j]}),t.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:r.get("medium",e)},children:Ct(i,xe)}),j>$&&t.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:r.get("medium",e)},children:[t.jsx(Qe,{}),i===0?"–ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥!":"New record!"]}),j<=$&&t.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"28px",fontWeight:"bold",color:r.get("subText",e)},children:i===0?"—Ä–µ–∫–æ—Ä–¥: "+$:"record: "+$}),t.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"22px",fontWeight:"bold",color:r.get("mainText",e)},children:n<4?J+" / 20":J}),t.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",justifyContent:"center",fontSize:"18px",fontWeight:"bold",color:r.get("mainText",e)},children:pe})]}),C&&t.jsx("div",{style:H(e,o).controls,children:t.jsx(te,{onClick:()=>{p(!1),Y(!1)},style:{fontSize:"60px",color:r.get("close",e)}})})]})},he=(o,s,n)=>({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"95%",minHeight:"16vh",marginTop:"20px",backgroundColor:r.get("bottomPanel",o),boxShadow:s?"0px 0px 9px 9px"+n:"2px 2px"+r.get("shadow",o),borderRadius:"24px",fontSize:"39px",fontWeight:"bold",color:r.get("mainText",o),alignContent:"center",padding:"16px"}),H=(o,s)=>({container:{backgroundColor:r.get("background",o),display:"flex",position:"fixed",flexDirection:"column",alignItems:"center",height:"86vh",transform:s?"translateY(0)":"translateY(100%)",bottom:"0",transition:"transform 0.2s ease-in-out",width:"100vw",fontFamily:"Segoe UI",borderTop:`2px solid ${r.get("border",o)}`,borderTopLeftRadius:"12px",borderTopRightRadius:"12px",zIndex:2e3},controls:{display:"flex",marginTop:"30px",gap:"50px"},playContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",height:"50vh",bottom:"0",width:"100vw"}}),St=o=>o===0?"–ù–∞–π–¥–∏ –ª–∏—à–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –≤ —Ä—è–¥—É. –û—Ç–≤–µ—á–∞–π –±—ã—Å—Ç—Ä–æ ‚Äî –∑–∞ —Å–∫–æ—Ä–æ—Å—Ç—å –¥–∞—é—Ç—Å—è –±–æ–Ω—É—Å—ã! –ö–∞–∂–¥–∞—è –æ—à–∏–±–∫–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å–µ—Ä–∏—é. –ó–∞ 5 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–æ–¥—Ä—è–¥ ‚Äî –º–Ω–æ–∂–∏—Ç–µ–ª—å –æ—á–∫–æ–≤ (–º–∞–∫—Å. √ó1.5).":"Find the odd one out. Answer quickly ‚Äî speed bonuses apply! Every mistake resets your streak. 5 correct in a row ‚Üí score multiplier (up to √ó1.5).",jt=(o,s,n,p,e,l,i=!1)=>{const a=Math.round(p/e*100),h=a>=80,x=a>=50&&!h,f={ru:{high:[`üéâ –û—Ç–ª–∏—á–Ω–æ! ${p}/${e} (${a}%) ‚Äî –º–æ–ª–æ–¥–µ—Ü!`,`‚ú® –ü–æ—Ç—Ä—è—Å–∞—é—â–µ! –¢—ã —Å–ø—Ä–∞–≤–∏–ª—Å—è –Ω–∞ ${a}%.`,`üî• ${n} –æ—á–∫–æ–≤ ‚Äî –≤–ø–µ—á–∞—Ç–ª—è–µ—Ç!`],moderate:[`üôÇ –•–æ—Ä–æ—à–∞—è –ø–æ–ø—ã—Ç–∫–∞! ${p}/${e} (${a}%)`,"üå± –¢—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏!","üìà –£–∂–µ –ª—É—á—à–µ!"],low:["ü§ó –¢—ã —Å—Ç–∞—Ä–∞–ª—Å—è ‚Äî —ç—Ç–æ –≥–ª–∞–≤–Ω–æ–µ.","üå± –ù–µ —Å–¥–∞–≤–∞–π—Å—è!","üå§Ô∏è –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë!"],record:[`üèÜüî• –ù–û–í–´–ô –†–ï–ö–û–†–î! ${n} –æ—á–∫–æ–≤!`,`üéâ‚ú® –õ–∏—á–Ω—ã–π —Ä–µ–∫–æ—Ä–¥: ${p}/${e}!`]},en:{high:[`üéâ Awesome! ${p}/${e} (${a}%)!`,`‚ú® Outstanding! ${a}% correct.`,`üî• ${n} points ‚Äî impressive!`],moderate:[`üôÇ Good effort! ${p}/${e} (${a}%)`,"üå± You're making progress!","üìà Getting better!"],low:["ü§ó You gave it your best!","üå± Don‚Äôt give up!","üå§Ô∏è Try again!"],record:[`üèÜüî• NEW RECORD! ${n} points!`,`üéâ‚ú® Personal best: ${p}/${e}!`]}},y=s===0?f.ru:f.en;let g=[];return l?g=[...y.record]:h?g=[...y.high]:x?g=[...y.moderate]:g=[...y.low],g.length===0?s===0?"–•–æ—Ä–æ—à–æ! üòä":"Good job! üòä":g[Math.floor(Math.random()*g.length)]};function vt(o){const p=o===0?["–û—Ç–ª–∏—á–Ω–æ!","–ü—Ä–µ–∫—Ä–∞—Å–Ω–æ!","–í–µ—Ä–Ω–æ!","–¢–æ—á–Ω–æ!","–ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ!"]:["Great!","Perfect!","Yes!","Exactly!","Awesome!"];return p[Math.floor(Math.random()*p.length)]}function je(o){const s=Math.floor(o/1e3),n=Math.floor(s/60),p=s%60;return`${String(n).padStart(2,"0")}:${String(p).padStart(2,"0")}`}function Ct(o,s){const n=je(s);return o===0?`–í–∞—à–µ –≤—Ä–µ–º—è: ${n}`:`Your time is: ${n}`}const Dt=()=>{const[o,s]=ot.useState("dark"),[n,p]=d.useState(z.prefs[0]),[e,l]=d.useState(z.prefs[4]),[i,a]=d.useState(!1),[h,x]=d.useState(0),[f,y]=d.useState(Xe.hasPremium);return d.useEffect(()=>{const g=Ze.subscribe(y);return()=>g.unsubscribe()},[]),d.useEffect(()=>{const g=ye.subscribe(s),S=be.subscribe(M=>{p(M==="ru"?0:1)}),I=Se.subscribe(M=>{l(M)});return()=>{g.unsubscribe(),S.unsubscribe(),I.unsubscribe()}},[]),t.jsxs("div",{style:P(o).container,children:[t.jsx("div",{style:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyItems:"center"},children:t.jsx("div",{style:{width:"100%",display:"grid",gridTemplateColumns:"1fr 1fr",alignItems:"center",justifyItems:"center"},children:w.map((g,S)=>{const I="difficulty"+S;return t.jsx(It,{width:"46vw",difficulty:S,protocol:g,setLevel:x,color:r.get(I,o),theme:o,lang:n,click:()=>{x(S),a(!0)},fSize:e,hasPremium:f,needBlur:S>1},S)})})}),t.jsx(bt,{type:2,difficulty:h,show:i,setShow:a})]})},P=(o,s)=>({container:{backgroundColor:r.get("background",o),display:"flex",flexDirection:"column",overflowY:"scroll",justifyItems:"center",alignItems:"center",height:"78vh",paddingTop:"5vh",width:"100vw",fontFamily:"Segoe UI"},scrollView:{height:"95%",width:"100%",overflowY:"scroll",display:"flex",flexDirection:"column"},mainText:{textAlign:"left",fontSize:s===0?"15px":"17px",color:r.get("mainText",o)},subtext:{textAlign:"center",fontSize:s===0?"12px":"14px",color:r.get("mainText",o),margin:"2px"},icon:{fontSize:"32px",color:r.get("mainText",o)},simplePanelRow:{width:"75vw",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},cardText:{textAlign:"left",marginBottom:"5px",fontSize:s===0?"14px":"16px",color:r.get("mainText",o),marginLeft:"30px"},text:{textAlign:"left",fontSize:s===0?"10px":"12px",color:r.get("subText",o),marginLeft:"30px"},btn:{width:"70%",height:"40px",borderRadius:"12px",fontSize:s===0?"13px":"14px",color:r.get("mainText",o),backgroundColor:r.get("simplePanel",o)}});function It({protocol:o,difficulty:s,click:n,width:p,color:e,theme:l,lang:i,fSize:a,hasPremium:h=!1,needBlur:x=!1}){const f=()=>s===0?t.jsx(tt,{style:g}):s===1?t.jsx(E,{style:g}):s===2?t.jsx(rt,{style:g}):s===3?t.jsx(it,{style:g}):s===4?t.jsx(nt,{style:g}):t.jsx(st,{style:g}),y={alignItems:"center",justifyContent:"center",display:"flex",width:p,flexDirection:"row",height:"12vh",marginTop:"15px",borderRadius:"24px",backgroundColor:e,overflow:"hidden",position:"relative",boxShadow:"3px 3px 2px rgba(0,0,0,0.3)"},g={fontSize:"86px",rotate:"-20deg",position:"absolute",right:"-10px",top:"30%",color:r.get("svgColor",l)};return t.jsxs("div",{style:y,onClick:n,children:[!h&&x&&t.jsxs("div",{onClick:S=>{S.stopPropagation()},style:{position:"absolute",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",width:"100%",height:"100%",left:"0",top:"0",backdropFilter:"blur(8px)",zIndex:2},children:[t.jsxs("div",{style:{...P(l,a).mainText},children:[" ",i===0?"–ü—Ä–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è":"Pro category"," "]}),t.jsxs("div",{style:{...P(l,a).mainText},children:[" ",i===0?"üëë–ø—Ä–µ–º–∏—É–ºüëë":"üëëpremiumüëë"," "]}),t.jsx("button",{onClick:()=>{et("premium")},style:{...P(l,a).btn},children:i===0?"–°—Ç–∞—Ç—å –ø—Ä–µ–º–∏—É–º":"Get premium"})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"65%",height:"22%",alignItems:"center",justifyContent:"flex-end",position:"absolute",top:"5%",left:"30%",fontWeight:"bold",fontSize:"16px",color:r.get("maxValColor",l)},children:[t.jsx(E,{})," ",z.mentalRecords[1][s]]}),t.jsxs("div",{style:{width:"90%",height:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},children:[t.jsx("h2",{style:P(l,a).cardText,children:o.level[i]}),t.jsx("p",{style:P(l,a).text,children:o.title[i]})]}),f()]})}export{Dt as default};
