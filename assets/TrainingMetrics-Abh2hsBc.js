import{r as c,j as t,A as O,t as E,l as m,f as N,C as h}from"./index-CBSSdh_M.js";const z=({theme:e,data:i=[],mark:r="kg",color:p="#4a90e2"})=>{const[s,b]=c.useState(null),P=new Date,d=[];for(let o=59;o>=0;o--){const n=new Date(P);n.setDate(P.getDate()-o),d.push(n.toISOString().split("T")[0])}const S=new Map;let $=0,u=0;i.forEach(o=>{S.set(o.date,o.value),$+=o.value,u++});const T=i.length>0,v=T?Math.min(...i.map(o=>o.value)):0,g=T?Math.max(...i.map(o=>o.value)):1,D=u>0?$/u:0,f=g*1.1,a=o=>f<=0?85:o/f*85,w=(o,n,l)=>{n!==void 0&&(s&&s.date===o?b(null):b({date:o,value:n,index:l}))};return t.jsxs("div",{style:{width:"100%",height:"30vh",position:"relative",margin:"20px 0",display:"flex",justifyContent:"center"},children:[t.jsxs("div",{style:{width:"95%",height:"100%",position:"relative"},children:[t.jsx("div",{style:{position:"absolute",left:"0",top:"5%",bottom:"10%",width:"1px",backgroundColor:e==="dark"?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}),t.jsx("div",{style:{position:"absolute",left:"0",right:"0",bottom:"10%",height:"1px",backgroundColor:e==="dark"?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}),t.jsx("div",{style:{position:"absolute",left:"0",right:"0",top:"5%",height:"85%",backgroundImage:`
            linear-gradient(
              to bottom,
              transparent 99%,
              ${e==="dark"?"rgba(255,255,255,0.03)":"rgba(0,0,0,0.03)"} 100%
            )
          `,backgroundSize:"1px 10%",pointerEvents:"none"}}),t.jsx("div",{style:{position:"absolute",left:"0",top:"5%",width:"100%",height:"85%",overflow:"hidden"},children:T&&t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{position:"absolute",left:"0",right:"0",top:`${90-a(g)}%`,height:"1px",backgroundColor:"#e74c3c",opacity:.7}}),t.jsx("div",{style:{position:"absolute",left:"0",right:"130%",top:`${90-a(g)}%`,fontSize:"6px",color:"#e74c3c",textAlign:"center"},children:g+r}),u>0&&t.jsx("div",{style:{position:"absolute",left:"0",right:"0",top:`${90-a(D)}%`,height:"1px",backgroundColor:"#6d7072ff",opacity:.7}}),t.jsx("div",{style:{position:"absolute",left:"0",right:"130%",top:`${90-a(D)}%`,fontSize:"6px",color:"#6d7072ff",textAlign:"center"},children:D.toFixed()+r}),t.jsx("div",{style:{position:"absolute",left:"0",right:"0",top:`${90-a(v)}%`,height:"1px",backgroundColor:"#2ecc71",opacity:.7}}),t.jsx("div",{style:{position:"absolute",left:"0",right:"130%",top:`${90-a(v)}%`,fontSize:"6px",color:"#2ecc71",textAlign:"center"},children:v+r})]})}),t.jsx("div",{style:{width:"100%",height:"85%",display:"flex",alignItems:"flex-end",position:"absolute",top:"5%",left:0,gap:"2px"},children:d.map((o,n)=>{const l=S.get(o),A=l!==void 0,k=s?.date===o?e==="dark"?"#5772caff":"#ff6600":p;return t.jsx("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",cursor:A?"pointer":"default",transition:"transform 0.2s"},onClick:()=>w(o,l,n),children:t.jsx("div",{style:{width:"80%",height:"100%",backgroundColor:A?k:"transparent",borderLeft:"1px solid rgba(76, 69, 69, 0.2)",...A&&{background:`linear-gradient(to top, ${k} ${l/f*100}%, transparent ${l/f*100}%)`}}})},o)})}),t.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",position:"absolute",bottom:"0",left:0,right:0,height:"20px"},children:[t.jsx("div",{style:{fontSize:"10px",color:e==="dark"?"#888":"#777",textAlign:"center",width:"33%"},children:d[0]}),t.jsx("div",{style:{fontSize:"10px",color:e==="dark"?"#888":"#777",textAlign:"center",width:"33%"},children:d[Math.floor(60/2)]}),t.jsx("div",{style:{fontSize:"10px",color:e==="dark"?"#888":"#777",textAlign:"center",width:"33%"},children:d[59]})]})]}),s&&t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:0},onClick:()=>b(null)}),t.jsxs("div",{style:{position:"absolute",top:"10%",left:`${s.index/59*95+5/2}%`,transform:"translateX(-50%)",backgroundColor:e==="dark"?"rgba(30, 30, 30, 0.95)":"rgba(250, 250, 250, 0.95)",color:e==="dark"?"#fff":"#000",padding:"8px 12px",borderRadius:"6px",fontSize:"14px",fontWeight:"bold",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",zIndex:1,border:`1px solid ${e==="dark"?"#555":"#ddd"}`},children:[t.jsx("div",{children:s.date}),t.jsxs("div",{style:{color:s.value>0?e==="dark"?"#ff9900":"#ff6600":p,fontSize:"16px"},children:[s.value," ",r]})]})]})]})},B=()=>{const[e,i]=c.useState("dark"),[r,p]=c.useState(O.prefs[0]),[H,y]=c.useState(O.prefs[4]),j=[{date:"2025-10-19",value:47},{date:"2025-10-21",value:67},{date:"2025-10-25",value:69},{date:"2025-10-17",value:72},{date:"2025-10-29",value:70},{date:"2025-11-04",value:73},{date:"2025-11-08",value:75},{date:"2025-11-12",value:78},{date:"2025-11-17",value:80},{date:"2025-11-24",value:82},{date:"2025-11-28",value:82},{date:"2025-12-05",value:85},{date:"2025-12-11",value:106}];return c.useEffect(()=>{const C=E.subscribe(i),_=m.subscribe(x=>{p(x==="ru"?0:1)}),G=N.subscribe(x=>{y(x)});return()=>{C.unsubscribe(),_.unsubscribe(),G.unsubscribe()}},[]),t.jsxs("div",{style:I(e).container,children:[t.jsx("p",{style:{...I(e,H).text,paddingTop:"10px"},children:"Training Metrics"}),t.jsx("div",{style:I(e).panel,children:t.jsx(z,{theme:e,data:j,mark:"rep",color:"#ca7e4cff"})})]})},I=(e,i)=>({container:{backgroundColor:h.get("background",e),display:"flex",flexDirection:"column",overflowY:"scroll",justifyContent:"start",alignItems:"center",height:"78vh",top:"15vh",width:"100vw",fontFamily:"Segoe UI"},panel:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyContent:"start",borderBottom:`1px solid ${h.get("border",e)}`},text:{textAlign:"left",fontSize:i===0?"13px":"15px",color:h.get("mainText",e)},subtext:{textAlign:"left",fontSize:i===0?"11px":"13px",color:h.get("subText",e)}});export{B as default};
